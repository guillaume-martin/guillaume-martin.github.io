<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Guillaume Martin</title><link href="https://guillaume-martin.github.io/blog/" rel="alternate"></link><link href="https://guillaume-martin.github.io/blog/feeds/all.atom.xml" rel="self"></link><id>https://guillaume-martin.github.io/blog/</id><updated>2019-09-16T13:10:00+08:00</updated><entry><title>Interactives data visualizations with Dash</title><link href="https://guillaume-martin.github.io/blog/interactive-data-visualization-with-dash.html" rel="alternate"></link><published>2019-09-16T13:10:00+08:00</published><updated>2019-09-16T13:10:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2019-09-16:/blog/interactive-data-visualization-with-dash.html</id><summary type="html">&lt;p&gt;A quick introduction to interactive visualizations using Dash.&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Dash is a data visualization framework built from Flask and React. It is a powerful tool for building interactive dashboards that allow inputs from the user and can handle data streaming.
Because it is built from Flask, it is also easy to embed analytics applications into other web applications developped with the Flask framework.&lt;/p&gt;
&lt;p&gt;In this article, I will explore the basic functionalities of Dash that one should know to start making interactive analytic applications.&lt;/p&gt;
&lt;h1&gt;Initializing the application&lt;/h1&gt;
&lt;p&gt;The application is initialized in about the same way as a Flask application:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Set &lt;code&gt;debug&lt;/code&gt; to true when developping so you don't have to restart the server to see the changes you made.&lt;/p&gt;
&lt;p&gt;The Dash application can be split in two parts: &lt;strong&gt;layout&lt;/strong&gt; and &lt;strong&gt;interactivity&lt;/strong&gt;.
The layout part is where we set the organization of the page.
The interactivity part consists of:
    - user interactions.
    - auto refresh (live data).&lt;/p&gt;
&lt;h1&gt;Layout&lt;/h1&gt;
&lt;p&gt;We need two libraries to setup the layout:
- &lt;strong&gt;dash_html_components&lt;/strong&gt;: Instead of writing HTML code to set the page layout, the dash_html_components library provides. 
- &lt;strong&gt;dash_core_components&lt;/strong&gt;: describe higher level interactive components that require HTML, CSS and Javascript (eg. dropdowns, options, etc...).&lt;/p&gt;
&lt;p&gt;Each component is described using keywords attributes. &lt;/p&gt;
&lt;h2&gt;HTML components&lt;/h2&gt;
&lt;p&gt;We create the page layout by nesting the html components the same way we would nest tags (&lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt;) when writing HTML code.
The main attributes are:
- &lt;strong&gt;className&lt;/strong&gt;: set the class(es) of the component.
- &lt;strong&gt;id&lt;/strong&gt;: set the id of the component.
- &lt;strong&gt;style&lt;/strong&gt;: inline styling of the component.&lt;/p&gt;
&lt;p&gt;Example:
In this example, we are going to create a simple page. There is a main division that contains a headline and another division. The second division contains a praragraph. So, to build this page in HTML, we would use the &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt; tags. In Dash, we just have to use the &lt;code&gt;Div()&lt;/code&gt;, &lt;code&gt;H1()&lt;/code&gt; and &lt;code&gt;P()&lt;/code&gt; components from the &lt;code&gt;dash_html_components&lt;/code&gt; library.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_html_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;html&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
                &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;H1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This is my title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
                    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lorem ipsum&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                           &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-paragraph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                           &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-class&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                           &lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;fontSize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
                &lt;span class="p"&gt;],&lt;/span&gt;      
                &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;another-div&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;],&lt;/span&gt;      
            &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;container&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;        
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above script will render the following HTML code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;container&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;This is my title&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;another-div&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;my-paragraph&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;my-class&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: red; font-size: 14px;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            lorem ipsum
        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="bacae28d19656e48a5c454f912a580f9.png" src="/images/c3803539002342ebba29724ca1e49ba1.png"&gt;&lt;/p&gt;
&lt;h2&gt;Styling&lt;/h2&gt;
&lt;h3&gt;Adding style in html component&lt;/h3&gt;
&lt;p&gt;We can add styling by passing a dictionary as the &lt;code&gt;style&lt;/code&gt; argument to the html component:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
                &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a div&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;fontSize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
            &lt;span class="p"&gt;])&lt;/span&gt;      
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: red; font-size: 14px;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    a div
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Adding style from a local &lt;code&gt;.css&lt;/code&gt; file&lt;/h3&gt;
&lt;p&gt;We can save our &lt;code&gt;.css&lt;/code&gt; files in an &lt;code&gt;assets/&lt;/code&gt; directory that we create in our project.
The css files in assets/ will be automatically included when we run our application. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;project/
    |_ app.py
    |_assets/
        |_ styles.css 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Any &lt;code&gt;.js&lt;/code&gt; file and one &lt;code&gt;favicon.ico&lt;/code&gt; file saved in the assets/ directory will also be included.
The files are included in alphanumerical order. It is recommended to prefix the files names with numbers to ensure their orders (e.g. 10_first_file.css, 20_second_file.css, ...).&lt;/p&gt;
&lt;h3&gt;Adding style from a remote &lt;code&gt;.css&lt;/code&gt; file&lt;/h3&gt;
&lt;p&gt;If the assets are on internet, then we pass the &lt;code&gt;assets_url_path&lt;/code&gt; argument to our dash application:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;assets_url_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://your-external-assets-folder-url/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Adding external css&lt;/h3&gt;
&lt;p&gt;We can also include resources that are not hosted with our Dash application. To do so, we create a list of stylesheets. Each stylesheet is saved as a dictionary which keys are the attributes we would add to a &lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt; tag in HTML.&lt;/p&gt;
&lt;p&gt;For example, to use Bootsrap from BootstrapCDN, we would add the following tag in HTML:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt;
      &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&amp;quot;&lt;/span&gt;
      &lt;span class="na"&gt;integrity&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&amp;quot;&lt;/span&gt; 
      &lt;span class="na"&gt;crossorigin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;anonymous&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We can see that the &lt;code&gt;rel&lt;/code&gt;, &lt;code&gt;href&lt;/code&gt;, &lt;code&gt;integrity&lt;/code&gt; and &lt;code&gt;crossorigin&lt;/code&gt; attributes were added to the tag.
In dash, we would declare the &lt;code&gt;external_stylesheet&lt;/code&gt; as like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;external_stylesheets&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;rel&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;stylesheet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;href&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;integrity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;crossorigin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;anonymous&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The stylesheets are then passed to the dash application:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;external_stylesheets&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;external_stylesheets&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, we add bootstrap classes to our html elements. 
Here is a small example that shows how we can style our layout using Bootstrap:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_html_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;html&lt;/span&gt;

&lt;span class="n"&gt;external_stylesheets&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;rel&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;stylesheet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;href&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;integrity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;crossorigin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;anonymous&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;external_stylesheets&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;external_stylesheets&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
        &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1 of 3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;col blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2 of 3 (wider)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;col-6 orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3 of 3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;col green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;row&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;container&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="dash-bootstrap.png" src="/images/8cc25b7cd4eb470388fb0bcbdd36b3e4.png"&gt;&lt;/p&gt;
&lt;h2&gt;Core Components&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;dash_core_components&lt;/code&gt; (dcc) library provides the elements for interactive user interfaces.
Some common input components that can be found in the library are text input, dropdown, slide, checkbox, radio item, button, date picker, ... 
The dcc components are added inside the application layout in the same way the HTML components are:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_html_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;html&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_core_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;dcc&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This is the title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dropdown&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Option 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Option 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Option 3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="9ed96c7d2e6f1cff6b15683c4ff4781e.png" src="/images/c9c76bc709f64fcc800e2640d3d93224.png"&gt;&lt;/p&gt;
&lt;h1&gt;Graph&lt;/h1&gt;
&lt;p&gt;Graphs are set as a &lt;code&gt;dcc.Graph&lt;/code&gt; component in the layout. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Graph&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; 
                &lt;span class="s1"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my_data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;layout&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A simple bar chart&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="simple-bar-chart.png" src="/images/3ffe3f9d84a2411a83ec6205cb8cc7e2.png"&gt;&lt;/p&gt;
&lt;p&gt;We can also use the same syntax as the plotly library:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objs&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;


&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Graph&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
                &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                    &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                    &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Marker&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                        &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#1b9e77&amp;#39;&lt;/span&gt;
                    &lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A bar chart using plotly&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;showlegend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="plotly-graph.png" src="/images/ab4686d63edf48578d54f320f8c61a89.png"&gt;&lt;/p&gt;
&lt;h1&gt;Callback&lt;/h1&gt;
&lt;p&gt;The &lt;code&gt;@app.callback&lt;/code&gt; decorator is where the interactivity happens.&lt;/p&gt;
&lt;p&gt;In the layout, we define an input which is going to be a dcc component like a text field or a dropdown and an output which is going to be an html component where the result is displayed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-input&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;placeholder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;type something&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-output&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then we define a function that is going to process our input and return an output. We also use the &lt;code&gt;@app.callback&lt;/code&gt; decorator where we define our inputs and outputs. Whenever an input property changes, the function will be called.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;dash.dependencies&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Output&lt;/span&gt;

&lt;span class="nd"&gt;@app.callback&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;Output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;component_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-output&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;component_property&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;children&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;component_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-input&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;component_property&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;update_output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;retun&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;You&amp;#39;ve entered {input_value)&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;What the above code does is that whenever you type something in the text field, the &lt;code&gt;update_output()&lt;/code&gt; method will be called. The decorator set that the input is the value of the component with the &lt;code&gt;my-input&lt;/code&gt; id. What the function returns will be sent to the output which is the component with the &lt;code&gt;my-output&lt;/code&gt; id.&lt;/p&gt;
&lt;p&gt;Let's see another example. We're going to have two dropdowns that will let us set the background and foreground colors of a &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dropdown&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;background-color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#7570b3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#d95f02&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#1b9e77&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="n"&gt;placeholder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;background color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;width&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;50%&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;display&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;inline-block&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;]),&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dropdown&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text-color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#000000&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#ffffff&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;grey&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#b8b8b8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;placeholder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;width&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;50%&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;display&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;inline-block&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;]),&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lorem ipsum&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-output&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;


&lt;span class="nd"&gt;@app.callback&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;component_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my-output&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;component_property&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;style&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;component_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;background-color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;component_property&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
     &lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;component_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text-color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;component_property&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;update_output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;backgroud_color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text_color&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;style&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;background-color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;backgroud_color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;color&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;text_color&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;style&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="div-color-change.png" src="/images/d5766458ddd945e4926db2e3c3a089a3.png"&gt;&lt;/p&gt;
&lt;p&gt;In the layout, we define two divisions that contain the dropdowns. A third division with some text will be formatted with the values set in the two dropdowns.
In this case, the callback decorator will get two inputs. Whenever a change is made in any of the inputs, the &lt;code&gt;update_output()&lt;/code&gt; method is called.
The input &lt;code&gt;Input(component_id='background-color', component_property='value')&lt;/code&gt; takes the &lt;em&gt;value&lt;/em&gt; of the HTML component with the &lt;em&gt;background-color&lt;/em&gt; id.
The input &lt;code&gt;Input(component_id='text-color', component_property='value')]&lt;/code&gt; takes the &lt;em&gt;value&lt;/em&gt; of the HTML component with the &lt;em&gt;text-color&lt;/em&gt; id.
The values of the two inputs are then passed as arguments to the &lt;code&gt;update_output()&lt;/code&gt; method: &lt;code&gt;def update_output(backgroud_color, text_color)&lt;/code&gt;. Using those two values, the method will set and return the style as it should be passed in the layout html component.
The output in the callback will tell Dash what to do with the value returned by the method. Here, &lt;code&gt;Output(component_id='my-output', component_property='style')&lt;/code&gt; tells dash to send the value to the &lt;em&gt;style&lt;/em&gt; attribute of the html component with the &lt;em&gt;my-output&lt;/em&gt; id.&lt;/p&gt;
&lt;h1&gt;Live updates&lt;/h1&gt;
&lt;p&gt;To update the graph automatically at certain intervals, we add the &lt;code&gt;dcc.Interval&lt;/code&gt; component to our layout.
We'll set three attributes:
- &lt;strong&gt;id&lt;/strong&gt;: this is the id of the component used as a reference for the input of our callback.
- &lt;strong&gt;intervals&lt;/strong&gt;: this is the time between each update in miliseconds.
- &lt;strong&gt;n_intervals&lt;/strong&gt;: this is the number of the interval. It is incremented at each update.&lt;/p&gt;
&lt;p&gt;As an example, we'll create a small app that draws the distribution of a variable with a normal distribution.&lt;/p&gt;
&lt;p&gt;First, we add the interval component to our layout:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
        &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;H1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This is a live Graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Graph&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;live-graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Interval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;interval-component&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;interval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;n_intervals&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The interval becomes the input of our update method:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@app.callback&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;live-graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;figure&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;interval-component&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;n_intervals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then in the update method, we generate a new value for x ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;... and create a new graph that we'll send to the output.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;figure&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Histogram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;layout&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Distribution of x ({n:,} values)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;count of X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;figure&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Let's put it all together&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_core_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;dcc&lt;/span&gt; 
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dash_html_components&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;html&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objs&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;dash.dependencies&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Output&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dash&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Dash&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Div&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
        &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;H1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This is a live Graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Graph&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;live-graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;dcc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Interval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;interval-component&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;interval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;n_intervals&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;


&lt;span class="nd"&gt;@app.callback&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Output&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;live-graph&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;figure&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;interval-component&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;n_intervals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;update_histogram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="n"&gt;figure&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Histogram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;layout&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Distribution of X ({n:,} values)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;figure&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run_server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here is our small application in action:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Peek 2019-09-05 16-25.gif" src="/images/3b87cd3da44b4a60ae97802e75713bd0.gif"&gt;&lt;/p&gt;
&lt;h1&gt;Integrate with flask&lt;/h1&gt;
&lt;p&gt;As I mentioned at the beginning of this post, Dash is built on Flask. 
There is a very good post written by Oleg Komarov that explains &lt;a href="https://medium.com/@olegkomarov_77860/how-to-embed-a-dash-app-into-an-existing-flask-app-ea05d7a2210b"&gt;how to embed a Dash app into an existing Flask app&lt;/a&gt;.
In his post, Oleg shows an example with a fully functionning complexe flask application.&lt;/p&gt;
&lt;h1&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;In this post, I went through the basics of creating interactive data visualizations using the Dash framework. 
It shows how we can easily create useful dashboards with only a couple of lines of code. &lt;/p&gt;
&lt;h1&gt;Resources&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://github.com/plotly/dash-html-components/blob/master/dash_html_components/H1.py"&gt;dash_html_components&lt;/a&gt;
&lt;a href="https://github.com/plotly/dash-core-components"&gt;dash_core_components&lt;/a&gt;
&lt;a href="https://github.com/plotly/dash"&gt;dash&lt;/a&gt;
&lt;a href="https://pythonprogramming.net/data-visualization-application-dash-python-tutorial-introduction/"&gt;Data Visualization Applications with Dash and Python&lt;/a&gt; by Sentdex
&lt;a href="https://www.youtube.com/watch?v=jO7zyj0fmwE"&gt;Chelsea Douglas: Intro to Dash | PyData Miami 2019 - YouTube&lt;/a&gt;
&lt;a href="https://medium.com/@olegkomarov_77860/how-to-embed-a-dash-app-into-an-existing-flask-app-ea05d7a2210b"&gt;How to embed a Dash app into an existing Flask app&lt;/a&gt;&lt;/p&gt;</content><category term="visualization"></category><category term="python"></category><category term="dash"></category></entry><entry><title>Realtime Analytics with bitmapist4</title><link href="https://guillaume-martin.github.io/blog/bitmapist.html" rel="alternate"></link><published>2019-05-03T00:00:00+08:00</published><updated>2019-05-03T00:00:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2019-05-03:/blog/bitmapist.html</id><summary type="html">&lt;p&gt;A memory efficient and fast tool to analyze your users' activity in real time.&lt;/p&gt;</summary><content type="html">&lt;p&gt;In this post, I'll have a look at bitmaps and how they can help us analyzing our users data. I'll also look at a python library that let us take advantage of bitmaps the easy way.&lt;/p&gt;
&lt;h2&gt;What is bitmap?&lt;/h2&gt;
&lt;p&gt;A bitmap, also called bit array, bit set, bit string or bit vector, is an array that stores bits. It is a mapping from a domain (mostly integers) to bits. A position in the array is called an offset.&lt;/p&gt;
&lt;p&gt;A set of integers {1,2,3,4,5,6,7,8} could be map to the array [0,1,1,0,0,0,1,0].&lt;/p&gt;
&lt;h3&gt;Bit operations&lt;/h3&gt;
&lt;p&gt;We can manipulate the bits in a bitmap using the usual logical operators AND, OR, XOR, NOT.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;set a bit to 1: 11101&lt;mark&gt;0&lt;/mark&gt;10 &lt;strong&gt;OR&lt;/strong&gt; 00000&lt;mark&gt;1&lt;/mark&gt;00 = 11101&lt;mark&gt;1&lt;/mark&gt;10&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;set a bit to 0: 111010&lt;mark&gt;1&lt;/mark&gt;0 &lt;strong&gt;AND&lt;/strong&gt; 111111&lt;mark&gt;0&lt;/mark&gt;1 = 111010&lt;mark&gt;0&lt;/mark&gt;0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;test if a bit is set:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1110101&lt;mark&gt;0&lt;/mark&gt; &lt;strong&gt;AND&lt;/strong&gt; 000000&lt;mark&gt;1&lt;/mark&gt; = 0000000 (= 0 -&amp;gt; the bit is not set)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;111010&lt;mark&gt;1&lt;/mark&gt;0 &lt;strong&gt;AND&lt;/strong&gt; 000000&lt;mark&gt;1&lt;/mark&gt;0 = 000000&lt;mark&gt;1&lt;/mark&gt;0 (&lt;span class="math"&gt;\(\neq\)&lt;/span&gt; 0 -&amp;gt; the bit is set)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;toggle a bit&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;mark&gt;0&lt;/mark&gt;10 &lt;strong&gt;XOR&lt;/strong&gt; 00000&lt;mark&gt;1&lt;/mark&gt;00 = 11101&lt;mark&gt;1&lt;/mark&gt;10&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;11101&lt;mark&gt;1&lt;/mark&gt;10 &lt;strong&gt;XOR&lt;/strong&gt; 00000&lt;mark&gt;1&lt;/mark&gt;00 = 11101&lt;mark&gt;0&lt;/mark&gt;10&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;invert all bits&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NOT&lt;/strong&gt; 10110010 = 01001101&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Redis implementation&lt;/h3&gt;
&lt;p&gt;There is no bitmap data structure in Redis. Bitmaps are stored as strings. However there are built-in functions to work with bitmaps.&lt;/p&gt;
&lt;p&gt;To set a bit, we can use the &lt;a href="https://redis.io/commands/setbit"&gt;&lt;code&gt;SETBIT key offset value&lt;/code&gt;&lt;/a&gt; function.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; SETBIT foo &lt;span class="m"&gt;12&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;integer&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;
&amp;gt; GET foo
&lt;span class="s2"&gt;&amp;quot;\x00\b&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Let's use an example with 8 bits: 11101010&lt;/p&gt;
&lt;p&gt;For each offset where the value is one, we run the command &lt;code&gt;SETBIT bitmap &amp;lt;offset&amp;gt; 1&lt;/code&gt;.
Our bit array is now stored with the key &lt;code&gt;bitmap&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We can get the value of the bit at any offset with the &lt;a href="https://redis.io/commands/getbit"&gt;&lt;code&gt;GETBIT key offset&lt;/code&gt;&lt;/a&gt; command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; GETBIT bitmap &lt;span class="m"&gt;2&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;integer&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&amp;gt; GETBIT bitmap &lt;span class="m"&gt;4&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;integer&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To know how many bits are set to 1, we can use the &lt;a href="https://redis.io/commands/bitcount"&gt;&lt;code&gt;BITCOUNT key [start end]&lt;/code&gt;&lt;/a&gt; command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITCOUNT bitmap
&lt;span class="o"&gt;(&lt;/span&gt;integer&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, we can do bit operations with &lt;a href="https://redis.io/commands/bitop"&gt;&lt;code&gt;BITOP operation destkey key [key...]&lt;/code&gt;&lt;/a&gt; where &lt;code&gt;destkey&lt;/code&gt; is the destination key where the result is stored.
As an example, we are going to set two bitmaps and then find how many bits are set to 1 in both of them.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bitmap1:10011&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bitmap2:01001&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; SETBIT bitmap1 1 1
(integer) 0
&amp;gt; SETBIT bitmap1 4 1
(integer) 0
&amp;gt; SETBIT bitmap1 5 1
(integer) 0
&amp;gt; SETBIT bitmap2 2 1
(integer) 0
&amp;gt; SETBIT bitmap2 5 1
(integer) 0
&amp;gt; BITOP AND both bitmap1 bitmap2
(integer) 1
&amp;gt; BITCOUNT both
(integer) 1
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Use in Analytics&lt;/h3&gt;
&lt;p&gt;Well, this looks nice, but what are we supposed to do with this?&lt;/p&gt;
&lt;p&gt;Using bit operations on Redis is very fast. As a consequence, bitmaps are often used in real time analytics.&lt;/p&gt;
&lt;p&gt;I'll show how it is used with an example. We are a SaaS business and we want to track our users activity. Each of our users is going to have a number as an id (1, 2, 3,...).  We can use that id as the offset in the bitmap. The key in which we store the bitmap would be the activity we are tracking. For example, users' activity for March 1st will be stored in &lt;code&gt;active:2019-03-01&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I have five users with ids going from 0 to 4. On March 1st, users 1 and 4 have been active. We record their activity by setting he bit at their offset to 1:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; SETBIT active:2019-03-01 1 1
(integer) 0
&amp;gt; SETBIT active:2019-03-01 4 1
(integer) 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Our bitmap should look like this: &lt;code&gt;01001&lt;/code&gt;. Now if I want to get the number of active users for March 1st, I get the bit count for that day:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITCOUNT active:2019-03-01
(integer) 2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Two users were active that day.&lt;/p&gt;
&lt;p&gt;If I want to know whether a user had been active on a given day, I just need to get the value of the bit at the offset that matches her id:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; GETBIT active:2019-03-01 2
(integer) 0
&amp;gt; GETBIT active:2019-03-01 4
(integer) 1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;User 2 didn't connect on March 1st, whereas user 4 did.&lt;/p&gt;
&lt;h4&gt;Weekly Active Users (WAU)&lt;/h4&gt;
&lt;p&gt;We've been tracking the activity of our users for quite some times so we have bitmaps for every day. Now, we want to get the WAU which is the number of active users in a given week. A weekly active user is a user who has been active at least one day during the week we're interested in. We need to use the &lt;code&gt;OR&lt;/code&gt; operator on activity on all days of that week. The command will look something like &lt;code&gt;BITOP OR &amp;lt;destination_key&amp;gt; &amp;lt;monday_key&amp;gt; &amp;lt;tuesday_key&amp;gt;...&amp;lt;sunday_key&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For this example, I'll show how to get the WAU for week 10 (March 4th to March 10th). I'll store the active users of the week in the &lt;code&gt;active:2019-w10&lt;/code&gt; key&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP OR active:2019-w10 \
    active:2019-03-04 \
    active:2019-03-05 \
    active:2019-03-06 \
    active:2019-03-07 \
    active:2019-03-08 \
    active:2019-03-09 \
    active:2019-03-10
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I now have a bitmap for week 10 of 2019. If a user has been active at least once during that week, her bit is set to 1. To get the total number of active users for the week (WAU), I use the &lt;code&gt;BITCOUNT&lt;/code&gt; command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BICOUNT active:2019-w10
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Retention&lt;/h4&gt;
&lt;p&gt;Let say we want the retention rate over two periods of time, period 1 and period 2:
&lt;/p&gt;
&lt;div class="math"&gt;$$
Retention\ Rate = \frac{\#\ of\ users\ active\ in\ period\ 1\ AND\ period\ 2 }{\#\ of\ users\ active\ during\ period\ 1}
$$&lt;/div&gt;
&lt;p&gt;
So if we want to get the retention rate between week 10 and week 11, we first need to get the users who were active in both weeks. Assuming we've already aggregated our weekly data: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP AND active:w10+w11 active:w10 active:w11
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The number of users active during both weeks is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITCOUNT active:w10+w11
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We just need to divide this number by the number of users active during week 10 (&lt;code&gt;BITCOUNT active:w10&lt;/code&gt;) and we have our retention rate.&lt;/p&gt;
&lt;p&gt;Note that the Redis CLI does not support arithmetic operations. I cannot type &lt;code&gt;BITCOUNT active:w10+w11 / BITCOUNT active:w10&lt;/code&gt;. &lt;/p&gt;
&lt;h4&gt;Churn&lt;/h4&gt;
&lt;p&gt;The customer churn (also known as customer attrition) is simply the lost of customers.
&lt;/p&gt;
&lt;div class="math"&gt;$$
\%\ Customer\ Churn = \frac{\#\ of\ customers\ who\ churned}{total\ \#\ of\ customers}
$$&lt;/div&gt;
&lt;p&gt;
As an example, we're going to say that a customer has churned if she's not active for three months, let's say Q2 of 2019. We are also going to take into account only the users that were active in Q1. Those who were not active in Q1 churned long ago. I'll assume that we already have aggregated our monthly data.&lt;/p&gt;
&lt;p&gt;First, I get the users active during Q1:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP OR active:2019-Q1 \
    active:2019-01 \
    active:2019-02 \
    active:2019:03
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I do the same  to get users active during Q2:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP OR active:2019-Q2 \
    active:2019-04 \
    active:2019-05 \
    active:2019-06
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then, I invert all the bits of &lt;code&gt;active:2019-Q2&lt;/code&gt; to get users that were inactive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP NOT inactive:2019-Q2 active:2019-Q2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finaly, I find users that were active in Q1 AND inactive in Q2:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; BITOP AND churned:2019-Q2 \
    active:2019-Q1 \
    inactive:2019-Q2
&amp;gt; BITCOUNT churned:2019-Q2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We saw how we can do analytics with bitmaps, but using the Redis command line is not convenient. If we want to do some arithmetic, or generate nice reports, we will have to use another language. &lt;/p&gt;
&lt;p&gt;For those using Python, there is the &lt;a href="https://pypi.org/project/redis/"&gt;redis package&lt;/a&gt; that would let us interface with our Redis database. But there are also a python library and a server developed by the &lt;a href="doist.com"&gt;Doist&lt;/a&gt; team. &lt;/p&gt;
&lt;h2&gt;Doist applications&lt;/h2&gt;
&lt;h3&gt;bitmapist-server&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/Doist/bitmapist-server"&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;bitmapist-server is a standalone server developed by Doist to be used with their bitmapist library.
Redis stores bitmaps in plain bytes arrays. This implementation can require a lot of memory when working with large sparse bitmaps. This can be the case if you're tracking users' activity. If you have millions of users but a small fraction of them is active on any given day, you will end up with a bitmap that as millions of bytes but only few of them are set to 1.&lt;/p&gt;
&lt;p&gt;The bitmapist-server helps saving memory using two techniques:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://roaringbitmap.org/"&gt;compressed bitmap representation&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;only keeping &lt;em&gt;hot&lt;/em&gt; dataset in memory.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The Doist team claims that a dataset that would use 129.48G on redis only uses 300M on bitmapist-server.&lt;/p&gt;
&lt;h3&gt;bitmapist4&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/Doist/bitmapist4"&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bitmapist4 is a python library that let us easily manipulate bitmaps on Redis or bitmapist-server. It provides functions for easily saving events and aggregate automatically weekly and monthly data. It also has a cohort module that helps us run cohort analysis in only a few lines of code.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;h3&gt;Run bitmapist-server&lt;/h3&gt;
&lt;p&gt;You can build the server from source following the instructions on &lt;a href="https://github.com/Doist/bitmapist-server"&gt;github&lt;/a&gt;, but there's a Dockerfile in the repository and using containers is a lot easier. So we are going to create a bitmapist-server container and run it. If you don't have docker installed on your computer you can download it &lt;a href="https://www.docker.com/products/docker-desktop"&gt;here&lt;/a&gt; for Mac and Windows. For linux, instructions can be found on https://docs.docker.com/install/linux/docker-ce/&lt;distro&gt;/ (replace distro with centos, debian, fedora, ubuntu or binaries).&lt;/p&gt;
&lt;p&gt;Build the docker image:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ git clone https://github.com/Doist/bitmapist-server.git
$ &lt;span class="nb"&gt;cd&lt;/span&gt; bitmapist-server
$ docker build -t bitmapist-server:latest ./
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run the container:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker container run -d -p &lt;span class="m"&gt;6379&lt;/span&gt;:6379 --name bitmapist-server bitmapist-server
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Control that the container is running&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker container ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
8fc1ab9d39f1        bitmapist-server    &lt;span class="s2"&gt;&amp;quot;./bitmapist-server …&amp;quot;&lt;/span&gt;   &lt;span class="m"&gt;20&lt;/span&gt; hours ago        Up &lt;span class="m"&gt;5&lt;/span&gt; minutes        &lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:6379-&amp;gt;6379/tcp   bitmapist-server
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Install bitmapist4&lt;/h3&gt;
&lt;p&gt;To install the bitmapist4 library, simply type the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ pip install bitmapist4
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Dataset&lt;/h3&gt;
&lt;p&gt;For this tutorial, I use the dataset from the &lt;em&gt;WSDM - KKBox's Churn Prediction Challenge&lt;/em&gt; competition hosted on kaggle. It can be downloaded &lt;a href="https://www.kaggle.com/c/kkbox-churn-prediction-challenge/data"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is a good dataset because it contains the logs of the users' activity. I will use the &lt;code&gt;members_v3.csv&lt;/code&gt; and &lt;code&gt;user_logs.csv&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;The data descriptions given by Kaggle are as follow:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;members.csv&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is the users' information. Note that not every user in the dataset is available. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;msno&lt;/li&gt;
&lt;li&gt;city  &lt;/li&gt;
&lt;li&gt;bd: age. &lt;/li&gt;
&lt;li&gt;gender    &lt;/li&gt;
&lt;li&gt;registered_via: registration method&lt;/li&gt;
&lt;li&gt;registration_init_time: format &lt;code&gt;%Y%m%d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;expiration_date: format &lt;code&gt;%Y%m%d&lt;/code&gt;, taken as a snapshot at which the member.csv is extracted. Not representing the actual churn behavior.   &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's have a look at the first lines:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ head -n &lt;span class="m"&gt;5&lt;/span&gt; members_v3.csv
msno,city,bd,gender,registered_via,registration_init_time
Rb9UwLQTrxzBVwCB6+bCcSQWZ9JiNLC9dXtM1oEsZA8&lt;span class="o"&gt;=&lt;/span&gt;,1,0,,11,20110911
+tJonkh+O1CA796Fm5X60UMOtB6POHAwPjbTRVl/EuU&lt;span class="o"&gt;=&lt;/span&gt;,1,0,,7,20110914
&lt;span class="nv"&gt;cV358ssn7a0f7jZOwGNWS07wCKVqxyiImJUX6xcIwKw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;,1,0,,11,20110915
9bzDeJP6sQodK73K5CBlJ6fgIQzPeLnRl0p5B77XP+g&lt;span class="o"&gt;=&lt;/span&gt;,1,0,,11,20110915
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;msno&lt;/code&gt; is the id of the user. This is a string, however, we need integers to save data in bitmaps as the id is going to be the offset at which we save the user's bit. We'll ignore &lt;code&gt;city&lt;/code&gt;, &lt;code&gt;bd&lt;/code&gt; and &lt;code&gt;gender&lt;/code&gt; to keep things simple.&lt;/p&gt;
&lt;p&gt;Let's control how many lines the file has:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ wc -l members_v3.csv
&lt;span class="m"&gt;6769474&lt;/span&gt; members_v3.csv
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The file has a little bit less than 6.8 million lines.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;user_logs.csv&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Those are the daily user logs describing listening behavior of a user. The data has been collected until 2/28/2017. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;msno: user id&lt;/li&gt;
&lt;li&gt;date: format &lt;code&gt;%Y%m%d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;num_25: # of songs played less than 25% of the song length&lt;/li&gt;
&lt;li&gt;num_50: # of songs played between 25% to 50% of the song length&lt;/li&gt;
&lt;li&gt;num_75: # of songs played between 50% to 75% of of the song length&lt;/li&gt;
&lt;li&gt;num_985: # of songs played between 75% to 98.5% of the song length&lt;/li&gt;
&lt;li&gt;num_100: # of songs played over 98.5% of the song length&lt;/li&gt;
&lt;li&gt;num_unq: # of unique songs played&lt;/li&gt;
&lt;li&gt;total_secs: total seconds played&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's have a look at the first lines&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ head -n &lt;span class="m"&gt;5&lt;/span&gt; user_logs.csv
msno,date,num_25,num_50,num_75,num_985,num_100,num_unq,total_secs
rxIP2f2aN0rYNp+toI0Obt/N/FYQX8hcO1fTmmy2h34&lt;span class="o"&gt;=&lt;/span&gt;,20150513,0,0,0,0,1,1,280.3350
rxIP2f2aN0rYNp+toI0Obt/N/FYQX8hcO1fTmmy2h34&lt;span class="o"&gt;=&lt;/span&gt;,20150709,9,1,0,0,7,11,1658.9480
&lt;span class="nv"&gt;yxiEWwE9VR5utpUecLxVdQ5B7NysUPfrNtGINaM2zA8&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;,20150105,3,3,0,0,68,36,17364.9560
&lt;span class="nv"&gt;yxiEWwE9VR5utpUecLxVdQ5B7NysUPfrNtGINaM2zA8&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;,20150306,1,0,1,1,97,27,24667.3170
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Each line represents the activity of a user on a given day. In the following examples, I will ignore the information related to the number of songs played or the duration of the session. I will only record whether on a given day a user had been active, i.e. for each line, I will set the user's bit to 1 for that day. For example, the first line will be saved in &lt;code&gt;active:2015-05-13&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let's control how many lines the file has.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ wc -l user_logs.csv
&lt;span class="m"&gt;47375490&lt;/span&gt; user_logs.csv
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;user_logs.csv&lt;/code&gt; file has over 47 millions lines.&lt;/p&gt;
&lt;h2&gt;Loading the data&lt;/h2&gt;
&lt;p&gt;Before starting working on analytics, we need to save the data from the csv files into the bitmapist-server.
I have two issues to deal with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The users ids are strings but I need an integer because the id is the offset in the bitmap array.&lt;/li&gt;
&lt;li&gt;I can't load the entire logs at once because my computer doesn't have enough memory.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So here is how I am going to proceed:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Save data from the &lt;code&gt;members_v3.csv&lt;/code&gt; file. &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There are no duplicate users (&lt;code&gt;msno&lt;/code&gt;). For each line, I can assign an integer to the &lt;code&gt;msno&lt;/code&gt; and save the pair in a dictionary.  Then, I increment the integer before the next line. I will have an integer id for each user that I can use to mark an event.&lt;/p&gt;
&lt;p&gt;For each line, I will mark two events: the &lt;em&gt;date of registration&lt;/em&gt; (&lt;code&gt;registration_init_time&lt;/code&gt;) and the &lt;em&gt;registration method&lt;/em&gt; (&lt;code&gt;registered_via&lt;/code&gt;). I can use the &lt;code&gt;transaction()&lt;/code&gt; method to take advantage of &lt;a href="https://redis.io/topics/pipelining"&gt;Redis pipelining&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;members_file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;../data/members_v3.csv&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;id_dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;members_file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# skip the headers&lt;/span&gt;
   &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
   &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;id_int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
       &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
       &lt;span class="c1"&gt;# add the user id to the id dictionary&lt;/span&gt;
       &lt;span class="n"&gt;id_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id_int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

       &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transaction&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
           &lt;span class="c1"&gt;# save registration date for cohort analysis&lt;/span&gt;
           &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_event&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                       &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])]),&lt;/span&gt;
                       &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

           &lt;span class="c1"&gt;# save registration method&lt;/span&gt;
           &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered_via:{row[4]}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                       &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])]))&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;I iterate through the &lt;code&gt;user_logs.csv&lt;/code&gt; file and mark an &lt;code&gt;active&lt;/code&gt; event for each line. &lt;/p&gt;
&lt;p&gt;Because the dataset is quite large and I don't need all the data, I'll load only the rows for 2016.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;log_file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;../data/user_logs.csv&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;log_file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;# we keep only the logs of users in members dataset and logs for 2016&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;id_dict&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2016&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_event&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;id_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; 
                         &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;b.mark_event() and b.unique()&lt;/h3&gt;
&lt;p&gt;The interesting part in the loading script are the &lt;code&gt;mark_event()&lt;/code&gt; and &lt;code&gt;mark_unique()&lt;/code&gt; methods. Let's see what they do.&lt;/p&gt;
&lt;p&gt;b is an instance of the &lt;code&gt;Bitmapist&lt;/code&gt; class. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bitmapist4&lt;/span&gt;

&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bitmapist4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Bitmapist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prefix_key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;kkbox__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The prefix key is a string that will be added to the redis key. The default value is &lt;code&gt;bitmapist_&lt;/code&gt;, but if you want to track multiple applications, you could differentiate them with the prefix.&lt;/p&gt;
&lt;h4&gt;mark_event()&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;mark_event()&lt;/code&gt; method let us record that an event has happened at a certain time. It takes the following arguments:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;event_name&lt;/code&gt; (string): the name of the event you are recording (e.g. 'active')&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uuid&lt;/code&gt; (integer): the id of the user. &lt;/li&gt;
&lt;li&gt;&lt;code&gt;timestamp&lt;/code&gt; (datetime): the time at which the event happened. If ignored, it will be marked now in UTC timezone (&lt;code&gt;datetime.datetime.utcnow()&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;track_hourly&lt;/code&gt; (boolean): the default is False, but you can set it to True if you want to track hourly events. &lt;/li&gt;
&lt;li&gt;&lt;code&gt;track_unique&lt;/code&gt; (boolean):  set to True if you want to also mark the unique event. For example, you want to track usage of a feature. Every time someone used that feature, you will mark the event at the day the feature was used (e.g. set the bit to 1 for id 123 for key &lt;code&gt;feature_used:2019-03-01&lt;/code&gt;). That way, you can track who used the feature on any given day. But you may also want to know who ever used this feature. This data is not time specific. In this case, you set &lt;code&gt;track_unique&lt;/code&gt; to &lt;code&gt;True&lt;/code&gt; and the event is also recorded without the timestamp (e.g. set the bit to 1 for id 123 for key &lt;code&gt;feature_used&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When you mark an event with a timestamp, Bitmapist will automatically save the event for the month, week and day. Which mean that you don't have to aggregate the data later using bit operations. &lt;/p&gt;
&lt;h4&gt;mark_unique()&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;mark_unique()&lt;/code&gt; method only takes the &lt;code&gt;event_name&lt;/code&gt; and &lt;code&gt;uuid&lt;/code&gt; arguments. It is used to save events for which the time is not important. In our example, I marked the registration method as a unique event because all I want to know is how the user registered, I don't care about the date (it was saved with the &lt;em&gt;registered&lt;/em&gt; event).&lt;/p&gt;
&lt;h2&gt;Analytics&lt;/h2&gt;
&lt;p&gt;Now that our data is saved in our bitmapist server, we can start the fun part: data analysis!&lt;/p&gt;
&lt;h3&gt;Users Activity&lt;/h3&gt;
&lt;h4&gt;Daily Active Users (DAU)&lt;/h4&gt;
&lt;p&gt;I can get the number of users active on any given day using &lt;code&gt;DayEvents()&lt;/code&gt; with the &lt;code&gt;active&lt;/code&gt; event name.&lt;/p&gt;
&lt;p&gt;There are two ways to extract the information for a specific date:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# set up the date to April 3rd, 2016&lt;/span&gt;
&lt;span class="n"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# method one&lt;/span&gt;
&lt;span class="n"&gt;dau&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DayEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;There were {count:,} users active on April 3rd, 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# method two&lt;/span&gt;
&lt;span class="n"&gt;dau&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DayEvents&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;There were {count:,} users active on April 3rd, 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;There were 62,507 users active on April 3rd, 2016.
There were 62,507 users active on April 3rd, 2016.
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Weekly Active User (WAU)&lt;/h4&gt;
&lt;p&gt;The same way I could extract the number of users active on a given day, I can also extract the users active on a specific week. Remember that when we marked the event, bitmapist automatically saved the weekly and monthly data. So I just have to use &lt;code&gt;WeekEvents()&lt;/code&gt; with the &lt;code&gt;active&lt;/code&gt; event name.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wau&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WeekEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 14 is the week number&lt;/span&gt;
&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;WeekEvents&lt;/code&gt; class takes a &lt;code&gt;year&lt;/code&gt; and a &lt;code&gt;week&lt;/code&gt; arguments. If you don't have the week number, you can use the &lt;code&gt;from_date()&lt;/code&gt; classmethod instead of extracting the week number from the date by yourself:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wau&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WeekEvents&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;There were {count:,} users active on week 13 of 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;There were 156,759 users active on week 13 of 2016.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we don't provide the date, bitmapist will return the data for now. That means we would have live data about how many users were active today, this week, this month, ...&lt;/p&gt;
&lt;h4&gt;Retention&lt;/h4&gt;
&lt;p&gt;As we saw earlier, the retention is the percentage of users active during a period and that were also active the following one. In the example I used, we looked at the retention rate between week 10 and 11. Let's see how we could get this information with bitmapist:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;active_w10&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WeekEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;active_W10_w11&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;active_w10&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WeekEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;retention&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;active_W10_w11&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;active_w10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{retention * 100:.0f}&lt;/span&gt;&lt;span class="si"&gt;% o&lt;/span&gt;&lt;span class="s1"&gt;f users active in week 10 were still active in week 11.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;47% of users active in week 10 were still active in week 11.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To get the number of users active both week, I used the &lt;code&gt;&amp;amp;&lt;/code&gt; operator. Bitmapist let us use such operators to compare or combine bitmaps. Let's have a look.&lt;/p&gt;
&lt;h4&gt;Bit operations&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;NOT (~)&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Not active in January&lt;/span&gt;
&lt;span class="n"&gt;jan_inactives&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(jan_inactives):,} users were not active in January 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;6,360,354 users were not active in January 2016.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;AND (&amp;amp;)&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# active in both January and February&lt;/span&gt;
&lt;span class="n"&gt;jan_and_feb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(jan_and_feb):,} users were active in January and February 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;127,278 users were active in January and February 2016.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We can also combine operators.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# active one month but not the following one&lt;/span&gt;
&lt;span class="n"&gt;jan_not_feb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(jan_not_feb):,} users were active in January 2016 but not active in February.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;281,840 users were active in January 2016 but not active in February.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;OR (|)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We don't have quarters data in Bitmapist. We can use the OR operator to aggregate it ourselves:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# active in quarter 1&lt;/span&gt;
&lt;span class="n"&gt;actives_q1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; \
             &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; \
             &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(actives_q1):,} users were active during the first quarter of 2016.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;810,499 users were active during the first quarter of 2016.
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Churn&lt;/h4&gt;
&lt;p&gt;Let's look now at how bitmapist can help us get the churn between Q1 and Q2. The active users in Q1 are all the users that were active during one the three months of the quarter. I'll use the &lt;code&gt;|&lt;/code&gt; (OR) operator. I also need to know which users were not active during the second quarter. Those are the users who were not active in any month of the quarter. I'll use the &lt;code&gt;~&lt;/code&gt; (NOT) operator to get the inactive users of each month and the &lt;code&gt;&amp;amp;&lt;/code&gt; (AND) operator to aggregate the three months activity.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;actives_q1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; \
             &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; \
             &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 

&lt;span class="n"&gt;inactives_q2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; \
               &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; \
               &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 

&lt;span class="n"&gt;churn_q2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;actives_q1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;inactives_q2&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(churn_q2):,} users churned in the second quarter.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;210,409 users churned in the second quarter.
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Cohort analysis&lt;/h3&gt;
&lt;p&gt;Bitmapist also has a &lt;code&gt;cohort&lt;/code&gt; module that does all the heavy work for us. &lt;/p&gt;
&lt;p&gt;First, I get ready...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bitmapist4&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Bitmapist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cohort&lt;/span&gt;

&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Bitmapist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key_prefix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;kkbox_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then I get my cohort table. The &lt;code&gt;cohort&lt;/code&gt; module has a &lt;code&gt;get_cohort_table()&lt;/code&gt; method.
We need to provide the cohort and the activity. The cohort is how we group the users (e.g. registration date)  and the activity is what we are tracking (e.g. the active event).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table_pct&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cohort&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_cohort_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                    &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                    &lt;span class="n"&gt;rows&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;39&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table_pct&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;CohortTable([
  CohortRow(&amp;#39;01 Jan 2016&amp;#39;, 253156, [13.738564363475485, 6.1945993774589585, 5.25328256095056, 5.003239109481901, 5.020619696945757, 4.761490938393718, 4.838123528575266, 4.733444990440677, 4.597955410892888, 4.7117192561108565, 4.7373951239551895, 4.634691652577857, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]),
  CohortRow(&amp;#39;01 Feb 2016&amp;#39;, 208170, [13.772877936302061, 7.072104529951482, 5.54834990632656, 5.474852284190805, 5.145794302733343, 5.092472498438776, 5.010328097228227, 4.960368929240524, 5.049718979680069, 5.022337512609886, 4.959888552625258, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]),
  CohortRow(&amp;#39;01 Mar 2016&amp;#39;, 195618, [13.599464261979982, 6.271406516782709, 5.1667024506947214, 4.843623797401057, 4.732693310431555, 4.630453230275332, 4.580866791399565, 4.66572605792923, 4.756208528867487, 4.539970759337075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]),
 ...
   CohortRow(&amp;#39;01 Jan 2019&amp;#39;, 0, [0, 0, 0]),
   CohortRow(&amp;#39;01 Feb 2019&amp;#39;, 0, [0, 0]),
   CohortRow(&amp;#39;01 Mar 2019&amp;#39;, 0, [0])])
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I am just showing the first  and last three rows. The &lt;code&gt;nrows&lt;/code&gt; arguments set how many rows the table has.  We can see that the last row of the table is March 2019. This is the time at which the table starts. So if I want to make a cohort analysis on my data, I need to set &lt;code&gt;row=39&lt;/code&gt; so that the table has enough rows to include the 2016 cohorts.&lt;/p&gt;
&lt;p&gt;The data is not easy to read. We can convert it into a DataFrame using the &lt;code&gt;df()&lt;/code&gt; method. I also keep only the useful rows using &lt;code&gt;.iloc[:12]&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table_pct&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;cohort&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;th&gt;...&lt;/th&gt;
&lt;th&gt;29&lt;/th&gt;
&lt;th&gt;30&lt;/th&gt;
&lt;th&gt;31&lt;/th&gt;
&lt;th&gt;32&lt;/th&gt;
&lt;th&gt;33&lt;/th&gt;
&lt;th&gt;34&lt;/th&gt;
&lt;th&gt;35&lt;/th&gt;
&lt;th&gt;36&lt;/th&gt;
&lt;th&gt;37&lt;/th&gt;
&lt;th&gt;38&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;01 Jan 2016&lt;/td&gt;
&lt;td&gt;253156&lt;/td&gt;
&lt;td&gt;13.738564&lt;/td&gt;
&lt;td&gt;6.194599&lt;/td&gt;
&lt;td&gt;5.253283&lt;/td&gt;
&lt;td&gt;5.003239&lt;/td&gt;
&lt;td&gt;5.020620&lt;/td&gt;
&lt;td&gt;4.761491&lt;/td&gt;
&lt;td&gt;4.838124&lt;/td&gt;
&lt;td&gt;4.733445&lt;/td&gt;
&lt;td&gt;4.597955&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;01 Feb 2016&lt;/td&gt;
&lt;td&gt;208170&lt;/td&gt;
&lt;td&gt;13.772878&lt;/td&gt;
&lt;td&gt;7.072105&lt;/td&gt;
&lt;td&gt;5.548350&lt;/td&gt;
&lt;td&gt;5.474852&lt;/td&gt;
&lt;td&gt;5.145794&lt;/td&gt;
&lt;td&gt;5.092472&lt;/td&gt;
&lt;td&gt;5.010328&lt;/td&gt;
&lt;td&gt;4.960369&lt;/td&gt;
&lt;td&gt;5.049719&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;01 Mar 2016&lt;/td&gt;
&lt;td&gt;195618&lt;/td&gt;
&lt;td&gt;13.599464&lt;/td&gt;
&lt;td&gt;6.271407&lt;/td&gt;
&lt;td&gt;5.166702&lt;/td&gt;
&lt;td&gt;4.843624&lt;/td&gt;
&lt;td&gt;4.732693&lt;/td&gt;
&lt;td&gt;4.630453&lt;/td&gt;
&lt;td&gt;4.580867&lt;/td&gt;
&lt;td&gt;4.665726&lt;/td&gt;
&lt;td&gt;4.756209&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;That's better, but what do those numbers mean?&lt;/p&gt;
&lt;p&gt;The index identify the cohort. The first row is for the users who registered in January 2016. 
The cohort column gives us the size of the cohort (i.e. how many users registered that month):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# registered in January&lt;/span&gt;
&lt;span class="n"&gt;january&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{len(january):,} users registered in January&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;253,156 users registered in January
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The following columns give us the percentage of users from that cohort who are active for this period. For the January cohort, 0 is January, 1 is February and so on. For the February cohort, 0 is February, 1 is March, ... :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# how many users were active in January&lt;/span&gt;
&lt;span class="n"&gt;active_jan&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;january&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;active_jan_num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;active_jan&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;active_jan_pct&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;active_jan_num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;january&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{active_jan_num:,} of those users were active the same month. That is {active_jan_pct:.6f} percents.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;34,780 of those users were active the same month. That is 13.738564 percents.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This &lt;code&gt;13.738564&lt;/code&gt; percents is the number we can read in the column 1 of the January cohort row.:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;cohort&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;01 Jan 2016&lt;/td&gt;
&lt;td&gt;253156&lt;/td&gt;
&lt;td&gt;13.738564&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;If you need users count instead of percentages, you can set the &lt;code&gt;user_percent&lt;/code&gt; parameter to False.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table_cnt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cohort&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_cohort_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                &lt;span class="n"&gt;rows&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;39&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                &lt;span class="n"&gt;use_percent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table_cnt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;cohort&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;th&gt;...&lt;/th&gt;
&lt;th&gt;29&lt;/th&gt;
&lt;th&gt;30&lt;/th&gt;
&lt;th&gt;31&lt;/th&gt;
&lt;th&gt;32&lt;/th&gt;
&lt;th&gt;33&lt;/th&gt;
&lt;th&gt;34&lt;/th&gt;
&lt;th&gt;35&lt;/th&gt;
&lt;th&gt;36&lt;/th&gt;
&lt;th&gt;37&lt;/th&gt;
&lt;th&gt;38&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;01 Jan 2016&lt;/td&gt;
&lt;td&gt;253156&lt;/td&gt;
&lt;td&gt;34780&lt;/td&gt;
&lt;td&gt;15682.0&lt;/td&gt;
&lt;td&gt;13299.0&lt;/td&gt;
&lt;td&gt;12666.0&lt;/td&gt;
&lt;td&gt;12710.0&lt;/td&gt;
&lt;td&gt;12054.0&lt;/td&gt;
&lt;td&gt;12248.0&lt;/td&gt;
&lt;td&gt;11983.0&lt;/td&gt;
&lt;td&gt;11640.0&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;01 Feb 2016&lt;/td&gt;
&lt;td&gt;208170&lt;/td&gt;
&lt;td&gt;28671&lt;/td&gt;
&lt;td&gt;14722.0&lt;/td&gt;
&lt;td&gt;11550.0&lt;/td&gt;
&lt;td&gt;11397.0&lt;/td&gt;
&lt;td&gt;10712.0&lt;/td&gt;
&lt;td&gt;10601.0&lt;/td&gt;
&lt;td&gt;10430.0&lt;/td&gt;
&lt;td&gt;10326.0&lt;/td&gt;
&lt;td&gt;10512.0&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;01 Mar 2016&lt;/td&gt;
&lt;td&gt;195618&lt;/td&gt;
&lt;td&gt;26603&lt;/td&gt;
&lt;td&gt;12268.0&lt;/td&gt;
&lt;td&gt;10107.0&lt;/td&gt;
&lt;td&gt;9475.0&lt;/td&gt;
&lt;td&gt;9258.0&lt;/td&gt;
&lt;td&gt;9058.0&lt;/td&gt;
&lt;td&gt;8961.0&lt;/td&gt;
&lt;td&gt;9127.0&lt;/td&gt;
&lt;td&gt;9304.0&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;We can improve the display further using the &lt;code&gt;stylize()&lt;/code&gt; method. It will format the percentages correctly and highlight some data.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;cohort&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stylize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="stylized df" src="images/bitmapist_stylized_df.png"&gt;&lt;/p&gt;
&lt;h4&gt;Visualize our cohorts&lt;/h4&gt;
&lt;p&gt;Now that our cohort data is stored in a dataframe, it is easy to create visualizations from it.&lt;/p&gt;
&lt;h5&gt;Cohort heatmap&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;months&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1900&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;%b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;im&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Blues&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;months&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;months&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;dimgrey&amp;#39;&lt;/span&gt;
        &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{value:.1f}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;months&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cohorts&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Cohort Analysis for 2016&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="cohort heatmap" src="/images/bitmapist_cohort_heatmap.jpg"&gt;&lt;/p&gt;
&lt;h5&gt;Cohorts Plots&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;months&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;months&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;% o&lt;/span&gt;&lt;span class="s1"&gt;f active users&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Cohort Analysis for 2016&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="cohorts plots" src="/images/bitmapist_cohorts_plots.jpg"&gt;&lt;/p&gt;
&lt;h2&gt;Registration methods cohorts&lt;/h2&gt;
&lt;p&gt;We are now going to use bitmapist to run a cohort analysis where we group users by registration method. We want to know what method has the highest user retention. &lt;/p&gt;
&lt;p&gt;First, I need to get all the registration methods. Bitmapist has a method to extract all the events that have been saved: &lt;code&gt;get_event_names()&lt;/code&gt;.  The registration method was saved as a unique event. Getting all the events names will give me the registration methods.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_event_names&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s s-Atom"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:-1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:10&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:11&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:13&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:14&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:16&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:17&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:18&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:19&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:6&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:7&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="s s-Atom"&gt;&amp;#39;registered_via:9&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All I have to do now is extract the number from the &lt;code&gt;registered_via:#&lt;/code&gt; events.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;registration_methods&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_event_names&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[&amp;#39;-1&amp;#39;,
 &amp;#39;1&amp;#39;,
 &amp;#39;10&amp;#39;,
 &amp;#39;11&amp;#39;,
 &amp;#39;13&amp;#39;,
 &amp;#39;14&amp;#39;,
 &amp;#39;16&amp;#39;,
 &amp;#39;17&amp;#39;,
 &amp;#39;18&amp;#39;,
 &amp;#39;19&amp;#39;,
 &amp;#39;2&amp;#39;,
 &amp;#39;3&amp;#39;,
 &amp;#39;4&amp;#39;,
 &amp;#39;5&amp;#39;,
 &amp;#39;6&amp;#39;,
 &amp;#39;7&amp;#39;,
 &amp;#39;8&amp;#39;,
 &amp;#39;9&amp;#39;]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next, as I only saved the activity data for 2016, I am only going to consider the users who registered in 2016. I create a &lt;code&gt;base_users&lt;/code&gt; bitmap:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;base_users&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;YearEvent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Before going further, I want to have a look at how many user used each method to register.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;users_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;UniqueEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered_via:{m}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;base_users&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;registration_methods&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;methods&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;registration_methods&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="s1"&gt;&amp;#39;users_count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;users_count&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;users_count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;methods&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="methods users count" src="/images/bitmapist_methods_users-count.jpg"&gt;&lt;/p&gt;
&lt;p&gt;I used the &lt;code&gt;AND&lt;/code&gt; operator to limit the registrations to 2016 : &lt;code&gt;b.UniqueEvents(f'registered_via:{m}') &amp;amp; base_users&lt;/code&gt;. 
Most users registered via method 4. After that, some users registered via methods 7, 9, 3. I will ignore the other methods in the following analysis. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# I create a matrix where I&amp;#39;ll store the data that&lt;/span&gt;
&lt;span class="c1"&gt;# I&amp;#39;ll use later to generate a dataframe&lt;/span&gt;
&lt;span class="n"&gt;matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="c1"&gt;# I&amp;#39;ll add one row per method to the matrix.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
    &lt;span class="c1"&gt;# The first element of the row is the name of the cohort.&lt;/span&gt;
    &lt;span class="c1"&gt;# Here, I use the registration method.&lt;/span&gt;
    &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="c1"&gt;# The next element is the number of users who registered &lt;/span&gt;
    &lt;span class="c1"&gt;# using this method in 2016. &lt;/span&gt;
    &lt;span class="n"&gt;users&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;UniqueEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered_via:{method}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;base_users&lt;/span&gt;
    &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;users&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="c1"&gt;# The following cells are the percentage of users that are active&lt;/span&gt;
    &lt;span class="c1"&gt;# n months after their registration, n being the period.&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;period&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;actives&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;users&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;
                      &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registered&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; 
                      &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MonthEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;period&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; 
        &lt;span class="n"&gt;pct_active&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;actives&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;actives&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pct_active&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matrix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;method&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;users_count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matrix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;method&lt;/th&gt;
&lt;th&gt;users_count&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;th&gt;9&lt;/th&gt;
&lt;th&gt;10&lt;/th&gt;
&lt;th&gt;11&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;84791&lt;/td&gt;
&lt;td&gt;14.572301&lt;/td&gt;
&lt;td&gt;8.024437&lt;/td&gt;
&lt;td&gt;5.762404&lt;/td&gt;
&lt;td&gt;4.823625&lt;/td&gt;
&lt;td&gt;4.213891&lt;/td&gt;
&lt;td&gt;3.515703&lt;/td&gt;
&lt;td&gt;3.001498&lt;/td&gt;
&lt;td&gt;2.549799&lt;/td&gt;
&lt;td&gt;2.171221&lt;/td&gt;
&lt;td&gt;1.763159&lt;/td&gt;
&lt;td&gt;1.142810&lt;/td&gt;
&lt;td&gt;0.622708&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;1890005&lt;/td&gt;
&lt;td&gt;12.737903&lt;/td&gt;
&lt;td&gt;2.842638&lt;/td&gt;
&lt;td&gt;1.521477&lt;/td&gt;
&lt;td&gt;1.296399&lt;/td&gt;
&lt;td&gt;1.123172&lt;/td&gt;
&lt;td&gt;0.987564&lt;/td&gt;
&lt;td&gt;0.852432&lt;/td&gt;
&lt;td&gt;0.715871&lt;/td&gt;
&lt;td&gt;0.588570&lt;/td&gt;
&lt;td&gt;0.462962&lt;/td&gt;
&lt;td&gt;0.325766&lt;/td&gt;
&lt;td&gt;0.154920&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;168888&lt;/td&gt;
&lt;td&gt;21.171427&lt;/td&gt;
&lt;td&gt;30.015750&lt;/td&gt;
&lt;td&gt;26.596324&lt;/td&gt;
&lt;td&gt;24.227891&lt;/td&gt;
&lt;td&gt;22.440315&lt;/td&gt;
&lt;td&gt;19.428852&lt;/td&gt;
&lt;td&gt;16.647719&lt;/td&gt;
&lt;td&gt;13.998034&lt;/td&gt;
&lt;td&gt;11.956445&lt;/td&gt;
&lt;td&gt;10.514068&lt;/td&gt;
&lt;td&gt;7.727014&lt;/td&gt;
&lt;td&gt;4.245417&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;90800&lt;/td&gt;
&lt;td&gt;18.244493&lt;/td&gt;
&lt;td&gt;16.658590&lt;/td&gt;
&lt;td&gt;13.555066&lt;/td&gt;
&lt;td&gt;11.843612&lt;/td&gt;
&lt;td&gt;10.251101&lt;/td&gt;
&lt;td&gt;8.642070&lt;/td&gt;
&lt;td&gt;7.219163&lt;/td&gt;
&lt;td&gt;5.938326&lt;/td&gt;
&lt;td&gt;4.606828&lt;/td&gt;
&lt;td&gt;3.592511&lt;/td&gt;
&lt;td&gt;2.359031&lt;/td&gt;
&lt;td&gt;1.219163&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I can now create a heatmap from the dataframe to easily visualize the retention rate per registration method.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;cohorts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;method&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;periods&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="n"&gt;im&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Blues&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;periods&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cohorts&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;dimgrey&amp;#39;&lt;/span&gt;
        &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{value:.1f}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;months&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cohorts&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Cohort Analysis for 2016&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="methods cohorts heatmap" src="/images/bitmapist_methods_cohorts_heatmap.jpg"&gt;&lt;/p&gt;
&lt;p&gt;We can see that while method 4 was the most used registration method, it has the worst retention rate. This might be what pulled down the retention rate on all cohorts in the previous analysis. This would require to dig a bit deeper.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The slowest part of what I have done here was loading the data in the bitmapist server. It took several hours. But in a production environment, the events would be recorded has they happen. In Redis, the &lt;code&gt;SETBIT&lt;/code&gt; operation has a time complexity of O(1). It doesn't matter how large your bitmap get, setting a new bit will always require the same time.&lt;/p&gt;
&lt;p&gt;Another advantage of using bitmapist server is that I was able to load the data in my computer. Thing that I was not able to do using pandas.&lt;/p&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Doist/bitmapist-server/blob/master/Dockerfile"&gt;bitmap-server repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Doist/bitmapist4"&gt;bitmapist4 repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://redis.io/commands"&gt;redis commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://redis.io/topics/pipelining"&gt;Using pipelining to speedup Redis queries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Bitmap"&gt;Bitmap - Wikipedia article&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.kaggle.com/c/kkbox-churn-prediction-challenge"&gt;Kaggle's WSDM - KKBox's Churn Prediction Challenge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.slideshare.net/crashlytics/crashlytics-on-redis-analytics"&gt;Scaling Crashlytics: Building Analytics on Redis 2.6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="python"></category><category term="bitmap"></category><category term="redis"></category><category term="bitmapist"></category></entry><entry><title>How to set environment variables in a conda virtual environment</title><link href="https://guillaume-martin.github.io/blog/saving-environment-variables-in-conda.html" rel="alternate"></link><published>2019-04-10T13:15:00+08:00</published><updated>2019-04-10T16:10:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2019-04-10:/blog/saving-environment-variables-in-conda.html</id><summary type="html">&lt;p&gt;How to save environment variables in a virtual environment set using conda.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Environment variables are useful to store sensitive data like API keys or passwords when we don't want them to be hard coded in our source code. But we often only use them in some specific circumstances and don't need to have them set all the time. In this short post, I am going to show how to save environment variables in a virtual environment set using conda.&lt;/p&gt;
&lt;p&gt;First, we need to create the virtual environment using the &lt;code&gt;conda create&lt;/code&gt; command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ conda create --name my_environment
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This command will create a &lt;code&gt;my_environment&lt;/code&gt; subdirectory in the &lt;code&gt;anaconda3/env&lt;/code&gt; directory. &lt;/p&gt;
&lt;p&gt;Next, we activate the environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; activate my_environment
&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now, we need to create scripts that will set our environment variables whenever we activate our virtual environment and unset them when we deactivate. The path to our environment directory is set as &lt;code&gt;$CONDA_PREFIX&lt;/code&gt;. We &lt;code&gt;cd&lt;/code&gt; to that directory and create a &lt;code&gt;/etc/conda/activate.d&lt;/code&gt; and a &lt;code&gt;/etc/conda/deactivate.d&lt;/code&gt; directory:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$CONDA_PREFIX&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ mkdir -p ./etc/conda/activate.d
&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ mkdir -p ./etc/conda/deactivate.d
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In each of those directories, we create a &lt;code&gt;env_var.sh&lt;/code&gt; script where we'll write the commands to set and unset our variables:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ touch ./etc/conda/activate.d/env_vars.sh
&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ touch ./etc/conda/deactivate.d/env_vars.sh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In &lt;code&gt;activate.d/env_vars.sh&lt;/code&gt;, we add the &lt;code&gt;export&lt;/code&gt; commands to set our variables when the virtual environment is activated:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;MY_VARIABLE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;some_value
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In &lt;code&gt;deactivate.d/env_vars.sh&lt;/code&gt;, we add the &lt;code&gt;unset&lt;/code&gt; commands to delete our variables when the virtual environment in deactivated.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nb"&gt;unset&lt;/span&gt; MY_VARIABLE
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Let's test our setting. We need to reactivate our environment to get the variables set.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ conda deactivate
$ conda activate my_environment
&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$MY_VARIABLE&lt;/span&gt;
some_value
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The environment variable has been set. Now, let's check if the variable is unset when we deactivate our environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;my_environment&lt;span class="o"&gt;)&lt;/span&gt;$ conda deactivate
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$MY_VARIABLE&lt;/span&gt;

$
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;echo&lt;/code&gt; command returns an empty line, meaning that our variable has been unset.&lt;/p&gt;
&lt;p&gt;Voilà! We now have a virtual environment with it's own environment variables.&lt;/p&gt;</content><category term="linux"></category><category term="environment variables"></category><category term="virtual environments"></category><category term="anaconda"></category><category term="conda"></category></entry><entry><title>Makeover Monday Week 48 - 2018</title><link href="https://guillaume-martin.github.io/blog/makeovermonday-2018wk48.html" rel="alternate"></link><published>2018-11-28T12:44:00+08:00</published><updated>2018-11-28T12:47:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-11-28:/blog/makeovermonday-2018wk48.html</id><summary type="html">&lt;p&gt;Compare the cost of a night out around the world&lt;/p&gt;</summary><content type="html">&lt;p&gt;This week's challenge is to improve a data visualization that was published in an article from &lt;a href="https://www.thrillist.com/news/nation/cost-of-a-night-out-cities-around-the-world#"&gt;thrillist&lt;/a&gt;.
It shows a comparison of the cost of a night out in selected cities around the world. 
The data is available on &lt;a href="https://data.world/makeovermonday/2018w48/workspace/file?filename=Cost+of+a+night+out+around+the+world.xlsx"&gt;data.world&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;The original visualization&lt;/h2&gt;
&lt;p&gt;&lt;img alt="original" src="/images/the_price_of_a_party_around_the_world_n.jpg"&gt;&lt;/p&gt;
&lt;p&gt;The designer chose horizontal stacked bars to show the average price of a party night. There is one bar per city. The length of the bar represents the total cost of the night.&lt;br&gt;
Each bar is segmented into parts that represent the cost of the items purchased during the night: club entry, two longdrinks, a taxi ride and a Big Mac.&lt;br&gt;
The bars are usually the best choice for comparisons. we can easily compare the total price between two cities even if those cities are not next to each other on the chart. It is clear that a night out in New York is more expensive than a night out in Paris. However, I find it more challenging to compare the price of items. Are the longdrinks more expensive in New York than in Paris? &lt;/p&gt;
&lt;h2&gt;My goal&lt;/h2&gt;
&lt;p&gt;In my visualization, I want to improve the comparison of the price of the different items in each city. I also want to keep the comparison of the totals easy.&lt;br&gt;
The dataset has two categories of activity: a Date night or a Party night. I am going to show both of them.&lt;/p&gt;
&lt;h2&gt;My visualization&lt;/h2&gt;
&lt;p&gt;I keep the horizontal bars to compare the total price per city. Below the bars, I am showing a parallel coordinates graph. On the X axis, we have the items purchased during the night. On the Y axis, we have the cost. There is one line per city. 
There is a filter to select whether we want to see the data for a Date night or for a Party night.&lt;br&gt;
When we click on the bar of a city, the line in the second graph is highlighted, making it easier to compare the price of the items in this city with the price in other cities. &lt;/p&gt;
&lt;p&gt;The interactive visualization can be seen &lt;a href="https://public.tableau.com/views/makeovermonday-2018wk48/Dashboard1?:embed=y&amp;amp;:display_count=yes"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="final" src="/images/makeovermonday_2018wk48.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="final with highlight" src="/images/makeovermonday-2018wk48-highlighted.png"&gt;&lt;/p&gt;</content><category term="tableau"></category><category term="visualization"></category><category term="makeovermonday"></category></entry><entry><title>How to handle JSON data in PostgreSQL</title><link href="https://guillaume-martin.github.io/blog/how-to-handle-json-data-in-postgresql.html" rel="alternate"></link><published>2018-11-15T08:45:00+08:00</published><updated>2018-11-15T08:45:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-11-15:/blog/how-to-handle-json-data-in-postgresql.html</id><summary type="html">&lt;p&gt;How to read and edit data stored as a JSON object in a PostgreSQL database.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Introducing JSON data type&lt;/h2&gt;
&lt;p&gt;PostgreSQL introduced the JSON data type in version 9.2 and the JSONB data type in version 9.4. &lt;br&gt;
JSON (JavaScript Object Notation) is a data-interchange format designed to be easy to read and write by humans. A JSON object is an unordered set of key:value pairs that looks like &lt;code&gt;{key_1:value_1, key_2:value_2, ...}&lt;/code&gt;.
The &lt;code&gt;value&lt;/code&gt; can be a string, a number, a boolean, an object or an array.&lt;br&gt;
Here is an example of JSON object taken from the &lt;a href="https://en.wikipedia.org/wiki/JSON#Example"&gt;wikipedia&lt;/a&gt; page:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;firstName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;John&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;lastName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Smith&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;isAlive&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;age&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;address&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;streetAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;21 2nd Street&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;New York&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;NY&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;postalCode&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;10021-3100&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;phoneNumbers&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;212 555-1234&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;office&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;646 555-4567&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;123 456-7890&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;],&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;children&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;spouse&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The values or the firstName, isAlive and age keys are strings, boolean or numbers.&lt;br&gt;
The values of address is a JSON object.&lt;br&gt;
the values of phoneNumbers and children are arrays.&lt;/p&gt;
&lt;p&gt;In PostgreSQL, JSON data is stored in plain text while JSONB data is stored in some binary representation. The JSONB data type takes more disk space but is preferable when doing a lot of operations on the JSON data or when indexing the JSON column.&lt;/p&gt;
&lt;p&gt;The use of JSON data gives more flexibility as we can add and remove attributes without changing our schema by adding and deleting columns.&lt;/p&gt;
&lt;h2&gt;Setup the training database&lt;/h2&gt;
&lt;p&gt;To practice with handling JSON data, let's create a simple table &lt;code&gt;orders&lt;/code&gt; that has a &lt;code&gt;info&lt;/code&gt; column storing the orders details.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="nb"&gt;serial&lt;/span&gt; &lt;span class="k"&gt;primary&lt;/span&gt; &lt;span class="k"&gt;key&lt;/span&gt;
  &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then, we add some data. To insert data in a JSON column, we simply insert the JSON object as a string: &lt;code&gt;'{"key":"value"}'&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;INTO&lt;/span&gt; 
    &lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;VALUES&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Alice&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;chocolate&amp;quot;,&amp;quot;qty&amp;quot;: 6}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Bob&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;,&amp;quot;qty&amp;quot;: 24}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Charlie&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;milk&amp;quot;,&amp;quot;qty&amp;quot;: 1}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Doris&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;cheese&amp;quot;,&amp;quot;qty&amp;quot;: 2}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Emily&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;milk&amp;quot;,&amp;quot;qty&amp;quot;: 2}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{ &amp;quot;customer&amp;quot;: &amp;quot;Fabian&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;,&amp;quot;qty&amp;quot;: 6}}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We should now have a table where each row represents an order. The &lt;code&gt;info&lt;/code&gt; column contains all the details of the order: customer, items, product, quantity.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tests=# SELECT * FROM orders;
 id |                                info                                
----+--------------------------------------------------------------------
  1 | { &amp;quot;customer&amp;quot;: &amp;quot;Alice&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;chocolate&amp;quot;,&amp;quot;qty&amp;quot;: 6}}
  2 | { &amp;quot;customer&amp;quot;: &amp;quot;Bob&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;,&amp;quot;qty&amp;quot;: 24}}
  3 | { &amp;quot;customer&amp;quot;: &amp;quot;Charlie&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;milk&amp;quot;,&amp;quot;qty&amp;quot;: 1}}
  4 | { &amp;quot;customer&amp;quot;: &amp;quot;Doris&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;cheese&amp;quot;,&amp;quot;qty&amp;quot;: 2}}
  5 | { &amp;quot;customer&amp;quot;: &amp;quot;Emily&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;milk&amp;quot;,&amp;quot;qty&amp;quot;: 2}}
  6 | { &amp;quot;customer&amp;quot;: &amp;quot;Fabian&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;,&amp;quot;qty&amp;quot;: 6}}
(6 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Select data&lt;/h2&gt;
&lt;p&gt;There are four operators that we can use in PostgreSQL to query JSON data:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-&amp;gt;&lt;/code&gt; returns JSON objects.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; returns JSON objects as text.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&amp;gt;&lt;/code&gt; returns JSON objects at a specified path.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&amp;gt;&amp;gt;&lt;/code&gt; returns JSON objects at a specified path as text.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The &lt;code&gt;-&amp;gt;&lt;/code&gt; and &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operators&lt;/h3&gt;
&lt;p&gt;Because the &lt;code&gt;-&amp;gt;&lt;/code&gt; operator returns a JSON object, we can chain operators.&lt;br&gt;
I am going to try to select the products from the orders table using the &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operator to show the difference:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ERROR&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;  &lt;span class="n"&gt;operator&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="n"&gt;not&lt;/span&gt; &lt;span class="n"&gt;exist&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;unknown&lt;/span&gt;
&lt;span class="n"&gt;LINE&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;   &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
                           &lt;span class="o"&gt;^&lt;/span&gt;
&lt;span class="n"&gt;HINT&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;  &lt;span class="n"&gt;No&lt;/span&gt; &lt;span class="n"&gt;operator&lt;/span&gt; &lt;span class="n"&gt;matches&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;given&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt; &lt;span class="n"&gt;argument&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt; &lt;span class="n"&gt;You&lt;/span&gt; &lt;span class="n"&gt;might&lt;/span&gt; &lt;span class="n"&gt;need&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt; &lt;span class="n"&gt;explicit&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;casts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operator returns items as text so we can't apply the operator &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; on them. That is what &lt;code&gt;operator does not exist: text -&amp;gt;&amp;gt; unknown&lt;/code&gt; actually means.&lt;br&gt;
To get the list of products, I need to get the items as a JSON object using &lt;code&gt;-&amp;gt;&lt;/code&gt;, then I can use the &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operator to extract the products:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  product  
-----------
 chocolate
 beer
 milk
 cheese
 milk
 beer
(6 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that &lt;code&gt;info -&amp;gt; 'items' -&amp;gt; 'product' AS product&lt;/code&gt; would also work.&lt;/p&gt;
&lt;h3&gt;The &lt;code&gt;#&amp;gt;&lt;/code&gt; and &lt;code&gt;#&amp;gt;&amp;gt;&lt;/code&gt; operators&lt;/h3&gt;
&lt;p&gt;When using the &lt;code&gt;-&amp;gt;&lt;/code&gt; and &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operators, I was adding the key as a text in the right operand. If I wanted to get a list of products, I had to chain the operators like this: &lt;code&gt;info -&amp;gt; 'items' -&amp;gt;&amp;gt; 'product'&lt;/code&gt;.&lt;br&gt;
Another way is to specify the path to the key I want to extract:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;#&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{items, product}&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This query is returning the same result as &lt;code&gt;info -&amp;gt; 'items' -&amp;gt; 'product'&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  product   
-------------
 &amp;quot;chocolate&amp;quot;
 &amp;quot;beer&amp;quot;
 &amp;quot;milk&amp;quot;
 &amp;quot;cheese&amp;quot;
 &amp;quot;beer&amp;quot;
 &amp;quot;milk&amp;quot;
(6 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;info #&amp;gt;&amp;gt; '{items, product}'&lt;/code&gt; would return the same result as &lt;code&gt;info -&amp;gt; 'items' -&amp;gt;&amp;gt; 'product'&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;jsonb_pretty&lt;/code&gt; function outputs the result in a more readable format.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
    &lt;span class="n"&gt;jsonb_pretty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt;
    &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;    
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;          orders          
--------------------------------
 {                             +
     &amp;quot;items&amp;quot;: {                +
         &amp;quot;qty&amp;quot;: 6,             +
         &amp;quot;product&amp;quot;: &amp;quot;chocolate&amp;quot;+
     },                        +
     &amp;quot;customer&amp;quot;: &amp;quot;Alice&amp;quot;       +
 }
 {                             +
     &amp;quot;items&amp;quot;: {                +
         &amp;quot;qty&amp;quot;: 24,            +
         &amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;     +
     },                        +
     &amp;quot;customer&amp;quot;: &amp;quot;Bob&amp;quot;         +
 }
(2 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The function also works with operators:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="n"&gt;jsonb_pretty&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        items        
----------------------------
 {                         +
     &amp;quot;qty&amp;quot;: 6,             +
     &amp;quot;product&amp;quot;: &amp;quot;chocolate&amp;quot;+
 }
 {                         +
     &amp;quot;qty&amp;quot;: 24,            +
     &amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;     +
 }
(2 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The JSON operators can be used in other parts of a query, like we'll see in the following examples.&lt;/p&gt;
&lt;h3&gt;SELECT with WHERE clause&lt;/h3&gt;
&lt;p&gt;Let's list the customers who bought beer.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;customer&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt;
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;beer&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;customer 
----------
 Bob
 Fabian
(2 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Use aggregate functions&lt;/h3&gt;
&lt;p&gt;We can also use the usual aggregate functions on JSON columns. Note that as the operators return values as text, we need to cast them as integers if we want to calculate sums, averages, etc...&lt;br&gt;
Let's get some statistics on the quantities ordered:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
  &lt;span class="k"&gt;MIN&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="nb"&gt;INTEGER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;mini&lt;/span&gt;
  &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;MAX&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="nb"&gt;INTEGER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;maxi&lt;/span&gt;
  &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;SUM&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="nb"&gt;INTEGER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;
  &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;AVG&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="nb"&gt;INTEGER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;average&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; mini | maxi | total |      average       
------+------+-------+--------------------
    1 |   24 |    41 | 6.8333333333333333
(1 row)
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;GROUP BY statement&lt;/h3&gt;
&lt;p&gt;Aggregates often come with a GROUP BY statement. Like for the &lt;em&gt;WHERE&lt;/em&gt; clause, we can use the &lt;code&gt;-&amp;gt;&lt;/code&gt; and &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; operators in the &lt;em&gt;GROUP BY&lt;/em&gt; statement.
Let's get the total quantity ordered per product:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;SUM&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)::&lt;/span&gt;&lt;span class="nb"&gt;INTEGER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; 
    &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt;
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  product  | total 
-----------+-------
 milk      |     3
 beer      |    30
 cheese    |     2
 chocolate |     6
(4 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;UPDATE data&lt;/h2&gt;
&lt;h3&gt;Changing an existing value&lt;/h3&gt;
&lt;p&gt;To change a value inside a JSON attribute, we can use the &lt;code&gt;jsonb_set()&lt;/code&gt; function. As it is implemented for JSONB data types only, we need to cast our JSON columns as JSONB.&lt;br&gt;
Function:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;jsonb_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;            &lt;span class="n"&gt;jsonb&lt;/span&gt;
          &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;            &lt;span class="nb"&gt;text&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
          &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;new_value&lt;/span&gt;       &lt;span class="n"&gt;jsonb&lt;/span&gt;
          &lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="n"&gt;create_missing&lt;/span&gt; &lt;span class="nb"&gt;boolean&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The function will replace the section of &lt;code&gt;target&lt;/code&gt; designated by &lt;code&gt;path&lt;/code&gt; with the &lt;code&gt;new_value&lt;/code&gt;. If the section doesn't exist and &lt;code&gt;create_missing&lt;/code&gt; is set to true (default), the &lt;code&gt;new_value&lt;/code&gt; will be added.  &lt;/p&gt;
&lt;p&gt;Let's change Fabian's name to Bob&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;UPDATE&lt;/span&gt; 
   &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;SET&lt;/span&gt;
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;jsonb_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{customer}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;jsonb&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;quot;Bob&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;customer&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Fabian&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tests=# SELECT * FROM orders WHERE info -&amp;gt;&amp;gt; &amp;#39;customer&amp;#39; = &amp;#39;Bob&amp;#39;;
 id |                             info                             
----+--------------------------------------------------------------
  2 | { &amp;quot;customer&amp;quot;: &amp;quot;Bob&amp;quot;, &amp;quot;items&amp;quot;: {&amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;,&amp;quot;qty&amp;quot;: 24}}
  6 | {&amp;quot;items&amp;quot;: {&amp;quot;qty&amp;quot;: 6, &amp;quot;product&amp;quot;: &amp;quot;beer&amp;quot;}, &amp;quot;customer&amp;quot;: &amp;quot;Bob&amp;quot;}
(2 rows)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We now have two customers named Bob. Note that because the keys in the JSON data are not sorted, the two records look different.&lt;/p&gt;
&lt;p&gt;Using the &lt;code&gt;path&lt;/code&gt; parameter, we can update data deeper into the JSON hierarchy.&lt;br&gt;
For example, let's set the quantity of cheese bought by Doris to three:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;UPDATE&lt;/span&gt; 
   &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;SET&lt;/span&gt;
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;jsonb_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{items,qty}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;jsonb&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;customer&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Doris&amp;#39;&lt;/span&gt;
  &lt;span class="k"&gt;AND&lt;/span&gt; &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;cheese&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tests=# SELECT * FROM orders WHERE info -&amp;gt;&amp;gt; &amp;#39;customer&amp;#39; = &amp;#39;Doris&amp;#39;;
 id |                              info                               
----+-----------------------------------------------------------------
  4 | {&amp;quot;items&amp;quot;: {&amp;quot;qty&amp;quot;: 3, &amp;quot;product&amp;quot;: &amp;quot;cheese&amp;quot;}, &amp;quot;customer&amp;quot;: &amp;quot;Doris&amp;quot;}
(1 row)
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Creating a new key&lt;/h3&gt;
&lt;p&gt;Let's say that I want to add a unit_price to the items.
We can use the &lt;code&gt;jsonb_insert&lt;/code&gt; function that was introduced in 9.6.&lt;br&gt;
Function:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;jsonb_insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;          &lt;span class="n"&gt;jsonb&lt;/span&gt;
             &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;          &lt;span class="nb"&gt;text&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
             &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;new_value&lt;/span&gt;     &lt;span class="n"&gt;jsonb&lt;/span&gt;
             &lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="n"&gt;insert_after&lt;/span&gt; &lt;span class="nb"&gt;boolean&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;new_value&lt;/code&gt; will be inserted in the &lt;code&gt;target&lt;/code&gt; in the section designated by &lt;code&gt;path&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I am going to add 5 as the unit_price of chocolate.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;UPDATE&lt;/span&gt;
    &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;SET&lt;/span&gt; 
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;jsonb_insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{items,unit_price}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;jsonb&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; 
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;items&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;product&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;chocolate&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;    
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tests=# SELECT * FROM orders WHERE info -&amp;gt; &amp;#39;items&amp;#39; -&amp;gt;&amp;gt; &amp;#39;product&amp;#39; = &amp;#39;chocolate&amp;#39;;
 id |                                info                                
----+--------------------------------------------------------------------
  1 | {&amp;quot;items&amp;quot;: {&amp;quot;qty&amp;quot;: 6, &amp;quot;product&amp;quot;: &amp;quot;chocolate&amp;quot;, &amp;quot;unit_price&amp;quot;: 5}, &amp;quot;customer&amp;quot;: &amp;quot;Alice&amp;quot;}
(1 row)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I have now a new attribute that I was able to add without modifying my schema. This is one of the main advantages of using JSON data, it allows for more flexibility. I also added a new attribute to one record without impacting the other records.&lt;/p&gt;
&lt;h3&gt;Removing a key&lt;/h3&gt;
&lt;p&gt;Removing a key from a JSON object is very easy and doesn't require the use of a function. If I cast my data as JSONB, I can simply remove the key by typing &lt;code&gt;column = column - key&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;UPDATE&lt;/span&gt; 
  &lt;span class="n"&gt;orders&lt;/span&gt;
&lt;span class="k"&gt;SET&lt;/span&gt; 
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;jsonb&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;customer&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt;
  &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;customer&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Emily&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tests=# SELECT * FROM orders WHERE id = 5;
 id |                   info                   
----+------------------------------------------
  5 | {&amp;quot;items&amp;quot;: {&amp;quot;qty&amp;quot;: 2, &amp;quot;product&amp;quot;: &amp;quot;milk&amp;quot;}}
(1 row)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The record doesn't have a customer anymore.&lt;/p&gt;
&lt;h2&gt;Further reading&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://json.org/"&gt;json.org&lt;/a&gt;&lt;br&gt;
&lt;a href="https://en.wikipedia.org/wiki/JSON"&gt;JSON wikipedia article&lt;/a&gt;&lt;br&gt;
&lt;a href="https://stackoverflow.com/a/22910602"&gt;Explanation of JSONB introduced by PostgreSQL&lt;/a&gt;&lt;br&gt;
&lt;a href="https://www.postgresql.org/docs/11/functions-json.html"&gt;PostgreSQL JSON Fonctions and Operators&lt;/a&gt;&lt;/p&gt;</content><category term="json"></category><category term="sql"></category><category term="postgresql"></category><category term="database"></category></entry><entry><title>"The best stats you've ever seen" with Matplotlib</title><link href="https://guillaume-martin.github.io/blog/best-stats-anim.html" rel="alternate"></link><published>2018-07-12T13:00:00+08:00</published><updated>2018-07-12T19:30:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-07-12:/blog/best-stats-anim.html</id><summary type="html">&lt;p&gt;Using Matplotlib to replicate a visualization presented by Hans Rosling in a TED talk.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;In a TED talk titled &lt;em&gt;"The best stats you've ever seen"&lt;/em&gt; he gave in 2006, Hans Rosling showed the audience how we can use statistics to debunk misconceptions about the world.&lt;br&gt;
His talk can be seen &lt;a href="https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen"&gt;here&lt;/a&gt;. It's only 20 minutes long and if you haven't seen it yet, you really should.  &lt;/p&gt;
&lt;p&gt;In this post, I am going to use Matplotlib to replicate the animation he shows at the beginning of his talk. It shows the evolution of the fertility rate and the life expectancy of countries over the years. Hans Rosling built this animation when, after testing his students on global health, he realized that they still thought that the world was divided in two: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the western world: low fertility rate and high life expectancy&lt;/li&gt;
&lt;li&gt;the third world: high fertility rate and low life expectancy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There will be some differences between the original visualization and the one I am going to build:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;more data. The talk was made in 2006 with data from 1962 to 2003. I will use data from 1960 to 2016.&lt;/li&gt;
&lt;li&gt;regions. The original visualization has five regions. I will keep the regions from the source data (i.e. seven regions).&lt;/li&gt;
&lt;li&gt;colors. I can't ge the exact colors of the regions. I'll use my own color mapping.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Preparing the data&lt;/h2&gt;
&lt;p&gt;The data was downloaded from &lt;a href="https://data.worldbank.org/"&gt;data.worldbank.org&lt;/a&gt; on June 28th, 2018. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://data.worldbank.org/indicator/SP.DYN.LE00.IN"&gt;life expentancy at birth&lt;/a&gt;: number of years a newborn would live if the patterns of mortality at the time of birth remain the same throughout his life.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://data.worldbank.org/indicator/SP.DYN.TFRT.IN"&gt;Fertility rate&lt;/a&gt;: number of children a woman would give birth to during her childbearing years.  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://data.worldbank.org/indicator/SP.POP.TOTL"&gt;Country population&lt;/a&gt;: total number of residents regardless of legal status or citizenship (midyear estimates)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The countries metadata is included in the downloaded zip files. It will be used to get the region of the countries. Countries are grouped in seven regions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;East Asia &amp;amp; Pacific&lt;/li&gt;
&lt;li&gt;Europe &amp;amp; Central Asia&lt;/li&gt;
&lt;li&gt;Latin America &amp;amp; Caribbean&lt;/li&gt;
&lt;li&gt;Middle East &amp;amp; North Africa&lt;/li&gt;
&lt;li&gt;North America&lt;/li&gt;
&lt;li&gt;South Asia&lt;/li&gt;
&lt;li&gt;Sub-Saharan Africa&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I use &lt;code&gt;pandas&lt;/code&gt; to import the data and compile a dataframe with which I will generate the visualization.&lt;br&gt;
I use &lt;code&gt;numpy&lt;/code&gt; to execute some operations on the data.&lt;br&gt;
I use &lt;code&gt;pyplot&lt;/code&gt; and &lt;code&gt;animation&lt;/code&gt; from &lt;code&gt;matplotlib&lt;/code&gt; to generate the visualization.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.animation&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;animation&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I import the data in separate dataframes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;country&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;country_metadata.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;population&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;country_population.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;skiprows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fertility_rate&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fertility_rate.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;skiprows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;life_expectancy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;life_expectancy.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;skiprows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All tables have a &lt;code&gt;Country Name&lt;/code&gt; and a &lt;code&gt;Country Code&lt;/code&gt; column. I'll use the &lt;code&gt;Country Code&lt;/code&gt; column as the country id to merge the datasets.&lt;br&gt;
So from the country dataframe, I need only the Country Code and Region columns.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;country&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;country&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Region&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;em&gt;population&lt;/em&gt;, &lt;em&gt;fertility_rate&lt;/em&gt; and &lt;em&gt;life_expectancy&lt;/em&gt; dataframes have the same structure. I'll repeat the same process on three of them to prepare the data.&lt;br&gt;
First, I remove useless columns:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Indicator Name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Indicator Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="s1"&gt;&amp;#39;2017&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Unnamed: 62&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next, I drop the countries with missing values. I could try to fill data missing in any given year with the data from the previous or next year but some countries are missing too much if not all data.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The years are in columns (i.e. one column represents the data of all countries for a given year). I need &lt;code&gt;year&lt;/code&gt; to be a variable that has its own column. To do so, I'll use the &lt;code&gt;melt()&lt;/code&gt; method on the dataframe.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;years&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1960&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2017&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;population&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;melt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;id_vars&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;value_vars&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;years&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;var_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;value_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Population&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;At this point, the &lt;em&gt;population&lt;/em&gt; data is ready. I preprocess the &lt;em&gt;fertility_rate&lt;/em&gt; and the &lt;em&gt;life_expectancy&lt;/em&gt; the same way.&lt;br&gt;
When the three datasets are ready, I merge them into one dataframe.&lt;br&gt;
Some countries may have data for one statistic but not the other. After merging the dataframes, I do a &lt;code&gt;dropna()&lt;/code&gt; again to remove those cases.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;country&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;how&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;life_exp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;how&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fertility_rate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;how&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Country Code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The data is ready. I can now start builing the visualization.  &lt;/p&gt;
&lt;h2&gt;Building the visualization&lt;/h2&gt;
&lt;p&gt;The visualization consist of a scatter plot with the &lt;em&gt;fertility rate&lt;/em&gt; on the X axis and the &lt;em&gt;life expectancy&lt;/em&gt; on the Y axis. The size of the markers is set by the &lt;em&gt;population&lt;/em&gt;. The higher the population, the bigger the marker.&lt;br&gt;
I group the data by region and draw one scatter plot by region.&lt;br&gt;
To show an example, I am going to plot the data for the year 1960.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fertility Rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fertility Rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Life Expectancy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Life Expectancy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# set the regions&amp;#39;s colors&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;Latin America &amp;amp; Caribbean&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#2CA02C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;South Asia&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#8C564B&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;Sub-Saharan Africa&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#E377C2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;Europe &amp;amp; Central Asia&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#FF7F0E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;Middle East &amp;amp; North Africa&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#D62728&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;East Asia &amp;amp; Pacific&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#1F77B4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;North America&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#9467BD&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="c1"&gt;# create one scatterplot per region&lt;/span&gt;
&lt;span class="c1"&gt;# I need to do like this to have all the regions &lt;/span&gt;
&lt;span class="c1"&gt;# showing up in the legend&lt;/span&gt;
&lt;span class="n"&gt;groups&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Region&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;grp&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;groups&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;scat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;grp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fertility Rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;grp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Life Expectancy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                      &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                      &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Population&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# add the year in the middle of the scatter plot&lt;/span&gt;
&lt;span class="c1"&gt;# for now, the text is empty (&amp;#39;&amp;#39;). Il will be filled &lt;/span&gt;
&lt;span class="c1"&gt;# in each frame&lt;/span&gt;
&lt;span class="n"&gt;year_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;4.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1960&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontdict&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;

&lt;span class="c1"&gt;# decorate the visualization&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;labelcolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fertility Rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Life Expectancy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;markerscale&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here's the result:&lt;br&gt;
&lt;img alt="" src="images/best-stat-static.png"&gt;&lt;/p&gt;
&lt;h3&gt;Animate the plot&lt;/h3&gt;
&lt;p&gt;To make the animation, we need to create one plot for each year. Each plot is a frame. Frames are shown in sequence.&lt;br&gt;
Luckily, matplotlib as an animation module. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.animation&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;animation&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To make the animation, I need to define a function that will set the inital state (optional) and a function that will update the plot for each frame.&lt;br&gt;
But first, I need to modify a bit the script I used to build the static plot. 
I create a list where I store all my scatter artists. I will iterate through that list to update each scatter plot representing a region individually. Also, I don't need to set the x and y values of the scatter plot. Finaly, I remove the size parameter from the scatter plot. It will be set for each frame.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;scats&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;groups&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Region&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;grp&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;groups&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;scat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;([],&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt;
                      &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                      &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;scats&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;year_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;4.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontdict&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;init()&lt;/code&gt; method that initialize the animation is very simple&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;init&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;scat&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scats&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;scat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_offsets&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;scats&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;set_offsets()&lt;/code&gt; method set the values of x and y. I want to start with an empty plot so I just pass an empty list.&lt;br&gt;
Next, I define an &lt;code&gt;update()&lt;/code&gt; method that will update the scatter plot for each frame.&lt;br&gt;
For each region, the method does:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;filter the data for the current year&lt;/li&gt;
&lt;li&gt;set the x and y values (&lt;code&gt;set_offset()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;changes the size of the markers with the population of the year (&lt;code&gt;set_sizes()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;update the year label at the center of the figure (&lt;code&gt;set_text&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;scat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scats&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;groups&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# get the data for the current year&lt;/span&gt;
        &lt;span class="n"&gt;sample&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="c1"&gt;# set the x and y values&lt;/span&gt;
        &lt;span class="n"&gt;scat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_offsets&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fertility Rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Life Expectancy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
        &lt;span class="c1"&gt;# update the size of the markers with the population&lt;/span&gt;
        &lt;span class="c1"&gt;# of the current year&lt;/span&gt;
        &lt;span class="n"&gt;scat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_sizes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Population&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# update the year label displayed at the center of the figure&lt;/span&gt;
        &lt;span class="n"&gt;year_label&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;scats&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I am now ready to make the animation using the &lt;code&gt;FuncAnimation&lt;/code&gt; from the animation module.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ani&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;animation&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FuncAnimation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;init_func&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                              &lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;years&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                              &lt;span class="n"&gt;interval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                              &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once the animation in done, I can show it using &lt;code&gt;plt.show()&lt;/code&gt; or save it as a movie or an animated gif.&lt;br&gt;
I am going to save it as a gif to display it on this post:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ani&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;best_stat_anim.gif&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dpi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;imagemagick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Et voilà!&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/best_stat_anim.gif"&gt;&lt;/p&gt;
&lt;h2&gt;source code&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/guillaume-martin/best_stats_ever"&gt;github&lt;/a&gt;&lt;br&gt;
&lt;a href="https://www.kaggle.com/gemartin/the-best-stats-you-ve-ever-seen-with-matplotlib"&gt;kaggle&lt;/a&gt;&lt;/p&gt;</content><category term="visualization"></category><category term="python"></category><category term="matplotlib"></category></entry><entry><title>RFM Segmentation with Python</title><link href="https://guillaume-martin.github.io/blog/rfm-segmentation-with-python.html" rel="alternate"></link><published>2018-06-01T01:40:00+08:00</published><updated>2019-05-03T00:00:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-06-01:/blog/rfm-segmentation-with-python.html</id><summary type="html">&lt;p&gt;How to segment your customers using RFM analysis with Python&lt;/p&gt;</summary><content type="html">&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="About-RFM-segmentation"&gt;About RFM segmentation&lt;a class="anchor-link" href="#About-RFM-segmentation"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Customer segmentation is important for multiple reasons. We get a deeper knowledge of our customers and can tailor targeted marketing campaigns.&lt;/p&gt;
&lt;p&gt;The RFM method was introduced by Bult and Wansbeek in 1995 and has been successfully used by marketers since.&lt;br&gt;
It analyzes customers' behavior on three parameters:&lt;br&gt;
&lt;strong&gt;Recency&lt;/strong&gt;: How recent is the last purchase of the customer.&lt;br&gt;
&lt;strong&gt;Frequency&lt;/strong&gt;: How often the customer makes a purchase.&lt;br&gt;
&lt;strong&gt;Monetary&lt;/strong&gt;: How much money does the customer spends.&lt;/p&gt;
&lt;p&gt;The advantages of RFM is that it is easy to implement and it can be used for different types of business. It helps craft better marketing campaigns and improves CRM and customer's loyalty.&lt;/p&gt;
&lt;p&gt;The disadvantages are that it may not apply in industries where customers are usually one time buyers. It is based on historical data and won't give much insight about prospects.&lt;/p&gt;
&lt;p&gt;In this post, I will show how we can use RFM segmentation with Python.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Methodology"&gt;Methodology&lt;a class="anchor-link" href="#Methodology"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To get the RFM score of a customer, we need to first calculate the R, F and M scores on a scale from 1 (worst) to 5 (best).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;calculate Recency = number of days since last purchase&lt;/li&gt;
&lt;li&gt;calculate Freqency = number of purchases during the studied period (usually one year)&lt;/li&gt;
&lt;li&gt;calculate Monetary = total amount of purchases made during the studied period&lt;/li&gt;
&lt;li&gt;find quintiles for each of these dimensions&lt;/li&gt;
&lt;li&gt;give a grade to each dimension depending in which quintiles it stands&lt;/li&gt;
&lt;li&gt;combine R, F and M scores to get the RFM score&lt;/li&gt;
&lt;li&gt;map RF scores to segments  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For this example, I will use the &lt;a href="https://archive.ics.uci.edu/ml/datasets/Online+Retail"&gt;Online Retail dataset&lt;/a&gt; available on the UCI Machine Learning Repository.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Calculcate-the-RFM-score"&gt;Calculcate the RFM score&lt;a class="anchor-link" href="#Calculcate-the-RFM-score"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;h3 id="Prepare-the-data"&gt;Prepare the data&lt;a class="anchor-link" href="#Prepare-the-data"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I create a dataframe with the sales data&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_excel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;online-retail.xlsx&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Index([&amp;#39;InvoiceNo&amp;#39;, &amp;#39;StockCode&amp;#39;, &amp;#39;Description&amp;#39;, &amp;#39;Quantity&amp;#39;, &amp;#39;InvoiceDate&amp;#39;,
       &amp;#39;UnitPrice&amp;#39;, &amp;#39;CustomerID&amp;#39;, &amp;#39;Country&amp;#39;],
      dtype=&amp;#39;object&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{:,}&lt;/span&gt;&lt;span class="s1"&gt; rows; &lt;/span&gt;&lt;span class="si"&gt;{:,}&lt;/span&gt;&lt;span class="s1"&gt; columns&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;541,909 rows; 8 columns
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{:,}&lt;/span&gt;&lt;span class="s1"&gt; invoices don&lt;/span&gt;&lt;span class="se"&gt;\&amp;#39;&lt;/span&gt;&lt;span class="s1"&gt;t have a customer id&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CustomerID&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isnull&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;135,080 invoices don&amp;#39;t have a customer id
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I am going to drop those lines as they will not help in our analysis of customers.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;subset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CustomerID&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;What is the time frame of the data?&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Orders from &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt; to &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                                    &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Orders from 2010-12-01 08:26:00 to 2011-12-09 12:50:00
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We have about one year of sales data (from December 2010 to December 2011). This is the period usually used for RFM analysis. I'll set the period of the study to 365 days to get exactly one year.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I calculate the total price of each line.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Price&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Quantity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UnitPrice&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Next, I control whether there's only one row per invoice.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceNo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[8]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;576339    542
579196    533
580727    529
578270    442
573576    435
Name: InvoiceNo, dtype: int64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Invoices can have multiple rows (one row per item). However, I am interested in how many times did a customer purchase, not how many items did he buy. I want to count orders rather than items.&lt;br&gt;
I create an &lt;code&gt;order&lt;/code&gt; dataframe that will aggregate our sales at the order level.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceNo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;CustomerID&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;agg&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Price&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()})&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;InvoiceNo&lt;/th&gt;
      &lt;th&gt;InvoiceDate&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Price&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;2010-12-01 08:26:00&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;139.12&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;536366&lt;/td&gt;
      &lt;td&gt;2010-12-01 08:28:00&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;22.20&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;536367&lt;/td&gt;
      &lt;td&gt;2010-12-01 08:34:00&lt;/td&gt;
      &lt;td&gt;13047.0&lt;/td&gt;
      &lt;td&gt;278.73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;536368&lt;/td&gt;
      &lt;td&gt;2010-12-01 08:34:00&lt;/td&gt;
      &lt;td&gt;13047.0&lt;/td&gt;
      &lt;td&gt;70.05&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;536369&lt;/td&gt;
      &lt;td&gt;2010-12-01 08:35:00&lt;/td&gt;
      &lt;td&gt;13047.0&lt;/td&gt;
      &lt;td&gt;17.85&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Finally, I am going to simulate an analysis I am doing in real time by setting the &lt;code&gt;NOW&lt;/code&gt; date at one day after the last purchase. This date will be used as a reference to calculate the &lt;code&gt;Recency&lt;/code&gt; score.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;NOW&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;NOW&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Timestamp(&amp;#39;2011-12-10 12:50:00&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I am going to study the data over a period of one year. I set a &lt;code&gt;period&lt;/code&gt; variable to 365 (days).&lt;br&gt;
You can change this value depending on your needs. It will depend on the industry and the expected behavior of customers but one year is a commonly used value in RFM segmentation.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;period&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;365&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Calculate-the-Recency,-Frequency-and-Monetary-Value-of-each-customers"&gt;Calculate the Recency, Frequency and Monetary Value of each customers&lt;a class="anchor-link" href="#Calculate-the-Recency,-Frequency-and-Monetary-Value-of-each-customers"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;To make things easier, I am going to add a column with the number of days between the purchase and now. To find the Recency values, I will just have to find the minimum of this column for each customer.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DaysSinceOrder&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NOW&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The scores are calculated for each customer. I need a dataframe with one row per customer. The scores will be stored in columns.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;aggr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;DaysSinceOrder&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;  &lt;span class="c1"&gt;# the number of days since last order (Recency)&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;NOW&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;period&lt;/span&gt;&lt;span class="p"&gt;)]),&lt;/span&gt; &lt;span class="c1"&gt;# the total number of orders in the last period (Frequency)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CustomerID&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;agg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;aggr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DaysSinceOrder&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Frequency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;12346.0&lt;/td&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;12347.0&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;12348.0&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;12349.0&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;12350.0&lt;/td&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I have the Recency and Frequency data. I need to add the Monetary value of each customer by adding sales over the last year.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Monetary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CustomerID&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CustomerID&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; \
                                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InvoiceDate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;NOW&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;period&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt;\
                                                           &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Price&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[14]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;Monetary&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;12346.0&lt;/td&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;12347.0&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;3598.21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;12348.0&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;12349.0&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;12350.0&lt;/td&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Calculate-the-R,-F-and-M-scores"&gt;Calculate the R, F and M scores&lt;a class="anchor-link" href="#Calculate-the-R,-F-and-M-scores"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At this point, I have the values for Recency, Frequency and Monetary parameters. Each customer will get a note between 1 and 5 for each parameter.&lt;br&gt;
We can do this by setting ranges based on expected behavior. For example, to rate Recency, we could use this scale:&lt;br&gt;
1: 0-30 days&lt;br&gt;
2: 31-60 days&lt;br&gt;
3: 61-90 days&lt;br&gt;
4: 91-180 days&lt;br&gt;
5: 181-365 days&lt;/p&gt;
&lt;p&gt;We could also use quintiles. Each quintiles contains 20% of the population. Using quintiles is more flexible as the ranges will adapt to the data and would work across different industries or if there's any change in expected customer behavior.&lt;br&gt;
I am going to use the quintiles method. First, I get the quintiles for each parameter.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;quintiles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Frequency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Monetary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quantile&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_dict&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;quintiles&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[15]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;{&amp;#39;Frequency&amp;#39;: {0.2: 1.0, 0.4: 2.0, 0.6: 3.0, 0.8: 6.0},
 &amp;#39;Monetary&amp;#39;: {0.2: 215.89800000000002,
  0.4: 440.432,
  0.6: 876.3679999999999,
  0.8: 1909.6580000000006},
 &amp;#39;Recency&amp;#39;: {0.2: 11.0, 0.4: 32.0, 0.6: 71.0, 0.8: 178.80000000000018}}&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Then I write methods to assign ranks from 1 to 5. A smaller Recency value is better whereas higher Frequency and Monetary values are better. I need to write two separate methods.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;r_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fm_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;quintiles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;    
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I am now ready to get the R, F and M scores of each customer.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;r_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Frequency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;fm_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Frequency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Monetary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;fm_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Monetary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Get-customers-segments-from-RFM-score"&gt;Get customers segments from RFM score&lt;a class="anchor-link" href="#Get-customers-segments-from-RFM-score"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Finally, I combine the R, F and M scores into a &lt;code&gt;RFM Score&lt;/code&gt;.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RFM Score&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;Monetary&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
      &lt;th&gt;M&lt;/th&gt;
      &lt;th&gt;RFM Score&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;12346.0&lt;/td&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;121&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;12347.0&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;3598.21&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;545&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;12348.0&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;244&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;12349.0&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;414&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;12350.0&lt;/td&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;112&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The RFM scores give us 5$^3$ = 125 segments. Which is not easy to work with.&lt;br&gt;
I am going to work with 11 segments based on the R and F scores. Here is the description of the segments:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style="text-align:left"&gt;Segment&lt;/th&gt;
&lt;th style="text-align:left"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Champions&lt;/td&gt;
&lt;td style="text-align:left"&gt;Bought recently, buy often and spend the most&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Loyal Customers&lt;/td&gt;
&lt;td style="text-align:left"&gt;Buy on a regular basis. Responsive to promotions.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Potential Loyalist&lt;/td&gt;
&lt;td style="text-align:left"&gt;Recent customers with average frequency.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Recent Customers&lt;/td&gt;
&lt;td style="text-align:left"&gt;Bought most recently, but not often.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Promising&lt;/td&gt;
&lt;td style="text-align:left"&gt;Recent shoppers, but haven’t spent much.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Customers Needing Attention&lt;/td&gt;
&lt;td style="text-align:left"&gt;Above average recency, frequency and monetary values. May not have bought very recently though.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;About To Sleep&lt;/td&gt;
&lt;td style="text-align:left"&gt;Below average recency and frequency. Will lose them if not reactivated.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;At Risk&lt;/td&gt;
&lt;td style="text-align:left"&gt;Purchased often but a long time ago. Need to bring them back!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Can’t Lose Them&lt;/td&gt;
&lt;td style="text-align:left"&gt;Used to purchase frequently but haven’t returned for a long time.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Hibernating&lt;/td&gt;
&lt;td style="text-align:left"&gt;Last purchase was long back and low number of orders. May be lost.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The resulting matrix look like this:&lt;br&gt;
&lt;img src="../images/rfm-segments.png" alt="rfm segments"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;segt_map&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[1-2][1-2]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;hibernating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[1-2][3-4]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;at risk&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[1-2]5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;can&lt;/span&gt;&lt;span class="se"&gt;\&amp;#39;&lt;/span&gt;&lt;span class="s1"&gt;t loose&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3[1-2]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;about to sleep&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;33&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;need attention&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[3-4][4-5]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;loyal customers&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;41&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;promising&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;51&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;new customers&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[4-5][2-3]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;potential loyalists&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5[4-5]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;champions&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Segment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Segment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Segment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;segt_map&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;regex&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;Monetary&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
      &lt;th&gt;M&lt;/th&gt;
      &lt;th&gt;RFM Score&lt;/th&gt;
      &lt;th&gt;Segment&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;12346.0&lt;/td&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;121&lt;/td&gt;
      &lt;td&gt;hibernating&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;12347.0&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;3598.21&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;545&lt;/td&gt;
      &lt;td&gt;champions&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;12348.0&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;244&lt;/td&gt;
      &lt;td&gt;at risk&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;12349.0&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;414&lt;/td&gt;
      &lt;td&gt;promising&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;12350.0&lt;/td&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;112&lt;/td&gt;
      &lt;td&gt;hibernating&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Visualize-our-customers-segments"&gt;Visualize our customers segments&lt;a class="anchor-link" href="#Visualize-our-customers-segments"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now that we have our scores, we can do some data visualization to get a better idea of our customers portfolio.
First, let see at the distribution of R, F and M.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# plot the distribution of customers over R and F&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
    &lt;span class="n"&gt;parameters&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Recency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Frequency&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_frame_on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;labelleft&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Distribution of &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parameters&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
                &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;firebrick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;(&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;%)&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;())),&lt;/span&gt;
               &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# plot the distribution of M for RF score&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;sharex&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sharey&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;r_range&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f_range&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;r_range&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;f_range&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;F&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;R&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_frame_on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;labelleft&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
                &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;firebrick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                    &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;k&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;suptitle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Distribution of M for each F and R&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsgAAALKCAYAAAAvY6d9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAIABJREFUeJzs3XmYZWV57/3vD5kExYkhKBiUCIooraLiyKRECULUmEicMRongjgFHIKaS+MYJcfzxigC5ogcJ4hCHMCB5nBUPILNIKAGg9BMjQoyyMz9/rFWyaKoqq6uWnuq/n6ua1+999qr7vXU3k+tvtezniFVhSRJkqTGOqMugCRJkjROTJAlSZKkDhNkSZIkqcMEWZIkSeowQZYkSZI6TJAlSZKkjrFNkJNsmORHSc5K8tMk75n2/puTVJJN29cPSPK9JNcn+cRoSi1JkqRJt+6oCzCHm4E9qur6JOsBpyX5RlX9MMnWwF7AxZ39bwLeBezYPiRJkqQ1NrYtyNW4vn25XvuYWtXkY8DbOq+pqhuq6jSaRFmSJElakLFNkAGS3CPJCmAVcHJVnZ5kP+DSqjprxMWTJEnSEjTOXSyoqtuBZUnuCxyf5NHA22m6V0iSJEm9G+sW5ClVdQ3wPWA/4CHAWUkuArYCzkzyRyMsnjT2kpwyiMGrSbZpB8vu3L7erTt4dgDHG8jvsRBJXp3k4iR3JHn3AI+zX5JfJLktydGDOs6gjNN3thBJ/iJJrX5PSUvJ2CbISTZrW45Jck/gmcBPqmrzqtqmqrYBVgKPraorRlhUaSSSHN0mo5Xk1iSr2plcXt8ObO16HnDoPOO+O8m58yzGJcCWwIo1KPp8yvDyJNfP8Na8f49BSnI/4H8CHwYeBHxklv0uar+fl8zw3unte29ZzeE+A3wF+GPgoMWVfDJ0LrSmPz4+6rLNpPM9V5Ibk1yQ5K1JMuqySVqYce5isSXw2ST3oEnkv1hVJ871A22r8ibA+kn+HNirqs4beEml0fk28BLgHsBmwB7Ae4CXJNmzqm4AqKrf9n3gJOtX1S3A0C5QB/F7LNAf05w/T6yqy1ez7yXAAcD/mtqQZGq2nd/M9YNtI8EDgG9V1aULLWznu5o0jwS63/kNoyrIPLwX+FdgQ+AZ7fNrgX8bZaEkLczYtiBX1dlV9ZiqenRV7VhV751hn22q6tfTXt+/qu5VVVuZHGstcHNVXVFVl1bViqr6Z2A34LE0M70Ad7/NneR5Sc5uW7t+m2R5ki2SvBw4DHhkp0Xs5e3PVNs6fVySG4D3T+9i0bFLkhVJbkpyRpLHdY59t9bhbteMJLsBRwEbd8rw7ll+j/sl+WySq9vf5dtJHjn9WEn2THJukhvaVvaHzPWhJnlwkuOTXNc+jkuy1VRM4Cftrr9sy7fNHOE+DzwpyUM7214JfBmYqZX8D58JcHX78rvtcXZr33teknOS3JzkkiTv6LZWti2a705yZJJrgGPmOM4rkpzXflc/T3JwknU677+prSs3JLk0yRFt4t6NsUuS77b7/K59/sDOLuskeX+SX6e50/GR7jHmsKqt31OP6+b4PV6c5P+139eqJF9K8qDu59l+hnumab3/fZIfJ3nstDgvTfKr9v0TgS3mUU6A69oyXlRVRwBn43gZaWKNbYIsaWGq6lzgm8DzZ3o/TZ/9/w18FngE8HTubN38AvBR4Gc0d3G2bLdNOQz4OvAomi4Gs/kI8PfAzsAvgROTbDTPX+H7wBuB33fKMGMXBuBo4Ik04xOe0P7MN9N0y5qyAU23jAOAJwH3BT4528HbxO2rNInR7u3jgcB/tEnoF4Bntbs/oS3fJXP8Pr8GTgBe0cZfH3gxTdeJuXyfpgUVmu9yS+D77cXGl4DjaL6HQ9rf7w3Tfv5NwAU038HbZ/ldXwW8H/gHmrrwZprv7XWd3e6g+T4eCfw1ze/8PzoxdqIZI/JfwFNovo9juesdyhcBtwFPbsv5RuCvVvP7r6n1aernTsA+wKZtOab7J5rP7LE0LfjHTF1cJHkiTZ36FLCM5nu7W+PMXNLYjebzvHUBv4ekMTC2XSxO2HbbK5j/lftcrnzOhRc6iE9rm/NobvPO5IE084p/uap+1W77Q5/jtnX3tln69n+hbR2b2nebWY7xj1X1rXafV9CMF/hr4IhZ9v+Dqrolye+ap7OPL0jyMGBfYNeqOrXd9hKaBYRe1DnWusDrq+pn7T4fAY5MkqqaafDVnsCjgW2r6qL2Z/6aJgHcs6q+nWSqa8RV8xwDcSTwb0kOa8t8TVWdmjm6qLafw6r25W+njpPkTcDyqjqsfe/n7Wfx93QS13afD62mXO8C3lZVX25f/3eSD9AkyJ9oy9Ht93tRkrcBX03ysqq6g+ZOxYqqenVnvwumHee8qvqHTnlfRfM5z5TAdl007TPaoaounmnHqjqy8/KXSV4LnJ9kq6pa2f2dq+p7AEneC5xG0498JU0f7+9U1fs6ZX08TYv/6ryvvdOxPs3f103Av8zj5ySNoXFuQe4jOe4zjjRJQmchnWnOoum7fG6SryR5bZLN5hn3x/Pc7wdTT9oFf84Bdpjnz87XI2haN7vH+t0Mx7p5KjluXUaTxNxvjriXTSXHbdxftj+30N/hWzTfyTNpkq0j5959To8A/u+0bacBD0qySWfbnN9V+51vTZO4Xz/1AD4AbNvZb48kJydZmeQ6mpbr9YGphofHAN9dTZnPnvb6MmDz1fwMNK33yzqPy+b4fR6b5Ktt94jruPP3f/AcZZmKN1WWR9CpT63pr2fzz20Zd6VpUX9PVX1/nj8racyMbQuypEXZgaZrw91U1e1J9gJ2oekj+Urgn5LsOo8FePoYJHUHTbLYNX3WjcXqXhzcNst7C2kgWNB0X1V1R5LP0nR12IX5tUgu6FCd56v7rqZ+/9fQdOe4myR/DPwn8Gmabhi/oemacCxNkjxf07saFPP7/P+7O85kNkk2prkImRq0uoqmi8X/maGc3bIspi5M95uq+i/gv5I8H/hFktOnWqslTZZxbkGWtABpZkh4Fs0gsBm1S7n/oKreAzyepiVtqk/oLTSzYizGLp3ybEwzY8P57aargI2mtXYum/bz8ynD+TTnsCd1jrUJTb/cxQzQPR94YLf7SJoBdg9cZNwjgafRrAo6a0voPMv3lGnbngqsnGsQ23RVdSXN975tVf3X9Ee72840CebBbX35Oc3n0PUTmtlTRunhNAnx26vq1Kq6gPm1UE93Pp2625r+erWq6mqaLiof6w6elDQ5TJClybZBkj9K8sAkO7X9U08BzmD2uXl3SfLOJI9P8mCaPrFbc2fydxHwx+0t602TbLCAcr0zyTPTzChxJE3C+/n2vdNpWjf/KcmftK1tr5v28xcBG7YxNp1pgF9V/YJmMN2/JXlakkcBn6OZWuvz0/dfA9+muQ1/TJKd08zQcQxwJqvvSjCrtpvGpsALFlE2aAZR7ppmlortkryIZnDd6vobz+Qw4G1pZq7YPsmO7SwOU3NN/4Lm/4k3JnlIkv1pBth1fRh4TJJPtXVw+yR/09atYbkYuBl4Q5KHJvkz4B8XEOdfgGckOTTJw9q+0s9dYJn+P2B7Fv99SxoBE2Rpsj0DuJwmQfgOTbL7buDpU3Mgz+B3NC2QJ9IkQB+lGVT3ufb9r9DMVPEdmtbe/RdQrkPauGcCDwP2mTYn84to+uOeA7yaZrDYH7R9Nz9Jcyv/KjpT1k3zCuBHwNfafzcCnlVVNy6gzFPHLppZMa6i6Uv6PZq5nv98lkF9axL7t4spWxvjTJqk6/k0gys/0D7WeLW6dsDlATTdEs6i6ZLwauC/2/fPphm49iaaC6i/Ad4yLcYKmnr4cOCHNBdAL2SIMzhU1VXAy4A/b8t5WFvmNY3zQ5ruL6+luUh6Hs3f00LKtIpmdph3Z35T2kkaI1nk+X5gTth2294K9pwLL/QWlyRJkubFq1pJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6lhrE+QkRyZZleTcadsPTHJBkp8m+VC7bf0kRyU5J8lZSXYbSaElSZI0cOuOugAjdDTwCeDfpzYk2R3YD9ipqm5Osnn71qsAqupR7bZvJHl8Vd0x5DJLkiRpwNbaFuSqOhX47bTNrwU+UFU3t/usarfvAHy3s+0aYOchFVWSJElDtNYmyLPYDnhaktOTLE/y+Hb7WcC+SdZN8hDgccDWIyulJEmSBmZt7mIxk3WB+wO7AI8HvpjkocCRwCOAHwO/Ar4P3D6qQkqSJGlwTJDvaiVwXFUV8KMkdwCbVtVVwMFTOyX5PvDzEZVRkiRJA2QXi7v6D2B3gCTbAesDv06yUZKN2+3PBG6rqvNGV0xJkiQNytBakJO8oqqOGtbxVifJscBuwKZJVgKH0XSlOLKd+u0W4GVVVe3MFd9qW5QvBV4yomJLkiRpwNL0JhjCgZKLq+rB893/hG237a1gz7nwwvQVS5IkSUtbry3ISc6e7S1giz6PJUmSJA1C310stgD+FLh62vbQzPwwFpYvX95L6/Suu+5qy7QkSdIS03eCfCJwr6paMf2NJKf0fCxJkiSpd70myFX1yjne++s+jyVJkiQNgtO8SZIkSR0myJIkSVKHCbIkSZLUYYIsSZIkdZggS5IkSR0myJIkSVKHCbIkSZLUYYIsSZIkdZggS5IkSR0myJIkSVKHCbIkSZLUYYIsSZIkdZggS5IkSR0myJIkSVKHCbIkSZLUYYIsSZIkdZggS5IkSR0myJIkSVKHCbIkSZLUYYIsSZIkdaw76gIsdUkuAq4Dbgduq6qdk+wEfBK4F3AR8KKqunZkhdS8zPJdLqP5LjcEbgNeV1U/Gl0pJUnSYtmCPBy7V9Wyqtq5fX0EcEhVPQo4Hnjr6IqmNTT9u/wQ8J6qWgb8Q/takiRNMBPk0dgOOLV9fjLw/BGWRYtTwCbt8/sAl42wLJIkqQcmyINXwLeTnJHk1e22nwL7tc9fAGw9kpItUUnukeQnSU5sX++U5AdJzklyQpJNVhdjFjN9l28EPpzkEuAjwKGL/w0kSdIomSAP3lPb2+/PBl6f5OnAAcDrkpwB3Bu4ZZQFXIIOAs7vvO6rS8tM3+VrgYOramvgYOAzCy+2JEkaBybIA1ZVl7b/rqJJzp5QVRdU1V5V9TjgWODCUZZxKUmyFfBnNEnxlF66tMz0XQIvA45rd/lSu02SJE0wE+QBSrJxkntPPQf2As5Nsnm7bR3gnTSzIKgfHwfeBtzR2bboLi2zfZc0fY53bXfbA/jFwootSZLGhdO8DdYWwPFJoPmsP19V30xyUJLXt/scBxw1qgIuJUn2AVZV1RlJduu8dQDwL0neBXyNhXVpme27vB44PMm6wE3Aq+eIMVOZN6Rp3d6gjfvlqjosyReA7dvd7gtc03bvkCRJA2aCPEBV9Utgpxm2Hw4cPvwSLXlPAfZNsjfNvMSbJPlcVb2YpsWXJNvRdMFYI3N8l6cBj1tEmW8G9qiq65OsB5yW5BtV9VdTOyT5KPC7RRxDkiStAbtYaMmoqkOraquq2gZ4IfDdqnrxOHdpqcb17cv12kdNvZ+myfovafqqS5KkIbAFuWfLly+v1e+1ervuumv6iCMA9l/TLi0nbLvtFTTdKhbryudceOEfzbVDknsAZwB/AvzPqjq98/bTgCuryr7NYy7J1sC/09SbAj5VVYcneTfwKuCqdte3V9XX+4jdef/NNNMMblZVv17s7yJJazsTZC1JVXUKcEr7fCFdWvpIjucVp6puB5YluS9NP+cdq+rc9u39sfV4UtwGvLmqzmwHdJ6R5OT2vY9V1Uf6jl1V57XJ817AxYsrviRpil0sJlSSI5OsSnJuZ9sXkqxoHxclWTHKMmrNVNU1wPeAZwG0A/+eB3xhIfGsI8NVVZdX1Znt8+to5uJ+0BBif4xm5pZe7l5JkmxBnmRHA5+gue0KwNo4sGvSu7Qk2Qy4taquSXJP4JnAB9u3nwFcUFUrFxj+aKwjI5FkG+AxwOk0g0cPTPJS4Mc0LcFX9xE7yX7ApVV1VjvDitS7JEcCU7ME7TjtPbv3aEmyBXlCVdWpwG9nes+BXRNlS+B7Sc4G/h9wclWd2L73QhbxHVpHRiPJvYCvAG+sqmuBfwUeCiwDLgc+2kdsmm4Xbwf+YbFl1tIwy12jf0xydnvX6KQkD1xA6KNp72xNO57de7RkmSAvTQ7smhBVdXZVPaaqHl1VO1bVezvvvbyqBjXjhnWkleTgJD9Ncm6SY9u5qRcaaz2aBPaYqjoOoKqurKrbq+oO4NMscLXFGWJvCzwEOCvJRcBWwJlJ5hwUOo/j9PZ5aG5Jtu90eVqR5Nokb1xEyKO5eyL74fb8sgw4kQVcUM1xsW33Hi1ZdrFYmhzYNcbGpFuIdQRI8iDg74AdqurGJF+kabk/egGxAnwGOL+q/rmzfcuqurx9+VyaFRgXHbuqzgE27+xzEbDzYm5z9/l5zBL/HjTdTC6tqn36iDnJqupnNHcWpj6bS2mWsV9ovFPbLjjdbdd2Xm5MT8nsoLr3tPX4OuB24Laq2rm34LqbSf28h3EuMUFeYjoDuxazeMVUrBlXeVtsXI1Wn3WkjTfnFGQTYF3gnkluBTaiWT58IZ4CvAQ4pzP48e000wwuo/lsLgL+tq/Yazpd3Dz19XnM5CCaAYab9BhzoIZ4HtwTuLCqftV34CTvA15KM+Zg9x7ibURTt/dabKxZ7D5p/Znn6qc9zrFbvX/eQyjzwM8ldrFYehY7sKtrapW3nWhaOZ6VZJce4mq0+qwjcOcUZDsAuwCvT7JDT7EHqqoupRlgdDFN/+DfVdVJC4x1WlVl6nZ2+/h6Vb2kqh7Vbt+305q86NjT9tlmsf/J9fl5TJdkK5pVLI/oI94QDes8uKgxB3OpqndU1dbAMcAbegg5kO49E+5oZuinPQGxB+VoBlTmYZ1LTJAnVJJjgR8A2ydZmeSV7Vu9nWRXt8qbxtsw6ggMdnqzQUtyP2A/mv/sHwhsnOTFoy3V6Az48/g4TX/VO3qKNxTDOA8mWR/YF/hSn3FncAzw/MUGqapzqmrz9qJsG2Al8NiqumKxsWk+228nOSPJq3uINxRzDYoe59gM6PMecJmHci6xi8WEqqr9Z9n+8j6Pk7lXedMYG1Yd6Zo2vdkkeAbw31V1FUCS44AnA5+bzw8PasXFvvqpwxr3VV/U5zGbJFO3Ws9IsttiYo3CEM6DzwbOrKore45Lkod1BuPuB1ywgBjHArsBmyZZCRxWVZ/pr5R38dSqujTJ5sDJSS5oky0NxkR93sM8l5gga0419ypv0h/MML3ZJLgY2KXtU3kjTT/QH6/Bzw9txcUhWeznMZunAPsm2RvYENgkyeeqaiJa64dwHuxl0OxMiSywd5LtaVrbfgW8Zk3jznax3Xl/mzUu7OyxLm3/XZXkeJpZX8Y2YZt0E/h5D+1cYoI8IUY980E1C1lMrfJmgjymRlVPZprebBJU1elJvgycSdOX+ifAp0ZbqtEZ1OdRVYcChwK0rT5vmZTkuGsQ58EkG9MsELSQwZt3MUsiO6iW3t61n8U6VXVd+3wv4L2r+TEt0CR+3sM8l5gga1aZe5U3CZh9erNJ0c5I4OwsLT+Puxr0ebCqbgAesJCfHdQFcY9dh2Ba96HV2IKmhR6a/OTzVfXNnsqhu/PznoMJsuayJfDZtv/dOsAX685V3qQpw5yCTBOuqk4BThlxMdbE2nge7LPLz7xjVdUvgZ16PPbQDLKf9qBiD/LzHka/9UGfS0yQNauqOptmwJU0q6o6DehvpYCejbp70rjx81gziz0P+nmvHVbXT3tcYw/KJJZ5OhNkeQKX1ItJPZeMcNaQtc6k1pFJNaiZdgZtHOpJqpzWVpIkSZriQiGSJElShwmyJEmS1GGCLEmSJHWYIEuSJEkdJsiSJElShwmyJEmS1GGCLEmSJHVMbIKc5IFJzkxyU5LeFjxJ8sQk309yWpKP9RW3jb1jG/v/JDkq7QLoPcY/OMlpPcfcJsmVSU5JclKfsQfNOjJjfOtIx6DqSBt7IPVk0HWkPYb1pMNzyYzxrSMdnktmPcbE1pOJTZCB3wJ7Aj/sOe6vgD2q6qnA5kke1WPsn1XVk6vqae3rnfsKnGQDYFlf8aY5uap2q6q9BhR/UKwjHdaRGQ2qjsDg6snA6ghYT2bhuaTDOjIjzyXTTHo9mdgEuapuqqqrBxD3iqq6qX15K3B7j7Fv7by8Gbikr9jAK4HP9hiva/f2CvPgAcUfCOvI3VhHphlUHWljD6SeDLiOgPXkbjyX3I11ZBrPJTOa6HoysQnyoCV5NLBZVZ3Xc9x9k5xLszb6b3qKuR6wW1V9t49401wObAfsDjyj/VyEdaTDOjKHQdSTQdSRNq71ZAQ8l/yBdWQOnkv+YCj1xAR5BknuD3yC5uqnV1X1taraEVgJ7NNT2JcAn+8p1l1U1c1VdUNV3QacCOw4iONMGuvInawjsxtUPRlQHQHrydB5LrmTdWR2nkvuNKx6YoI8Tdu5/nPAW6rqip5jb9B5eS1wY0+htwdem+SbwCOTHNhTXJLcu/PyKcCFfcWeVNaRu7KOzGxQ9WSAdQSsJ0PlueSurCMz81xyV0OrJ1U1kQ9gPeDbwNXAd4An9hR3f+Aq4JT28aQey7wfsLx9HAGsM4DP5bSe4+0NnAF8H/jgqL9364h1ZBLqyCDryTDqiPVkOPXEc4l1ZJT1xHPJ3I+0B5MkSZKEXSwkSZKkuzBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjp6T5CTPDzJnknuNW37s/o+liRJktS3XhPkJH8HfBU4EDg3yX6dt9/f57EkSZKkQVi353ivAh5XVdcn2Qb4cpJtqupwID0fS5IkSepd3wnyOlV1PUBVXZRkN5ok+Y8xQZYkSdIE6LsP8pVJlk29aJPlfYBNgUf1fCxJkiSpd6mq/oIlWwG3VdUVM7z3lKr6v70dTJIkSRqAXluQq2rlTMlx+94aJ8dJjkyyKsm5nW3/mOTsJCuSnJTkge32ZyY5I8k57b97LPw3kSRJ0tqq1xbkviV5OnA98O9VtWO7bZOqurZ9/nfADlX1miSPAa6sqsuS7Ah8q6oeNLLCS5IkaSL1PUivV1V1ajsbRnfbtZ2XGwPVbv9JZ/tPgXsm2aCqbh50OSVJkrR0jHWCPJsk7wNeCvwO2H2GXZ4PnGlyLEmSpDU1kUtNV9U7qmpr4BjgDd33kjwS+CDwt6MomyRJkibbRCbIHcfQtBYDf5hF43jgpVV14chKJUmSpIk1cQlykod1Xu4HXNBuvy/wn8AhTicnSZKkhRr3WSyOBXajWWjkSuAwYG9ge+AO4FfAa6rq0iTvBA4FftEJsVdVrRpqoSVJkjTRxjpBliRJkoZt4rpYSJIkSYM0ttO8nbDttlcAW/QQ6srnXHjhH821Q5KDgFcBAT5dVR9PshPwSeBewEXAi6bNwSxJkqQlaJxbkPtIjlcbp11171XAE4CdgH2S/AlwBM2Av0fRzIzx1p7KI0mSpDE2zgnysDwCOL2qfl9VtwHLgecB2wGntvucTGc6OUmSJC1dJshwLvC0JA9IshHNLBlb0yxXvV+7zwvabZIkSVri1voEuarOp1l57yTgm8AK4HbgAOB1Sc4A7g3cMrJCSpIkaWjW+gQZoKo+U1WPq6qnA1cDP6+qC6pqr6p6HHAs4Mp8kiRJawETZCDJ5u2/D6bpf/z5zrZ1gHfSzGgh9SrJ9klWdB7XJnljkp2S/CDJOUlOSLLJqMsqSdLawgS58ZUk5wEnAK+vqmuA/ZP8nGYp68uAo0ZZQC1NVfWzqlpWVcuAxwG/p5k1xVlUJEkakbFdSe+EbbftrWDPufDC9BVLGpQkewGHVdVTkvwOuG9VVZKtgW9V1Q4jLqIkSWsFW5Cl8fFCmv7u4CwqkiSNzNiupDdIy5cv76V1etddd7Vlei2S5L40XR92BIpmppM/pVlo5qp2t7dX1dcXEHt9YF/g0HbTAcC/JHkX8DWcRUWSpKFZKxNkaYEOB75ZVX/RJrQb0STIH6uqjywy9rOBM6vqSoCqugDYCyDJdsCfLTK+JC3YLA0EzwOeQ3MBfyHwinYMjzTx7GIhzUOS+wBPBz4DUFW39Pwfwf7c2b0CZ1GRNGamGggeDuwEnE+zyuyOVfVo4OfceQdMmngmyNL8PISmG8VRSX6S5IgkG7fvHZjk7CRHJrnfmgZu4zwTOK6z2VlUJI2F2RoIquqkqrqt3e2HwFajKqPUNxPkAUtyUTuX7YokP25GwhHkAAAgAElEQVS3vSDJT5PckWTnUZdR87Iu8FjgX6vqMcANwCHAvwIPBZYBlwMfXdPAVXVDVT2gqn7X2XZ4VW3XPg6pcZ1uRtLaYK4GgikHAN8YftGkwTBBHo7d27lup5Lhc2n6bp06wjJpzawEVlbV6e3rLwOPraorq+r2qroD+DTwhJGVUJIGY7YGAgCSvAO4DThmNMWT+ucgvRGoqvMBEifBmBRVdUWSS5JsX1U/A/YEzkuyZVVd3u72XJqLnzmdsO22VwBb9FCsK59z4YV/1EMcTYgk9wB+DFxaVft0tr8Z+AiwWVX9erFxk/wjzTSDdwCrgJdX1WV9/A6aSDM1EBwCkOTlwD7Ant7p0lJiC/LgFfDtJGckefWoC6NFORA4JsnZNF0q3g98qO1CczawO3DwPOL0kRz3GUeT4yCawVF/0C4ksxdwcY9xP1xVj25XeDwR+IdFxNYQJblH2w3ixPb1h5Nc0I6TOL6djWKNVNUVwCVJtm83TTUQPAt4G7BvVf2+t19CGgMmyIP31PY/mWcDr0/y9FEXSAtTVSuqauc2cfjzqrq6ql5SVY9qt+3baU2WepVkK5rp/o6Y9tbHaJKUBbXezRS3qq7t7LLxQmNrJKZf7PQ108RMDQSfAO4NnNyOs3G2HS0ZJsgDVlWXtv+uAo7HPqoakiQbJvlRkrPaQaHvabe/O8ml7X9oK5LsPeqyal4+TpMI3zG1Icl+NN0izuozbhv7fUkuAV6ELcgTYZaLnV5mmpilgeBPqmrrdozNsqp6zQLK7HlKY8k+yAPUjvJdp6qua5/vBbx3xMXSPCyR1RZvBvaoquuTrAeclmRqlHkfi5toSJLsA6yqqjOS7NZu2wh4O+2CMn3FnVJV7wDekeRQ4A3AYQs9joZm6mLn3rO8fwDwheEVZ148T2ksmSAP1hbA8e1gvHWBz1fVN5M8F/gfwGbAfyZZUVV/OsJyLgltX8x/p/ncC/hUVR2e5AvAVN+5+wLXtN1elrR2wMz17cv12oe3yifTU4B921a0DYFNgP9FM/3WWe05ZivgzCRPaPuMLihuks9V1Ys7+xwDfB0T5LE218VO+/68Z5rocSAxrGYwsecpjSu7WAxQVf2yqnZqH4+sqve124+vqq2qaoOq2sLkuDe3AW+uqh2AXWj6fO9QVX81dQsQ+Ap3XZBjSWsH7KygmYng5M4o9EUtbqK7S7J1ku8lOa+9VXxQ570D24FSP03yoTWNXVWHtueMbYAXAt+tqudX1eZVtU27fSXN1IPzTY5ni/viJA/r7LYfzYI1Gm9TFzsXAf8b2CPJ5+AuM028aJ4zTfQ5AHi1sTxPaSaDPKfOhwmyloyquryqzmyfX0czUOVBU++naWb7SzpLOi917RzNy2haF5+QZEd6WNxEM5rxAi3J7jRJ5k5V9Uia6djG3QeSnNsOyNqLZuCXxtgcFztjP9OE56nxN1uy2scsKXMY6TnVLhY9G1bf1SRH0rQIrKqqHdttOwGfBO4FXETTWnDtrEGWsCTbAI8BTu9sfhpwZVX9YhRlGqWquibJ94Bndfv0Jfk0zTReWqR2BpPL2+fXJZm6QHsV8IGqurl9b9Uij3MKcMoM27fpK25VPX8xsTRWPgFsQDPTBMAPFzKYbhg8T421qWT1zCT3Bs5IcjLNLCmHVtVtST5IM0vK3/dxwGGdU2djC/LkOhp41rRtRwCHVNWjaGbMeOuwCzUOktyLpivFG6ddIOzPWtR6nGSzqav5JPcEnglckGTLzm7zWtxEa2baBdp2wNOSnJ5keZLHj7JsGq22u8CqJHf7u0vy5iSVZNPFHKOqTql2IZk+ZpoYJM9Tk2G2O7R9zZKyOqM4p9qCPKGq6tS2wnRtx53LV58MfAt41xCLNXLtKOivAMdU1XGd7evSLO/9uFGVbQS2BD6bZpW0dYAvVtWJSf5XkmU0A2EuAv52hGVccqZfoLV17/40twgfD3wxyUPn6gs6yEFSS2SGlkl2NE2r7r93N6afBV8mkeepCTPLHVoY0CwpfZxTF8IEeWn5KU2/nP8AXgBsvdiASQ4G/obmJHUO8IqqummxcQeh7WP8GeD8qvrnaW8/A7igqlYOv2SjUVVn05zEpm9/yQiKM7ba1qsjgB1p6vkBVfWDBcaa6QJtJXBce/L+UZI7gE2Bq+YINdRBUsMwSeeS6dr+lq8CAny6qj6+0FizNG7AnQu+fHW+sZbCxY7nqcky2x3aNZklZQ2P19c5dY3ZxWJpOQB4XZIzaObBvGUxwZI8CPg7YOe2n/M9aAZ/jKunAC+hGb09fXL5F7IWda8YhUxb4naCHA58s6oeDuzEtKWc52uOC7T/oFmGnCTbAesDv15UiSfMBJ5L/qAdMPYqmkWedgL2SfInPR+jjwVftJbKLIutDOA4s92hfTlrNkvKfI830nOqLchLSFVdQLtoQFtp/qyHsOsC90xyK7ARcFkPMQeiqk6jaeGZ6b2XD7c0ozHiFqWpJW436aMMw5DkPsDTgZcDVNUtLPzCcuoC7Zw0U1ZBs5DHkcCRbZ/TW4CX9X0rcEJMzLlkmkcAp0/NAJFkOU13rV6mlkoPC75MkqXQ6j2XmQbQD8GMi61U1Q/7OsBsyWpnlpRdBzBLykjPqSbIS0iSzatqVZJ1gHfSzGixYFV1aZKP0PSJuxE4qapO6qGoWmJy5xK37wPeNOLirImH0NyWO6qdBeYM4KCqumFNA811gQa8eJbta4UJP5ecC7wvyQNoyr438OMe42/L4hd80fg4mhn6mA9SmxwOerGV2ZLVf2FAs6SM+pxqgjyhkhwL7AZsmmQlzSpX90ry+naX44CjFnmM+9H0aX4IcA3wpSQvrqrPLSZun5Z6a8QEWd0St+NqXeCxwIFVdXqSw4FDmOfgVuvf/EzCuWQ2VXV+O33VScANwArg9h7jnwNsPvU6zUIfO1fVWtUNZ6mYo4/5QLWDHM8A/gT4n53FVnoxR7L69cXG7nlQ8nRzruQ4F/sgT6iq2r+qtqyq9drJ4T9TVYdX1Xbt45Aebjk8A/jvqrqqqm6lSbqfvPjSaylJZ4nbUZdlAVYCKzv/mXyZJmFWvyb6XNKeXx9XVU8HrgZ+vtBYbePGD4Dtk6xM8sq+yqm1V8282MqkGORA4gXHtgV5QoyopepiYJe2j9yNwJ70e2tRS8PUErd7AxsCmyT5XFWNfbeCqroiySVJtq+qn9HU8fNGXa4laKLPJZ3uaw+m6X+8y0JjVdX+q3l/m4XGlrqLrbCAuaP7yjVmMml3ymxB1qzaVrUvA2fSTMu0DvCpkRZKY6dmWeJ2xMVaEwcCx6RZVnkZ8P4Rl2fJWQLnkq8kOQ84AXh9VV0z6gJJU2ZbbGW0pZp8tiBrTlV1GE3/ZmlJqqoVwM6jLsdSN8nnkqp62kJ/1n7qGoIZF1sZcZkmngmypN5U1SnAKSMuhrRG+rytbCK7dptpAH1VfWaQx5xtsRUtjgmybOHQkmb9Hh4/a63tVtfHXJPDBFnSapn4SNLwDWrQnOfi1cvauaCTJEmSNDNnsZAkSZI6TJAlSZKkDhNkSZIkqcMEWZIkSeowQZYkSZI6TJAlSZKkjolNkJM8MMmZSW5K0tt8zkmemOT7SU5L8rG+4raxd2xj/58kRyXpdR7CJAcnOa3nmNskuTLJKUlO6jP2oFlHZoxvHekYVB1pYw+kngy6jrTHsJ50eC6ZMb51ZAaD/E7nOObAzwmzHLf3OjDHsYZeNyY2QQZ+C+wJ/LDnuL8C9qiqpwKbJ3lUj7F/VlVPrqqnta937itwkg2AZX3Fm+bkqtqtqvYaUPxBsY50WEdmNKg6AoOrJwOrI2A9mYXnkg7ryJwG+Z3OZqDnhJkMuA7MZqh1Y2IT5Kq6qaquHkDcK6rqpvblrcDtPca+tfPyZuCSvmIDrwQ+22O8rt3bK9ODBxR/IKwjd2MdmWZQdaSNPZB6MuA6AtaTu/FccjfWkVkM8jud45iDPifMZJB1YDZDrRsTmyAPWpJHA5tV1Xk9x903ybnAFsBveoq5HrBbVX23j3jTXA5sB+wOPKP9XIR1pMM6ModB1JNB1JE2rvVkBDyX/MGSqSOD+k7nON5AzgmzHGuQdWA2Q68bJsgzSHJ/4BM0V0i9qqqvVdWOwEpgn57CvgT4fE+x7qKqbq6qG6rqNuBEYMdBHGfSWEfuZB2Z3aDqyYDqCFhPhs5zyZ2WSh0Z5Hc6mwGeE2YysDowm1HUDRPkadoBGJ8D3lJVV/Qce4POy2uBG3sKvT3w2iTfBB6Z5MCe4pLk3p2XTwEu7Cv2pLKO3JV1ZGaDqicDrCNgPRkqzyV3tRTqyCC/0zmOOchzwkwGVgdmM5K6UVUT+QDWA74NXA18B3hiT3H3B64CTmkfT+qxzPsBy9vHEcA6A/hcTus53t7AGcD3gQ+O+nu3jlhHJqGODLKeDKOOWE+GU088lyydOjKM73SU3/Ww6sA41Y20B5YkSZKEXSwkSZKkuzBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqQOE2RJkiSpwwRZkiRJ6jBBliRJkjpMkCVJkqSOBSXISdZJ8qJZ3ntCkse3z3dI8qYkey+mkJIkSdKwpKpmfzPZBHg98CDga8DJwBuANwNnVdV+0/Y/DHg2sG677xOB7wHPBL5VVe8bwO8gSZIk9WZ1CfJXgauBHwB7ApsDAQ6qqhUz7H8OsAzYALgC2Kqqrk1yT+D0qnp0/7+CJEmS1J91V/P+Q6vqUQBJjgAuBx5cVTfNsv9tVXU78PskF1bVtQBVdWOSO3ortSRJkjQgq+uDfOvUkzbxXTlHcgxwS5KN2uePm9qY5D6ACbIkSZLG3uq6WNwO3DD1Ergn8Pv2eVXVJtP236Cqbp4hzqbAllV1Tl8FlyRJkgZhzgRZkiRJWts4D7IkSZLUYYIsSZIkdZggS5IkSR0myJIkSVKHCbIkSZLUYYIsSZIkdZggS5IkSR1jnSAnOTLJqiTndrbdP8nJSX7R/nu/dvsTkqxoH2cleW6PsbdJcmMn/icH9TtLkiRptMY6QQaOBp41bdshwHeq6mHAd9rXAOcCO1fVsvZn/i3Juj3FBriwqpa1j9cs5JeRJEnS+BvrBLmqTgV+O23zfsBn2+efBf683ff3VXVbu31DYM4lAtcktiRJktYeY50gz2KLqrq8fX4FsMXUG0memOSnwDnAazoJ86JjAw9pu1csT/K0hRZekiRJ422uLghjr6oqSXVenw48MskjgM8m+UZV3dRD7MuBB1fVb5I8DviPJI+sqmsX/UtIkiRprExiC/KVSbYEaP9dNX2HqjofuB7YsY/YVXVzVf2mfX4GcCGw3YJ/A0mSJI2tSUyQvwa8rH3+MuCrAEkeMjUoL8kfAw8HLuop9mZJ7tE+fyjwMOCXC/8VJEmSNK7GOkFOcizwA2D7JCuTvBL4APDMJL8AntG+BngqcFaSFcDxwOuq6tc9xX46cHYb+8s0/ZunD/CTJGlJSnJwkp8mOTfJsUk2TPKCdtsdSXYedRmlPqVqzskeJEnSWizJg4DTgB2q6sYkXwS+DpwO3AH8G/CWqvrxCIupCZdke+ALnU0PBf4BOAX4JM0MZbfRNID+aNDlmehBepIkaSjWBe6Z5FZgI+CydrwPSUZaMC0NVfUzYBlA2631UpoeAZ8G3lNV30iyN/AhYLdBl2dsE+Tly5f30rS966673u0v94Rtt50+hdtCXfmcCy/8ox7iSJI0lqrq0iQfAS4GbgROqqqTRlwsLW170izQ9qt2RrFN2u33AS4bRgHGug/yAPWRHPcZR5KksZTkfjQLaT0EeCCwcZIXj7ZUWuJeCBzbPn8j8OEklwAfAQ4dRgHW1gRZGhtJ7pvky0kuSHJ+kid13ntzkkqy6SjLKGmt9gzgv6vqqqq6FTgOePKIy6QlKsn6wL7Al9pNrwUOrqqtgYOBzwyjHCbI0ugdDnyzqh4O7ARM9evbGtiL5ramJI3KxcAuSTZK0+F4T9rzlDQAzwbOrKor29cvo7kogyZpfsIwCmGCLI1QkvvQTCP4GYCquqWqrmnf/hjwNsCpZiSNTLtK7ZeBM4FzaHKHTyV5bpKVwJOA/0zyrREWU0vH/tzZvQKaPse7ts/3AH4xjEKM7SA9adwkuQi4DrgduK2qdk7yjzR98+6gWXnx5VW1JgMIHgJcBRyVZCfgDOAgmlual1bVWY4QlzRqVXUYcNi0zce3D6kXSTYGngn8bWfzq4DD28XgbgJePYyymCBLa2b3aQvQfLiq3gWQ5O9o5mx8zRrEWxd4LHBgVZ2e5HDg3TStynv1U2RJa4t2eqwf01xg79NeeH8SuBfN6rIvqqprR1hEaVZVdQPwgGnbTgMeN+yymCBLizDtP5qNWfPuECuBle0tTGhuY76bpmV5qvV4K+DMJE+oqisWV2JJS9xBNP2Dp6bFOoJmEY/lSQ4A3gq8a64APU6FCvOYDnWGpP4LwPbt2/cFrqmqZT2VR5oXE+QhmOGPf7G35TUaBXw7ye3Av1XVpwCSvA94KfA7YPc1Clh1RZJLkmzfTpK+J83ghD2n9mm7duw819LpkpRkK+DPgPcBb2o3bwec2j4/GfgWq0mQ6XcK0/nEuktSX1V/NfVGko/SnFs1oXq+4FpTC16vwkF6wzH1xz/lw1X16PaK+ESa2/Iaf09tv7NnA69P8nSAqnpHO/3MMcAbFhD3QOCYJGfTrCL0/r4KrKUlyT2S/CTJie3rFyT5aZI7kuw86vJp5D5OM7D3js62n9I0yAC8ANh62IWaSyepP2KG9wL8JXcdsKXJM8o1IxZ8bBPkAZvpj7+H2/Iagaq6tP13Fc3AlOlTzRwDPH8BcVdU1c7tRdOfV9XV097fxtZjtaZfbJ8LPI87WwjXSJINk/woyVltov2eznsHtnNz/zTJhxZXbA1akn2AVVV1xrS3DgBel+QM4N7ALUMv3NxmSuqnPA24sqqGMmvB2sC/+fmzi8XgTf3x37u7cTG35TV87cjadarquvb5XsB7kzysc/LeD7hgZIXUkjbT7fOqmpoze6Fhbwb2qKrrk6wHnJbkG8A9aerzTlV1c5LNF1t+DdxTgH2T7A1sCGyS5HNV9WLaAb9JtqOpQ2Ohm9Qn2W2GXaZP96XF829+nkyQB2iuP/6qegfwjiSH0tyWnz59jtZQu7DGv9PcUingU1V1eE+juLcAjm8TkXWBz1fVN5N8Jcn2NK0fv2IeM1j02B9rwX2rNJFmvNhejKoq4Pr25Xrto2hWrvpAVd3c7reqr2NqMKrqUNoleNv/b95SVS9OsnlVrUqyDvBOmnPhuJg1qW+n9HoeI5i9YCnzb37+7GIxWFN//BcB/xvYI8nnpu2zoNvymtFtwJuragdgF5p+wjvQdG85pKoeRdM14q1rGriqfllVO7WPR1bV+9rtz6+qHdvuEc+Z6oaxGn31xxplvy4N0Ry3z/uIfY8kK2gGDJ/czqiyHfC0JKcnWZ7k8X0fV0Ozf5Kf09zdugw4asTl+YOqOrSqtqqqbYAXAt9tW7yhmQv+gqpaObICLlH+zc+PCfIAzfbHn+Rhnd28Ld+Tqrq8qs5sn19H01fzQdx9FPdacUGSZOsk30tyXtun7KB2+4fbfmZnJzk+yX1HXVat1nwuthekqm5vB59uBTwhyY40d0nuT3Oh+Vbgi3HFmolRVadU1T7t88Orarv2cUjbgjgJXojdKwbCv/n5sYvFaHxgTW/La80k2QZ4DHA6d47i/g/mOYp7+fLlvfwnsuuuu47yBDPVon5mknsDZyQ5meYi4dCqui3JB2luy/79CMup1Zjt9nnPx7gmyfeAZ9HMz31cm0z9KMkdwKY0qz5KvauqU4BTOq9fPqqyrC38m5+bCfKQdP/4q2qtaMEclST3Ar4CvLGqrm0nx/+XJO8Cvsb4jeIeiKq6HLi8fX5dkvOBB1XVSZ3dfgj8xSjKtxQlORKY6g6xY7ttGU2/zw1pLlpeV1U/6ul4zwX+B7AZ8J9JVlTVn67Bz28G3Nr+R3lPmiVeP0jTR3F34HvtwK71AWdSGTNL5EJeQ+Tf/PyZIE+oWf4jfjfNmuVTV3xvr6qvj6aEo9GOyv0KcExVHQdQVRcwpqO4h2Vai3rXAcAXhl2eJexo4BM0g0WnfAh4T1V9ox2M9CFgt4UeYNrF9vE0/eoXakvgs2kWM1oH+GJVnZhkfeDIJOfSXFC+bIJuzWuMmdSPnH/z82SC3LMh/vEfzd3/Iwb4WFV9pI8yTJq2v9RngPOr6p8728d5FPfATW9R72x/B02L5jGjKtsozHJxeX+aC4VtaGY6+cvp81HPR1Wd2l6M3GUzdy77ex+agVJjoarOprlwmr79FqDXLhySRs+/+fkzQZ5Qs/xHvLZ7CvAS4Jx2hC7A24GHJXl9+/o4xmgU96DN1KLebn85TZK4Zx+tBO1AvyOAHWkSwgOq6geLjTsgR3P3i8tDgO9U1QeSHNK+7qtf9huBbyX5CE2LzZNX9wM9L806FtMBTlgdGZokBwN/Q/OZnAO8oqpuGm2pJJkgLz0HJnkp8GOaAVpr3Ao2qarqNGC2lvfDh1mWcTBHi/qzaObT3bWqft/T4Q4HvllVf9Heqtuop7i9m+Xicj/u7PbwWZouDH0lyK8FDq6qryT5S5rv5Bmr+Zk+p/C7S6wR3uKemDrSNdv86j3FfhDwd8AOVXVjki/SzN5wdB/xNT7aLg0/Bi6dmmGkT339XS/EUu3u4jRvS8u/Ag8FltEMzvroYgMmOTLJqrZfkibLVIv6HklWtI+9aVpP7w2c3G5bVJeTJPcBnk6T+FFVt1TVNYss+7Bt0Q5qBOiz9RbgZTR3LgC+xN2XKF/yJryOzDa/el/WBe7ZLoyxEWPUBUe9mr5MvMacLchLSFVdOfU8yaeBE3sIezQz93UeCw74mN0cLep9D9x8CM3A0KPaVQvPAA6qqht6Ps5QVFUl6bM15jJgV5pW6T2AX8y599I0sXVkttlggPN6iH1p2/XmYuBG4KRps8xoCcgMy8Rr/NmCvIQk2bLz8rnAolt9q+pU4LeLjaMlbV3gscC/VtVjgBto+vBOkiun/n7afxe0zGqSY4EfANsnWZnk/2/v3qMsqet7778/AoLiPSKikAUS5UQnOioHL4jc1CgiRB81sqLR6NJoPARJPDkSn0RNljnqUQknnmViRNEDEg3CE8WI4AUIywAP4KAI+HhGUYdwMQoqRpDL9/mjqqGmp7tnerpq194979davbp37d2/+s7sb9f+1q9+9fu9hmZmmfcluRz4K+B1PcU8S1ZDjiw1G8zWtvdgmuE9ewGPAHZO4o1Sq8/cMvF3jR2Itpw9yDOq/SA+CHhokg3A24CD2jlXi+ZO/N8fLUCNYqQe9Q3Ahna5UoDTmL3i5zM0QyHe1X7/p61ppKqOWuSpJ29lXKvFzOfIYrPBrNCzgO9W1Q/bfZxOcxNnL6skanzpLBPfLvKjGWGBPKMW+SA+ceKBaJtXVdcn+UGSfarqW8Ch9HD5eSiLnFy+i2Zp1dfQrG750i1pyyE+W2bWcmS+xWaD6cH3gacmuS/NEItDaW7k0uoxt0z8YTSLBT0gycl9r4Sp/lkgzwg/iDXljgZOaWcn+A7weyPHs6glenkPnWgg256ZyZGuxWaD6UNVXZTkNOAympsBvwZ8qM99aFyTWCZew7BAlrRiVbUO2HfsODS9ZjhHFpxfva9VSqvqbTRXMSRNEQtkLWmhy9FV5VAOzQyvvmglNjO/+maZf5rTXSZe088CWUta4nK0tiF+yGtLmCeSVgsLZPmhJmmb1ucqZB4HVy9Xq9u2pGq091uSJEmaOi4UIkmSJHVYIEuSJEkdFsiSJElShwWyJEmS1GGBLEmSJHVYIEuSJEkdM1sgJ3lEksuS3Jqkt/mckzwlyVeTXJDk+L7abdte07b9L0k+mqTXeQ2THJvkgp7b3DPJDUnOTXJ2n20PzRxZsH1zpGOoHGnbHiRPhs6Rdh/mSYfHkgXbN0e2wCT+XldqiPdypaYhF2a2QAZ+DBwKXNhzu98DDqmqZwAPS/IbPbb9rap6elUd0D7et6+Gk+wIrO2rvXnOqaqDquo5A7U/FHOkwxxZ0FA5AsPlyWA5AubJIjyWdJgjyzLo3+tKDfxertSouTCzBXJV3VpVNw3Q7vVVdWv78Hbgzh7bvr3z8DbgB321DbwG+FiP7XUd3J79HjtQ+4MwRzZhjswzVI60bQ+SJwPnCJgnm/BYsglzZAtN4O91pYZ8L1dq1FyY2QJ5aEkeD+xSVVf23O4RSa4AdgV+1FObOwAHVdWX+2hvnuuAxwAHA89q/1+EOdJhjixhiDwZIkfads2TEXgsuduqzJGh/l5XauD3cqVGzwUL5AUkeQjwAZozq15V1Weqag2wATi8p2ZfAXyip7Y2UlW3VdXPq+oO4KU0CCcAACAASURBVExgzRD7mTXmyD3MkcUNlScD5QiYJxPnseQeqzVHBvx7XanB3suVmoZcsECep70B42TgzVV1fc9t79h5+FPgFz01vQ/whiRnAY9LcnRP7ZLk/p2H+wPr+2p7VpkjGzNHFjZUngyYI2CeTJTHko2txhwZ+O91pQZ7L1dqKnKhqmbyC9gB+CJwE/Al4Ck9tXsU8EPg3PbraT3GfCRwXvv1YeBeA/y/XNBze4cBlwJfBd499vtujpgjs5AjQ+bJJHLEPJlMnngsWT05Mub7MI3v5WrIhbSBSJIkScIhFpIkSdJGLJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSdLUSPKRJDcmuaKz7ZNJ1rVf1yRZN+93fjXJLUne3EcM2/fRiCRJktSTk4APAB+f21BVvz33c5L3AT+Z9zvvBz7fVwAWyJIkSZoaVXV+kj0Xei5JgJcCh3S2/RbwXeDnfcXgEAtJkiTNigOAG6rq2wBJ7gf8N+Adfe7EAlmSJEmz4ijg1M7jtwPHV9Utfe7EIRaSJEmaekm2B14EPLmz+SnAi5O8B3gQcFeSW6vqAyvZlwWyJEmSZsGzgKurasPchqo6YO7nJG8HbllpcQwDD7FI8vHNv0qSJElqJDkV+FdgnyQbkrymfeplbDy8YrgYqqqfhpLPzN8EHAx8GaCqjuhlR5IkSdKA+hxisTtwJfBhoGgK5H2B9/W4D0mSJGlQffYg3ws4BjgM+K9VtS7Jd6rqUb3sQJIkSaveZ/fe+3pg1x6auuEF69c/fGt+sbce5Kq6Czg+yT+232/os31JkiRtE/oojlfUTu8FbHtn4UuSPB/4ad/tS5IkSUMarIe3qj4HfG6o9iVJkqQhuJKeJEmS1GGBLEmSJHVYIEuSJEkdFsiSJElShwWyJEnaSJKPJLkxyRWdbS9J8s0kdyXZt7N9zyS/SLKu/frbcaKW+mOBLEmS5jsJeO68bVcALwLOX+D166tqbfv1+qGDk4bmQh6SJGkjVXV+kj3nbbsKIMkYIUkTZQ+yJElaqb3a4RXnJTlg7GCklbIHWZIkrcR1wK9W1Y+SPBn4f5I8rqpcTVczyx5kSZK01arqtqr6UfvzpcB64DHjRiWtjAWyJEnaakl2SbJd+/OjgEcD3xk3KmllHGIhSZI2kuRU4CDgoUk2AG8Dfgz8DbAL8Lkk66rqN4FnAn+R5HbgLuD1VfXjcSKX+pGqGjsGSZIkCYDP7r13b8XpC9av36ppV+xBliRJd/vs3ntfD+zaU3M3vGD9+of31JY0MTM5BjnJse1qPlckOTXJTout8CNJkpalr+K477akiZm5AjnJI4E/BPatqjXAdsDLWHqFH0mSJGmLzOoQi+2B+7Q3BNwX+DdX+JEkSVIfZq4HuaquBd4LfJ9mcvKfVNXZ40YlSZKk1WLmCuQkDwaOBPYCHgHsnOTl40YlSdK4kjwoyWlJrk5yVZKnJflkuwT0uiTXJFk3dpzSLJjFIRbPAr5bVT8ESHI68HTg5FGjkiRpXCcAZ1XVi5PcG7hvVf323JNJ3gf8ZLTopBkycz3INEMrnprkvmkGHB8KXDX0Ttsz72+0Z+GXtNvWJrlwbluS/YaOQ5Kk+ZI8kGbBjhMBquqXVXVz5/kALwVOHSdCrXaLXMF4SJJzkny7/f7gsePcUjNXIFfVRcBpwGXAN2j+DR9K8sJ2tZ+n0azw84UBdn9wVa2tqrlp5N4DvKOq1gJ/3j6WJGnS9gJ+CHw0ydeSfDjJzp3nDwBuqKpvjxOetgFzVzD+E/AEms7LtwBfqqpHA19qH8+EmSuQAarqbVX1n6pqTVW9oqpuq6ozqmr3qtqxqnZtl78cPBTgAe3PDwT+bQL71EgWuYrwP9qz5a8nOSPJg8aOU9I2aXvgScAHq+qJwM/ZuBg5CnuPNZAlrmAcCXysfdnHgN8aJ8Llm9oxyD2v5DPf1qzsU8AXk9wJ/F1VfQh4E/CFJO+lOdl4es9xavocXFX/3nl8DnBcVd2R5N3AccB/W26jSbYDLgGurarDk6wF/hbYCbgD+IOqunjl4UtapTYAG9qrrNBcaX0LQJLtadYJePJIsS3J49+q0L2C8QTgUuAYYNequq59zZB1Xe+muQd5yP/ErWn7Ge1QiucBb0zyTOANwLFVtQdwLO2Zk7YdVXV2Vd3RPrwQ2H0rmzqGjcfSO3xHm0iyXXv5/Mz28duTXNuZpeCwsWPUOKrqeuAHSfZpNx0KXNn+/Czg6qraMEpwm+fxb/Zt7goGVVU0nY0zYZoL5KnSzr9MVd0InAHsB7wSOL19yT+227R6zV1FuDTJ6xZ4/tXA55fbaJLdgecDH563L4fvaL75hQTA8e29EWur6p/HCEpT42jglCRfB9YCf9VufxlTOrzC49+qsdAVjCcBNyTZDaD9fuNI8S3b1A6xmCbtjQ73qqqftT8/B/gLmj/aA4FzgUMAb35Y3Z5RVdcmeRhwTpKrq+p8gCRvpbkUeMpWtPvXwJ8A9+9sc/iONtIpJN4J/NHI4WgKVdU6YN8Ftr9q8tFsMY9/q0BVXZ/kB0n2qapvcc8VjCtpOhPf1X7/pxHDXBZ7kLfMrsAFSS4HLgY+V1VnAa8F3tdu/ytgoV5FrRKLXEUgyauAw4HfaS8hbbEkhwM3VtWl855y+I7mmysk7pq3/ej2JtGPLHcKpSQ7Jbk4yeVJvpnkHe12h25ocB7/Vp2FrmC8C3h2km/TDPV514jxLUuW+Xk+MZ/de+9BA3vB+vUZsn2tLgtcRTiH5ioCwPuBA+cWr1lmu/8deAVN7/NONJcVTwdeADyoqqqdv/QnVfWAxVvSatYWEodV1R8kOQh4c3sz067Av9Nckv5LYLeqevUy2g2wc1XdkmQH4AKaYRzPBW6pqvf2/W9Rf84777xePicPPPDAjT4P+/78Xezz1uOfFtNnDm5tvWcPsrRlFruK8AGaS4PntD1tf7ucRqvquHZ6wj1pxgl+uapezj3Dd8DhO4L9gSOSXAP8A3BIkpOr6oaqurOq7gL+nmXeB1GNW9qHO7Rf09lrolXH45+mmWOQO/o6G1/I/DP0pSTZA/g4TVFWwIeq6oQkb6cZ1jHXU/mn3pQzGVX1HZqJz+dv/7WBdvla4IR2eqZbcfjONq2qjqOZQpBOD/LLk+zWmULphcAVy227nWLrUuDXgP9VVRcleR7N0I3fpZl+64+r6qYe/inSlvD4NwOGuoIxLexBnk530HwgPRZ4Ks20co9tn/OO9UUk2SPJV5Jc2Y6nPKbd/pL28V1JNrmBZVpU1blVdXj78wVV9eSqekJVPWWBMXqaMkvk35CLybynXbzm68DBNOM1l6XtgV5LM0XhfknWAB8EHkUzjvA64H09xixtwuOfpo09yFOo7RG6rv35Z0muAh45blQzYe7E4rIk9wcuTXIOTa/ai4C/29KGelyoZmsWpdFsWiz/ellMZk5VnUszcw5V9YoVR31Puzcn+Qrw3O7Y4yR/D5zZ134kaRZYIE+5JHsCTwQuohmH6GXPRSx2YlFV5wA093pssb4WqtmknUldlkryEZrZNW6sqjXttrfjMJ1BLJF/Z3dediHw4jHiW0iSXYDb2+L4PsCzgXf3MXRDWshqvyyv1cMCeYoluR/waeBNVfXTJB+kuVN97o7199EsTqF55p1YbKtOormJ8OPzth/v7ATDWiL/Xg18cnO/3+MVDFj6KsZuwMfaccj3Aj5VVWcm+d/tcr8FXAP8fk+xbPMWOXF9CfB24NeB/arqkvEilAQWyFOrnXLp08ApVXU6QFXd0Hney56LmH9iMXY8Y6mq89tCTRO0WP4tczGZvorjJduqqq/TFPLzt/c2dEObOIlNT1yXPQxM2hqLnKA9hObEfU+aE+KXenXam/SmUjvv44nAVVX1/s723Tov87LnAhY6sdAmtnphCS1tsfxbyWIyq0WSByU5rb1h8aokTxs7pjG0q2/+eN62q9rVx6ShnUQzz3nXW4AvVdWjgS+1j7d59iBPp/1pJk//RpJ17bY/BY6axGXPJDsB5wM70uTIaVX1tiH21afFTiy0kcGG6bSX6S8Brp27G33aLdSbsoK2FjuxfS7NCngHVtV/rGQffRhxDOgJwFlV9eIk9wbu20ccQ1ts2s1xo9K06fNYMqRFriweCRzU/vwxmpuAt/pG4tXCAnkKVdUFwEIfPpO6meo24JDu6lpJPl9VF05o/1trsROLHYG/AXYBPpdkXVX95kgxjmrgYTrHAFfRrIY1K05i4XHaW2Ox/PufNDl4Tnuj6IVV9foe9jczkjwQeCbwKoCq+iXwyzFjWoYFZyepqivHDkxT5ST6O5ZM2q6dm3L7vP9hplkgaxPtJeCZW11riRMLgDMmGcu0Gmp2giS7A88H3gn8UR9tTkKf47Sn4MR2mu1FM3PKR5M8gWZhkmOq6ufjhrV5S0y7aYGsu62Wez7a5b2n/vN+EiyQRzQtK/ctZKHVtXoJTBOT5FSay2YPTbIBeBtw0EDDdP6aZhjB/XtqT6vL9sCTgKPblfpOoBnn+GfjhrU8zo6jVeqGuc6T9l6nG8cOaBpYIGtBVXUnsLZd9euMJGuqaupuCnROzcVV1VELbD6x7/0kmRt3d2m7DPI2w/zbYhuADZ0T7dOYsRuB+podZ5ET1x/jMDCN5zPAK4F3td//adxwpoMFspbUXV0LZ83QwvYHjkhyGLAT8IAkJ1fVy0eOS1Oiqq5P8oMk+7SzNRzKDA1R6HN2nEVOXMFhYJqARU7Q3gV8KslrgO8BLx0vwulhgaxNLLa61shhaQuM0aNZVcfRLJ9M24P8ZotjLeBo4JR2BovvAL83cjxbxNlxtJoscYJ26EQDmQEWyFrIgqtrjRyT1LuFelOqqvdhKIKqWgfsO3YcW2HB2Um2dIl2h+FsGzyWrD4WyNrEYqtrSZtTVefSzKE5E5boTZGAzc6OIwHTeyzxBG3rWSBL2iwPstoS5omk1SLb6KqnkiRJ0oLuNXYAkiRJ0jSxQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqwQJYkSZI6LJAlSZKkjpkvkJM8IsllSW5NMvjCJ0mekuSrSS5IcvzQ+2v3uabd578k+WiSiUyin+TYJBdMYl9DGCo3hsyBod/rId7TJHsmuSHJuUnO7rPtoQ15/BgqTyZxPDBPNuaxZMH2zZGOSdciffBYsrSZL5CBHwOHAhdOaH/fAw6pqmcAD0vyGxPY57eq6ulVdUD7eN+hd5hkR2Dt0PsZ2FC5MWQODPZeD/yenlNVB1XVcwZqfyhDHj+GypNBjwfmyYI8lnSYIwuadC3SB48lS5j5Armqbq2qmya4v+ur6tb24e3AnRPY5+2dh7cBPxh6n8BrgI9NYD+DGSo3hsyBgd/rId/Tg9teiGMHan8QQx4/hsqTCRwPzJN5PJZswhyZZ9K1SB88lixt5gvksSR5PLBLVV05of0dkeQKYFfgRwPvawfgoKr68pD7mXVD5cAQ7/XA7+l1wGOAg4Fntf8vag2RJ0MdD8yTcXgsuZs5MmEeSxZngbwVkjwE+ADN2dFEVNVnqmoNsAE4fODdvQL4xMD7mGlD5sBA7/Vg72lV3VZVP6+qO4AzgTVD7GcWDZUnAx4PzJMJ81hyD3Nk8jyWLM4CeZnawfcnA2+uqusntM8dOw9/Cvxi4F3uA7whyVnA45IcPfD+ZsqQOTDgez3Ye5rk/p2H+wPr+2p7lg2VJwMfD8yTCfJYsjFzZLI8lmxGVc30F7AD8EXgJuBLwFMG3t9RwA+Bc9uvp03g33gkcF779WHgXhP8/71g7Pd42nJjyByYxHvd93sKHAZcCnwVePfY7/s05MiQeTKp44F5MnyeeCwxR0aO2WPJEl9pdyZJkiQJh1hIkiRJG7FAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkjSqJDsluTjJ5Um+meQd857/4ySV5KGdbccl+T9JvpXkN/uMZ/s+G5MkSZK2wm3AIVV1S5IdgAuSfL6qLkyyB/Ac4PtzL07yWOBlwOOARwBfTPKYqrqzj2DsQZYkSdKoqnFL+3CH9qvax8cDf9J5DHAk8A9VdVtVfRf4P8B+fcVjgSxJkqTRJdkuyTrgRuCcqrooyZHAtVV1+byXPxL4QefxhnZbLxxiIUmSpNG1wyPWJnkQcEaSxwN/SjO8YqLsQZYkSdLUqKqbga/QDKPYC7g8yTXA7sBlSR4OXAvs0fm13dttvbBAliRJ0qiS7NL2HJPkPsCzga9V1cOqas+q2pNmGMWTqup64DPAy5LsmGQv4NHAxX3F4xALSZIkjW034GNJtqPpwP1UVZ252Iur6ptJPgVcCdwBvLGvGSwAUlWbf5UkSZK0jXCIhSRJktThEAtJkiSN4rN77309sOtAzd/wgvXrH741v2gPsiRJksYyVHG8orYtkCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjoskCVJkqQOC2RJkiSpwwJZkiRJ6rBAliRJkjq2H7LxJM8A9gOuqKqzh9yXJEmS1Idee5CTXNz5+bXAB4D7A29L8pY+9yVJkiQNoe8hFjt0fn4d8OyqegfwHOB3et6XJEmS1Lu+h1jcK8mDaQrv7arqhwBV9fMkd/S8L0mSJKl3fRfIDwQuBQJUkt2q6rok92u3SZIkSVOt1wK5qvZc5Km7gBf2uS9JkiRpCIPOYjGnqv4D+O4k9iVJkiSthPMgS5IkSR0WyJIkSVKHBbIkSZLUYYEsSZIkdVggS5IkSR0WyJIkSVKHBbIkSZLUYYEsSZIkdVggS5IkSR0WyJIkaUlJjklyRZJvJnlTu21tkguTrEtySZL9xo5T6osFsiRJWlSSNcBrgf2AJwCHJ/k14D3AO6pqLfDn7WNpVdh+7AAkSdJU+3Xgoqr6D4Ak5wEvAgp4QPuaBwL/Nk54Uv8skCVJ0lKuAN6Z5FeAXwCHAZcAbwK+kOS9NFeknz5eiFK/HGIhSZIWVVVXAe8GzgbOAtYBdwJvAI6tqj2AY4ETRwtS6pkFsiRJWlJVnVhVT66qZwI3Af8f8Erg9PYl/0gzRllaFSyQJUnSkpI8rP3+qzTjjz9BM+b4wPYlhwDfHic6qX+OQZYkSZvz6XYM8u3AG6vq5iSvBU5Isj1wK/C6USOUemSBLEmSllRVByyw7QLgySOEowlLsg/wyc6mR9FM7fcrwJHAXcCNwKuqalXMZpKqGjsGSZIkzYAk2wHXAk8Bbqqqn7bb/xB4bFW9fjntfXbvvQctRF+wfn225vfsQZYkSXf77N57Xw/s2lNzN7xg/fqH99SWpsOhwPqq+t687TvTzI29KlggS5Kkrr6K477b0nR4GXDq3IMk7wR+F/gJcPBYQfXNWSwkSZK0WUnuDRxBM60fAFX11nYu7FOA/zJWbH2zQJYkSaNJck2SbyRZl+SSdtvbk1zbbluX5LCx4xQAzwMuq6obFnjuFOD/mnA8g3GIhSRJGtvBVfXv87YdX1XvHSUaLeYoNh5e8eiqmpv/+kjg6lGiGoAFsiRJq0Q7w8AlwLVVdXiSTwL7tE8/CLi5qtaOFqBmVpKdgWcDv9/Z/K52Cri7gO8By5rBYppZIEuStHocA1wFPACgqn577okk76O5kWraFPDFJHcCf1dVH2q3H53kd2kK/j+uqptGi1BU1c9p5j3ubls1QyrmcwyyJEmrQJLdgecDH17guQAvpXN5fIo8o+3Vfh7wxiTPBD5IsxjFWuA64H0jxqdtkD3I0hZIshNwPrAjzd/NaVX1tiRrgb8FdgLuAP6gqi4eL1JJ27C/Bv4EuP8Czx0A3NAZLzo1qura9vuNSc4A9quq8+eeT/L3wJljxbctOe+88wabx/jAAw/cqgU7xmIPsrRlbgMOqaon0PRoPDfJU4H3AO9oez/+vH0s9SrJTkkuTnJ5km8meUfnuaOTXN1uN/+2UUkOB26sqksXeclGN1dNiyQ7J7n/3M/Ac4ArkuzWedkLgSvGiE/bLnuQpS1QzZrst7QPd2i/qv16QLv9gcCqWINeU2fuBO2WJDsAFyT5PHAfmjvHn1BVtyV52KhRakz7A0e006HtBDwgyclV9fIk2wMvAp48aoQL2xU4oxkBwvbAJ6rqrCT/u71CV8A1bHxjmDS4mSmQk+wBfJzmj6mAD1XVCUmeQHOJ+340f0S/M7cuuNSn9u7wS4FfA/5XVV2U5E3AF5K8l+aKzNPHjFGr0xInaG8A3lVVt7Wvu3GcCDW2qjoOOA4gyUHAm6vq5e3TzwKurqoNI4W3qKr6DvCEBba/YoRwpLvN0hCLO2juYn0s8FSagfyPpbkZ4S1V9RvAGcB/XU6jSfZI8pUkV7aXKI+Z9/wfJ6kkD+3p36EZVVV3tkMpdgf2S7KGpkA5tl1F6FjgxDFj1OqVZLsk64AbgXOq6iLgMcABSS5Kcl6S/7zMNhc8/rlIw6qz0dLAkjZvZnqQq+o6mjtZqaqfJbkKeCTNB8TcYP5zgC8Af7aMpucK78vacVCXJjmnqq5se62fA3y/r3+HZl9V3ZzkK8BzgVfSTKsEzdKbm9w9vpQlroz8Jc2l87toCqJXVdWyhm8s0fZLgLcDv05zM8wly2lX46iqO4G1SR5Ec0l6Dc0x/CE0nQb/GfhUkke1Pc5bYsHjX/ucizTMqKo6Fzi38/hVY8UyX183gc3aDV+aPbPUg3y3JHsCTwQuAr5JU0gAvATYYzltVdV1VXVZ+/PPaOaPfGT79PE0dwQPdlenZkOSXdrChCT3oZks/WqaMccHti87BFjuHeKLXRn5H1X1+LbH+kyaGwCXa7G2r6AZj3j+Ur+s6VRVNwNzJ2gbgNOrcTHNCdUWX+3azPFPkrZZM9ODPCfJ/YBPA2+qqp8meTXwP5P8GfAZ4JcraHtP2sI7yZE0KxFd3t48oG3bbsDH2nHI9wI+VVVnJrkZOKG9CeZW4HXLaXSxKyNVdWXnZTuzFSdpS7R9DoB5PTuS7ALc3l69mDtBezfNuOSDga8keQxwb2D+cr1buo89uafjYX9cpGHq2RsrDWemCuT27u1PA6dU1ekAVXU1zTAI2g+I529l23cX3jQ9b386165mQ5KPAHNTHa1pt614qAJAVX2dpniYv/0CerozfF6BQpJ3Ar9Ls/LVwX22rWEskoN9DGlZ7ATt3sBHklxB0znwymUMr+jGPb/j4YPAX9KcmP0lzSINr96KuCVpJs3MEIt2FaATgauq6v2d7Q9rv98L+L9pZrRYbtvzC++9gb2Ay5NcQ3NT1mVJHr7Cf8Ox7Y0wVyQ5tV18Qv05ieayc1cfQxUGN79AAaiqt7Y3/50C/Jc+29ZgTmLTHFzxkJaq+npVPbHN5TVV9Rft9l9W1cvbbU+qqi8vt+1FOh5uaG9KvQv4e2C/rY293cc+nRv+1iX5aTsDzDbPzwWtlH9fw5ilHuT9gVcA32jv5Iaml/fRSd7YPj4d+OhyGl2o8K6qbwAP67zmGmDfqtqqS5dtG48E/hB4bFX9IsmnaO4sPmlr29TGqur8tqe0u61bEG7xUIXP7r339TQ3t63UDS9Yv37JE6uFCpR5TgH+GXjbcne+BW1v89qx5R8G1tDkx6ur6l+3pq1FcvCqdj8rC3QAS3Q87NYO0YEeFmmoqm/RLLAzN13itTSzDm3T/FxQH/z7GsbMFMjtpezFPmFOWEHTCxbeVfXPK2hzMdsD90lyO3BfelpUYqHLun0Zsu1J2cqhCn0Ux5ttZ4kC5dF1z5KwR9LcELgsi7XdtyyyDPdQ+xvACcBZVfXidsjCfccOqMcTNFj6JG2xjoejMtwiDYcC66vqez22OZgJHAMH+VzQOKbgM3Om/r6m2cwUyEPZTOE995o9e9jPtWkWk/g+8Avg7Ko6e6Xttk4CPkAzpVffhmx7IqrqrcBbkxxHM1Rhmoq3xQqU1yTZh2bs9PeA1/fY9o7A3wC7AJ9Lsq6qfnMF/4YFV3mrqgtX0OZEJHkg8EzgVdAMWWAFN/r2qK/ieMm2ljj+DdFBMGfW5uQ9iYGOgQN/LmgcJzHuZ+as/X1NraktkCd5iXsSkjyYpidwL+Bm4B+TT3hYlwAAB4dJREFUvLyqTl5p2wtd1u3LkG2PYKuHKgxlyAJlMyd/vV1+a28KW2iVt1mwF/BD4KNpVuW8FDimqn4+blirU9tDfwTtim+zYMhj4JCfCxrHmJ+Zs/j3Nc2mtkBmwEvcI02N8yzgu1X1Q4Akp9MsS+yBcEB9DFXo22qcmikLLMM9ckhbanvgScDR1SwdfgLwFpa32NBMGTn/ngdcVlU39BHDKuDngvrk31ePprlAXm2+Dzw1yX1pLqUdSjO/qHqS5FTgIOChSTbQ9BQf1sNQhZkxVvFTC6zyVlUrurFrQjYAGzoF/Wk0BfJWWSQHf0y/Q1pm2VF4+bfLzwX1yb+vHlkgT0jbO3UacBnNPMtfAz40blSrS1UdtcDmEyceyDasNl6Ge+oL5Kq6PskPkuzT3gl+KHDl5n5vifYWykHwjnKS7EyzwEmfN/zNND8X1Bf/vvpngTxB7Z39UzP+dTVYjcMVZk0WX+VtVhwNnNKO3/sO8Hsjx7MqteO6f2XsOKaNnwvqg39f/bNAXgUWuqxbVb30nA7ZtlaNBVd5GzmmLVZV64B9t+Z3PUFb/TwGajnMl9XDArlnY3xgLnFZd8WGbFurw2LLcE8Li9jJWY3/1ys9Bq7G/xMtru/PzL7yZz7zafMskCVtlh/ykqRtSZopTCVJkiRBM15QkiRJUssCWZIkSeqwQJYkSZI6LJAlSZKkDgtkSZIkqcMCWZIkSeqY2QI5ySOSXJbk1iS9zeec5ClJvprkgiTH99Vu2/aatu1/SfLRJL3OCZvk2CQX9NzmnkluSHJukrP7bHto5siC7ZsjHUPlSNv2IHkydI60+zBPOjyWLNi+ObKAId/TJfY5+DFhkf32ngNL7GviuTGzBTLwY+BQ4MKe2/0ecEhVPQN4WJLf6LHtb1XV06vqgPbxVi1vu5AkOwJr+2pvnnOq6qCqes5A7Q/FHOkwRxY0VI7AcHkyWI6AebIIjyUd5siShnxPFzPoMWEhA+fAYiaaGzNbIFfVrVV10wDtXl9Vt7YPbwfu7LHt2zsPbwN+0FfbwGuAj/XYXtfB7ZnpsQO1PwhzZBPmyDxD5Ujb9iB5MnCOgHmyCY8lmzBHFjHke7rEPoc+JixkyBxYzERzY2YL5KEleTywS1Vd2XO7RyS5AtgV+FFPbe4AHFRVX+6jvXmuAx4DHAw8q/1/EeZIhzmyhCHyZIgcads1T0bgseRuqyZHhnpPl9jfIMeERfY1ZA4sZuK5YYG8gCQPAT5Ac4bUq6r6TFWtATYAh/fU7CuAT/TU1kaq6raq+nlV3QGcCawZYj+zxhy5hzmyuKHyZKAcAfNk4jyW3GO15MiQ7+liBjwmLGSwHFjMGLlhgTxPewPGycCbq+r6ntvesfPwp8Avemp6H+ANSc4CHpfk6J7aJcn9Ow/3B9b31fasMkc2Zo4sbKg8GTBHwDyZKI8lG1sNOTLke7rEPoc8JixksBxYzCi5UVUz+QXsAHwRuAn4EvCUnto9CvghcG779bQeYz4SOK/9+jBwrwH+Xy7oub3DgEuBrwLvHvt9N0fMkVnIkSHzZBI5Yp5MJk88lqyeHJnEezrmez2pHJim3Ei7Y0mSJEk4xEKSJEnaiAWyJEmS1GGBLEmSJHVYIEuSJEkdFsiSJElShwXyBCX5SJIb29VupE0k2SPJV5JcmeSbSY4ZOyZNlyQ7Jbk4yeVtjrxj7Jg0nZJsl+RrSc4cOxZNpyTXJPlGknVJLhk7nmniNG8TlOSZwC3Ax6tZ8UbaSJLdgN2q6rJ2YvRLgd+qCS1XqumXJMDOVXVLu+TrBcAxVXXhyKFpyiT5I2Bf4AFVNfTqappBSa4B9q2qfx87lmljD/IEVdX5wI/HjkPTq6quq6rL2p9/BlwFPHLcqDRNqnFL+3CH9sueDm0kye7A82kWjpC0TBbI0pRKsifwROCicSPRtGkvna8DbgTOqSpzRPP9NfAnwF1jB6KpVsAXk1ya5HVjBzNNLJClKZTkfsCngTdV1U/HjkfTparurKq1wO7AfkkcsqW7JTkcuLGqLh07Fk29Z7THkucBb2yHggoLZGnqtONKPw2cUlWnjx2PpldV3Qx8BXju2LFoquwPHNGOL/0H4JAkJ48bkqZRVV3bfr8ROAPYb9yIpocFsjRF2huwTgSuqqr3jx2Ppk+SXZI8qP35PsCzgavHjUrTpKqOq6rdq2pP4GXAl6vq5SOHpSmTZOf2ZnCS7Aw8B3CWrZYF8gQlORX4V2CfJBuSvGbsmDR19gdeQdPjs679OmzsoDRVdgO+kuTrwP9LMwbZabwkLdeuwAVJLgcuBj5XVWeNHNPUcJo3SZIkqcMeZEmSJKnDAlmSJEnqsECWJEmSOrYfOwBJ0vIkuRP4RmfTb1XVNSOFI0mrjjfpSdKMSXJLVd1v7DgkabVyiIUkSZLUYQ+yJM2YeUMsvltVLxwzHklabSyQJWnGOMRCkoblEAtJkiSpwwJZkiRJ6rBAliRJkjocgyxJkiR12IMsSZIkdVggS5IkSR0WyJIkSVKHBbIkSZLUYYEsSZIkdVggS5IkSR0WyJIkSVKHBbIkSZLU8f8Df6SKj8bn45QAAAAASUVORK5CYII=
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can see that if recency seems evenly distributed, almost half of the customers don't purchase very often (48% of customers have a frequency of 1 or 2).&lt;br&gt;
When looking at the monetary value, we see that the customers spending the most are those with the highest activity (R and F of 4-5). We have very few large orders (high monetary value but low frequency).&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Let's look at the distribution of our segments.&lt;br&gt;
I am not going to use a treemap like the segments matrix shown above to visualize the distribution of segments. Bar charts are a better fit for comparing quantities.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# count the number of customers in each segment&lt;/span&gt;
&lt;span class="n"&gt;segments_counts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rfm&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Segment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;barh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
              &lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;silver&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_frame_on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;labelbottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticklabels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;champions&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;loyal customers&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
            &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;firebrick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{:,}&lt;/span&gt;&lt;span class="s1"&gt; (&lt;/span&gt;&lt;span class="si"&gt;{:}&lt;/span&gt;&lt;span class="s1"&gt;%)&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                   &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;segments_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;())),&lt;/span&gt;
                &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;
               &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We have a lot of customers who don't buy frequently from us (29% are hibernating).  However, 32% of our customers are either champions or loyal customers.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Further analysis can be done that integrate the Monetary parameters.&lt;br&gt;
With customers assigned to segments and some statistics on the composition of our customers portfolio, we can work on targeted marketing campaigns to retain customers that are at risk, improve sales to customers with some potential and reward the best customers.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
 

&lt;/p&gt;</content><category term="python"></category><category term="segmentation"></category><category term="marketing"></category><category term="crm"></category></entry><entry><title>Average ensemble optimization</title><link href="https://guillaume-martin.github.io/blog/average-ensemble-optimization.html" rel="alternate"></link><published>2018-05-25T12:30:00+08:00</published><updated>2019-03-15T15:41:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-05-25:/blog/average-ensemble-optimization.html</id><summary type="html">&lt;p&gt;How to find the best weights to use in a weighted average ensemble.&lt;/p&gt;</summary><content type="html">&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Machine learning practitioners rely on ensembles to improve the performance of their model.
One of the methods used for ensembling multiple models is to calculate the weighted average of their predictions. The problem that rises is how to find the weights that will give us the best ensemble. In this post, I will explain how to optimize those weights using scipy. But before starting, I want to give credit to &lt;a href="https://www.kaggle.com/tilii7"&gt;Tilii&lt;/a&gt; from who I got this method that he used in this &lt;a href="https://www.kaggle.com/tilii7/cross-validation-weighted-linear-blending-errors"&gt;kernel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For this example, I will work on a regression problem using the boston dataset available in scikit-learn.&lt;br&gt;
First, I load the data:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.datasets&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;load_boston&lt;/span&gt;

&lt;span class="n"&gt;boston&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;load_boston&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boston&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boston&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;
&lt;span class="n"&gt;features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boston&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;feature_names&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;features&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[&amp;#39;CRIM&amp;#39; &amp;#39;ZN&amp;#39; &amp;#39;INDUS&amp;#39; &amp;#39;CHAS&amp;#39; &amp;#39;NOX&amp;#39; &amp;#39;RM&amp;#39; &amp;#39;AGE&amp;#39; &amp;#39;DIS&amp;#39; &amp;#39;RAD&amp;#39; &amp;#39;TAX&amp;#39; &amp;#39;PTRATIO&amp;#39;
 &amp;#39;B&amp;#39; &amp;#39;LSTAT&amp;#39;]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I'll work with only one feature for easy visualization.&lt;br&gt;
I'll use RM (Avg number of rooms)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Then I split the dataset into a train and test sets. I'll use the test set to evaluate my final model.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;

&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Let's have a quick pick at the data.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;royalblue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Average number of rooms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Median value of homes ($1000)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I am going to work with two models only. I'll ensemble a linear model and a tree based model.&lt;br&gt;
I choose a simple linear regression and a single decision tree to get weaker base models.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.linear_model&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LinearRegression&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.tree&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DecisionTreeRegressor&lt;/span&gt;

&lt;span class="n"&gt;model_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LinearRegression&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;model_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DecisionTreeRegressor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_depth&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Then, I need to generate out-of-fold (oof) predictions on the train set.&lt;/p&gt;
&lt;p&gt;What are out-of-fold predictions?&lt;br&gt;
We fit our model on a train set then we make predictions on a test set using the trained model. I am going to do the same for my ensemble. Here to fit the model is to find the best weights to calculate the average of the predictions from the base models. So to &lt;em&gt;'fit'&lt;/em&gt; my ensemble I need predictions made on the training set but I can't make predictions using data the model has already seen in the training phase. So for each base model, I need to train on a part of the training set and make predictions on another part. This is what we do in cross-validation.&lt;/p&gt;
&lt;p&gt;&lt;img src="../images/oof-predictions.png" alt="oof"&gt;&lt;/p&gt;
&lt;p&gt;I am going to do a 5 folds cross validation. For each iteration, I will:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;train the models on the train folds&lt;/li&gt;
&lt;li&gt;get predictions on the validation fold&lt;/li&gt;
&lt;li&gt;store the predictions in an array&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the end of cross validation, I will have an array for each model with predictions made on the training set. I will use those predictions as features to build my ensemble.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;KFold&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;mean_squared_error&lt;/span&gt;

&lt;span class="n"&gt;kf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;KFold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_splits&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;nrows_trn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# create an array for each model to store the oof predictions&lt;/span&gt;
&lt;span class="n"&gt;mod1_oof_trn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows_trn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mod2_oof_trn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows_trn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# create arrays to store each iteration score&lt;/span&gt;
&lt;span class="n"&gt;mod1_scores&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mod2_scores&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;trn_idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="c1"&gt;# split the features and target into training and validation folds&lt;/span&gt;
    &lt;span class="n"&gt;X_trn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;trn_idx&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;y_trn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;trn_idx&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="c1"&gt;# train the first model on the train folds&lt;/span&gt;
    &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_trn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_trn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# get the predictions on the validation fold&lt;/span&gt;
    &lt;span class="c1"&gt;# and save them in the array I created previously&lt;/span&gt;
    &lt;span class="n"&gt;mod1_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# store the model score for this iteration&lt;/span&gt;
    &lt;span class="n"&gt;mod1_scores&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_val&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mod1_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    
    &lt;span class="c1"&gt;# do the same thing for the second model&lt;/span&gt;
    &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_trn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_trn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;mod2_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;mod2_scores&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_val&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mod2_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;val_idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now that I have the predictions on the train set, I can fit my models on all the train data to get predictions on the test set.&lt;br&gt;
An alternative way would be to make predictions on the test set during cross validation and average the 5 predictions.&lt;br&gt;
Create arrays to store the predictions:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nrows_tst = X_test.shape[0]
mod1_oof_tst = np.zeros(nrows_tst)
mod2_oof_tst = np.zeros(nrows_tst)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then add those lines inside the CV script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mod1_oof_tst += model_1.predict(X_test) / 5
mod2_oof_tst += model_2.predict(X_test) / 5&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;mod1_predictions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mod2_predictions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Let's have a look at how my models behave.&lt;br&gt;
I am going to chart the boxplots of the CV scores and plot the regression lines of each model over the training data.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.gridspec&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;gridspec&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 1 CV score: mean = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;; standard deviation = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mod1_scores&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                                                                            &lt;span class="n"&gt;mod1_scores&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 2 CV score: mean = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;; standard deviation = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mod2_scores&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                                                                            &lt;span class="n"&gt;mod2_scores&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;gridspec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GridSpec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                     &lt;span class="n"&gt;height_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;ax1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:])&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;boxplot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;mod1_scores&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mod2_scores&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Models CV scores and regression lines&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Model 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;X_plot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y_plot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;royalblue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Average Number of rooms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Median value of homes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;sharey&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;X_plot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y_plot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;royalblue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Average number of rooms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Model 1 CV score: mean = 43.2682; standard deviation = 8.6542
Model 2 CV score: mean = 39.3335; standard deviation = 10.3182
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can see that the first model (linear regression) has a higher error but lower variance than the second model (decision tree).  Also, the regression lines are quite different except for a small segment where we have more data points.&lt;/p&gt;
&lt;p&gt;This is a good configuration for ensembling. Ensembling models that are too similar gives a smaller improvement of the prediction performance.&lt;/p&gt;
&lt;p&gt;I am now going to calculate the final predictions by calculating the weighted average of the predictions of those two models.&lt;br&gt;
I will use &lt;code&gt;scipy.optimize&lt;/code&gt; to find the best weights.&lt;br&gt;
First, I blend the predictions in a matrix where each row is a sample and each column is the prediction from one of the models.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;train_predictions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concatenate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;mod1_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                                    &lt;span class="n"&gt;mod2_oof_trn&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Then I need to define an objective function that I will have to minimize&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;objective&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Calculate the score of a weighted average of predictions&lt;/span&gt;
&lt;span class="sd"&gt;    &lt;/span&gt;
&lt;span class="sd"&gt;    Parameters&lt;/span&gt;
&lt;span class="sd"&gt;    ----------&lt;/span&gt;
&lt;span class="sd"&gt;    weights: array&lt;/span&gt;
&lt;span class="sd"&gt;        the weights used to calculate the average of the ensembled&lt;/span&gt;
&lt;span class="sd"&gt;        predictions.&lt;/span&gt;
&lt;span class="sd"&gt;        &lt;/span&gt;
&lt;span class="sd"&gt;    Returns&lt;/span&gt;
&lt;span class="sd"&gt;    -------&lt;/span&gt;
&lt;span class="sd"&gt;    float&lt;/span&gt;
&lt;span class="sd"&gt;        The mean_squared_error score of the ensemble&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    
    &lt;span class="n"&gt;y_ens&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;train_predictions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_ens&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Finaly, I use the &lt;code&gt;minimize&lt;/code&gt; function from &lt;code&gt;scipy.optimize&lt;/code&gt; to find the weights that will give the lowest MSE score.&lt;br&gt;
To avoid finding a local minima, I will run the optimization multiple time setting the initial weights at random.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;scipy.optimize&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;minimize&lt;/span&gt;

&lt;span class="n"&gt;results_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;    &lt;span class="c1"&gt;# a list to store the best score of each round&lt;/span&gt;
&lt;span class="n"&gt;weights_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;    &lt;span class="c1"&gt;# a list to store the best weights of each round&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# I randomly set the initial weights from which the algorithm will try searching a minima    &lt;/span&gt;
    &lt;span class="n"&gt;w0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;uniform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;train_predictions&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        
    &lt;span class="c1"&gt;# I define bounds, i.e. lower and upper values of weights.&lt;/span&gt;
    &lt;span class="c1"&gt;# I want the weights to be between 0 and 1.&lt;/span&gt;
    &lt;span class="n"&gt;bounds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;train_predictions&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="c1"&gt;# I set some constraints. Here, I want the sum of the weights to be equal to 1&lt;/span&gt;
    &lt;span class="n"&gt;cons&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;eq&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="s1"&gt;&amp;#39;fun&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;

    &lt;span class="c1"&gt;# I can now search for the best weights&lt;/span&gt;
    &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;minimize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;objective&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SLSQP&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;bounds&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;bounds&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;disp&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;maxiter&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
                   &lt;span class="n"&gt;constraints&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cons&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# I save the best score and the best weights of&lt;/span&gt;
    &lt;span class="c1"&gt;# this round in their respective lists&lt;/span&gt;
    &lt;span class="n"&gt;results_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;weights_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# After running all the rounds, I extract the best score&lt;/span&gt;
&lt;span class="c1"&gt;# and the corresponding weights&lt;/span&gt;
&lt;span class="n"&gt;best_score&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results_list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
&lt;span class="n"&gt;best_weights&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;weights_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;results_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_score&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;Optimized weights:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 1: &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_weights&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 2: &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_weights&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best score: &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_score&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;
Optimized weights:
Model 1: 0.3726
Model 2: 0.6274
Best score: 37.1407
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now, we can have a look at how our models perform on the test set.&lt;br&gt;
I am going to look at the performance of the two base models, the unoptimized ensemble (average without weights) and the optimized ensemble.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# individual scores&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 1 test score = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mod1_predictions&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Model 2 test score = &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mod2_predictions&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="c1"&gt;# unoptimized ensemble&lt;/span&gt;
&lt;span class="n"&gt;test_predictions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concatenate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;mod1_predictions&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                                   &lt;span class="n"&gt;mod2_predictions&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;unoptimized_ensemble&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;test_predictions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Unoptimized ensemble test score: &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                                          &lt;span class="n"&gt;unoptimized_ensemble&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="c1"&gt;# optimized ensemble&lt;/span&gt;
&lt;span class="n"&gt;optimized_ensemble&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;test_predictions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;best_weights&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Optimized ensemble test score: &lt;/span&gt;&lt;span class="si"&gt;{:.4f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                                        &lt;span class="n"&gt;optimized_ensemble&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;X_plot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;blend&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concatenate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;line_1&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                        &lt;span class="n"&gt;line_2&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line_ens&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;blend&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line_opt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;blend&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;best_weights&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;model 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;model 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line_ens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;unoptimized ensemble&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_plot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line_opt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;g&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=.&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;optimized ensemble&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Comparison of regression lines of all models&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Average number of rooms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Median value of homes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Model 1 test score = 46.9074
Model 2 test score = 40.2115
Unoptimized ensemble test score: 40.2323
Optimized ensemble test score: 39.5951
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmEAAAJeCAYAAAD82dIzAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMi4yLCBo
dHRwOi8vbWF0cGxvdGxpYi5vcmcvhp/UCwAAIABJREFUeJzs3Xdc1dX/wPHXAXGjqahZamrhBMQB
YijuUYpf230zR2b508qmo0xF0xyZDa2vI00rK8s9Gu5MKxFzRC4caI5kKSIO5HJ+f5wLXpENl8t4
Px8PH3o/9zPen3M/ct+ccz7vj9JaI4QQQggh8peTowMQQgghhCiOJAkTQgghhHAAScKEEEIIIRxA
kjAhhBBCCAeQJEwIIYQQwgEkCRNCCCGEcABJwkSuKaVaK6W+U0qdVUolKKWilVIblFL9lVLOjo7P
HpRSdZRSWik1wNGx5JRSaqBSKsz6mV10dDwFhVJqq1Jqaz4f87brSSm1UCkVnp9x5CWlVDml1JdK
qQjruX2Yy/21t+6nvc2yfP+ssssac1AOtivUn7/ImhKODkAUbkqpV4AZwGZgJHASqAR0Bf4HXARW
OSxA+zkHtAaOOTqQnFBK3QXMBRYDzwDXHBtRgTLU0QFYvQN85OggcuEF4L/AQOAI5v+MEMKGJGEi
x5RSAZgEbJbWeliqt1cppWYA5fI/MvtRSinARWt9HfjD0fHkgjvgDCzSWm/P7sZKqVLWNrArm/ZO
sPexkmmtD+TXsTKitS6UCb6NRsBZrfUXjg5EiIJKhiNFbowCYoARab2ptT6mtd6f/Fop5auU2qiU
uqyUildKbVJK+dpuY+2CP62UaqmU+k0pdVUpdVgp1cP6/mtKqXCl1CWl1CqlVNVU22ul1CSl1Gjr
fq4qpbYppbxTrddVKfWDUuqcUuqKUipUKfV66uFT67G+sg7dHQISgB7pDB/5WIdho637PK6U+jTV
/rLTBs2UUr9a9xWmlPq/TD8Rs30DpdQKpdRF6/n/oZTqbrt/YKv15SbreSzMYH9blVLblVKBSqk9
SqnrWHuLlFIllFJvKqUOKaWuW4ek31dKlU61j3rW9r5iHZ56Xyn1vPXYdTJrb+t7ZZVSU5VSJ6xD
qCesn7OTzfbllVIzlVKnrPGct7Z3Q5t1XlZKHbS2zQWlVIhS6qFU55vcPllqU+s6QdbzcVdKrbN+
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
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;As we can see here, the ensemble that was not optimized (i.e. the weights were the same for both models) didn't improve our predictions. It's score of &lt;code&gt;40.2323&lt;/code&gt; is worst than the score of the decision tree at &lt;code&gt;40.2121&lt;/code&gt;.&lt;br&gt;
After optimizing the weights, the ensemble's score improved to &lt;code&gt;39.5951&lt;/code&gt; which is significantly better than all the other models.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
 

&lt;/p&gt;</content><category term="python"></category><category term="scipy"></category><category term="optimization"></category><category term="machine learning"></category></entry><entry><title>Makeover Monday Week 21 - 2018</title><link href="https://guillaume-martin.github.io/blog/makeovermonday-2018wk21.html" rel="alternate"></link><published>2018-05-22T13:15:00+08:00</published><updated>2018-05-23T09:55:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-05-22:/blog/makeovermonday-2018wk21.html</id><summary type="html">&lt;p&gt;Review of the Guardian's predictions for the Premier League 2017-18&lt;/p&gt;</summary><content type="html">&lt;p&gt;This week, we were offered to work on a visualization made by &lt;a href="https://www.theguardian.com/football/2018/may/15/premier-league-2017-18-season-predictions-versus-reality"&gt;The Gardian&lt;/a&gt; to compare their predictions on the Premier League results for the season 2017-18 and the actual final standings.  &lt;/p&gt;
&lt;h2&gt;The original visualization&lt;/h2&gt;
&lt;p&gt;&lt;img alt="original" src="/images/epl-predictions.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;The Guardian used a simple table with two columns. One columns shows the predictions and the other one shows the actual rank at the end of the season.
This choice make it hard to visualize how ranking changed from prediction to actual.&lt;/p&gt;
&lt;h2&gt;My goal&lt;/h2&gt;
&lt;p&gt;I want to show the evolution between the predictions and the final results.&lt;br&gt;
I want to see where are the biggest surprises and in which part of the board are the largest differences.  &lt;/p&gt;
&lt;h2&gt;My visualization&lt;/h2&gt;
&lt;p&gt;I chose a scatter plot that compares the predictions with the actual results.&lt;br&gt;
There's a reference line that shows prediction = actual. Any team that is on the line performed as predicted. The team that are over the line performed better than predicted and the teams that are under the line performed worst.  &lt;/p&gt;
&lt;p&gt;The size of the marker shows the absolute value of the difference between the prediction and the actual result.  &lt;/p&gt;
&lt;p&gt;The color of the marker shows the difference between the prediction and the actual result where blue is a positive difference (the actual standing is higher) and red is a negative difference (the actual sending is lower).&lt;br&gt;
Here is the result:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="final" src="/images/makeovermonday-2018-wk21.png"&gt;&lt;/p&gt;</content><category term="tableau"></category><category term="visualization"></category><category term="makeovermonday"></category></entry><entry><title>Customizing Matplotlib Charts</title><link href="https://guillaume-martin.github.io/blog/customize-matplotlib-charts.html" rel="alternate"></link><published>2018-05-08T08:20:00+08:00</published><updated>2018-05-25T12:30:00+08:00</updated><author><name>Guillaume Martin</name></author><id>tag:guillaume-martin.github.io,2018-05-08:/blog/customize-matplotlib-charts.html</id><summary type="html">&lt;p&gt;Explore the Matplotlib API and learn how to customize your charts.&lt;/p&gt;</summary><content type="html">&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Since I started studying Python for data science, I have used Matplotlib for data visualization and found the library quite confusing.&lt;br&gt;
When I search for help on internet, I see different ways to do the same things. For example, to draw bars, some will use &lt;code&gt;plt.bar()&lt;/code&gt; and others &lt;code&gt;ax.bar()&lt;/code&gt;.&lt;br&gt;
Things are getting worst when you try to customize your graph (i.e. use subplots, modify axis, ...).&lt;/p&gt;
&lt;p&gt;The reason for this diversity of approaches to set a plot is that there are two API in Matplotlib. The &lt;code&gt;pyplot&lt;/code&gt; API and an &lt;code&gt;object-oriented&lt;/code&gt; API. It is advised to learn the &lt;code&gt;object-oriented&lt;/code&gt; API and I'll try to stick to it as much as I can in this post.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;seaborn&lt;/em&gt; library can help us create nice graphics easily, but when we want to display multiple charts at once or tweak the look of the charts, we also need to be able to work with matplotlib API.&lt;/p&gt;
&lt;p&gt;I'll use the titanic dataset to create some of the charts. It can be downloaded from &lt;a href="https://www.kaggle.com/c/titanic/data"&gt;Kaggle&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Let's get started! First thing, import matplotlib.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Backend"&gt;Backend&lt;a class="anchor-link" href="#Backend"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Matplotlib has many use cases. It can be used from the python shell or in jupyter notebooks or it can be embeded in applications interface.&lt;br&gt;
We can choose from different backends to handle all those different cases.&lt;/p&gt;
&lt;p&gt;There are two types of backends:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;user interface backends or interactive backends to display on GUI.&lt;/li&gt;
&lt;li&gt;hardcopy backends or non-interactive backends to generate image files.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The backend has to be set before we import pyplot.&lt;/p&gt;
&lt;p&gt;There are two ways to set the backend: &lt;code&gt;matplotlib.use('backend_name')&lt;/code&gt; or &lt;code&gt;%matplotlib backend_name&lt;/code&gt;.&lt;br&gt;
The second method is an iPython magic command and will not work in all circumstances.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# View what is the current selected backend.&lt;/span&gt;
&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_backend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;module://ipykernel.pylab.backend_inline&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can easily get a list of available backends&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;interactive backends:&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcsetup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;interactive_bk&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;non interactive backends:&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcsetup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;non_interactive_bk&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;all backends: &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcsetup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;all_backends&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;interactive backends:
[&amp;#39;GTK&amp;#39;, &amp;#39;GTKAgg&amp;#39;, &amp;#39;GTKCairo&amp;#39;, &amp;#39;MacOSX&amp;#39;, &amp;#39;Qt4Agg&amp;#39;, &amp;#39;Qt5Agg&amp;#39;, &amp;#39;TkAgg&amp;#39;, &amp;#39;WX&amp;#39;, &amp;#39;WXAgg&amp;#39;, &amp;#39;GTK3Cairo&amp;#39;, &amp;#39;GTK3Agg&amp;#39;, &amp;#39;WebAgg&amp;#39;, &amp;#39;nbAgg&amp;#39;]

non interactive backends:
[&amp;#39;agg&amp;#39;, &amp;#39;cairo&amp;#39;, &amp;#39;gdk&amp;#39;, &amp;#39;pdf&amp;#39;, &amp;#39;pgf&amp;#39;, &amp;#39;ps&amp;#39;, &amp;#39;svg&amp;#39;, &amp;#39;template&amp;#39;]

all backends: 
[&amp;#39;GTK&amp;#39;, &amp;#39;GTKAgg&amp;#39;, &amp;#39;GTKCairo&amp;#39;, &amp;#39;MacOSX&amp;#39;, &amp;#39;Qt4Agg&amp;#39;, &amp;#39;Qt5Agg&amp;#39;, &amp;#39;TkAgg&amp;#39;, &amp;#39;WX&amp;#39;, &amp;#39;WXAgg&amp;#39;, &amp;#39;GTK3Cairo&amp;#39;, &amp;#39;GTK3Agg&amp;#39;, &amp;#39;WebAgg&amp;#39;, &amp;#39;nbAgg&amp;#39;, &amp;#39;agg&amp;#39;, &amp;#39;cairo&amp;#39;, &amp;#39;gdk&amp;#39;, &amp;#39;pdf&amp;#39;, &amp;#39;pgf&amp;#39;, &amp;#39;ps&amp;#39;, &amp;#39;svg&amp;#39;, &amp;#39;template&amp;#39;]

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Here, I'll use the &lt;em&gt;nbAgg&lt;/em&gt; backend.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;use&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;nbAgg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;matplotlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_backend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;nbAgg&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;now that the backend is set, we can import pyplot&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Figure"&gt;Figure&lt;a class="anchor-link" href="#Figure"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;figure&lt;/code&gt; is the top level container that will contain everything we draw.&lt;br&gt;
When creating a figure, we can specify its size using the &lt;code&gt;figsize&lt;/code&gt; parameter. &lt;code&gt;figsize&lt;/code&gt; is a &lt;em&gt;width&lt;/em&gt;, &lt;em&gt;height&lt;/em&gt; tuple.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create a figure with width = 8 and height = 5.&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We can also use the &lt;code&gt;figaspect&lt;/code&gt; function to set the aspect ratio of our figure:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create a figure that is twice as tall as it is wide.&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figaspect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;2.0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Axes"&gt;Axes&lt;a class="anchor-link" href="#Axes"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Axes&lt;/code&gt; are the area in which the data is plotted. A &lt;code&gt;Figure&lt;/code&gt; can have multiple &lt;code&gt;Axes&lt;/code&gt; but &lt;code&gt;Axes&lt;/code&gt; belong to one &lt;code&gt;Figure&lt;/code&gt; only.&lt;br&gt;
We can add &lt;code&gt;Axes&lt;/code&gt; to a &lt;code&gt;Figure&lt;/code&gt; using the &lt;code&gt;add_axes()&lt;/code&gt; or &lt;code&gt;add_subplot()&lt;/code&gt; methods. &lt;code&gt;Subplots&lt;/code&gt; and &lt;code&gt;Axes&lt;/code&gt; are the same thing.&lt;br&gt;
&lt;code&gt;add_axes()&lt;/code&gt; takes the &lt;code&gt;rect&lt;/code&gt; parameter. &lt;code&gt;rect&lt;/code&gt; is a sequence of floats that specifies [left, bottom, width, heights]. So the &lt;code&gt;Axes&lt;/code&gt; are positioned in absolute coordinates.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;add_subplots()&lt;/code&gt; takes 3 integers as parameter. Those 3 numbers set the number of rows and columns and the position of the subplot in the grid: &lt;code&gt;add_subplots(ijk)&lt;/code&gt; add an &lt;code&gt;Axes&lt;/code&gt; in the kth position of a grid that has i rows and j columns.&lt;br&gt;
&lt;code&gt;add_subplots()&lt;/code&gt; is the easiest way to setup your layout while &lt;code&gt;add_axes()&lt;/code&gt; will give you more control over the position of your &lt;code&gt;Axes&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create a new axes at the first position of a 2 rows by 3 columns grid.&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;231&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="single-Axes"&gt;single Axes&lt;a class="anchor-link" href="#single-Axes"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create a figure.&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Add an axes.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="2659037f-c066-4b8b-ad6d-d49c8c4549b5"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#2659037f-c066-4b8b-ad6d-d49c8c4549b5');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="600"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Multiple-subplots"&gt;Multiple subplots&lt;a class="anchor-link" href="#Multiple-subplots"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We can create a figure with multiple subplots by calling &lt;code&gt;add_subplot()&lt;/code&gt; for each subplot we want to create.&lt;br&gt;
Here's an example for a 2 by 2 layout:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;ax1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;221&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;first subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;222&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;second subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;223&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;third subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;224&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fourth subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="fbc54ddc-e1d9-44d1-b367-886bd1921663"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#fbc54ddc-e1d9-44d1-b367-886bd1921663');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAAByNR6YAAAgAElEQVR4nO3de5hkZX3g8S+iM4hAjBgXGIFWHy8oBlxdwgwwdDaijmh0AMNFwvZOcHVn4yoJgjC5tEk2aGKcwQhDIHF751HUzT4RjYhsdLeRrDLRccmGDBcvNAze2FVpRGCGib1//E6lT5+u6q7qU9V13nm/n+c5D9OnTlW93TP15a1T55wGSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSdIyORv4R+AxYAY4Hhgv/twvRxSPeXwfH7NbI8T3cnGfH3eyWJbicuCNfRuJpOU0ydJf+3We844+P+YY0caRJdz3tUTTJXXwc8Ae4NPAqcCJwIHAs4s/98sriBfyWB8fs1sjNG+C9Qgw0a+BSFpWkzjB+hD9fRMu7XNOIl4kv7LE+z+1y+2cYM3lBEtK1yROsJxgSQuYIF4g5WWyuG2c+S+eKeAzwBnA/wYeB95b3PYmYDswDTwKfAv4cHHbaJvnmWHh3csHAu8H7i2e54fAV4FzS9tM0j5yE8VYW0aK57sE2ATcXzzmV4Ffqtx3vNj2ZcBfAQ8X39NHiL19Ze2e/xnA1cC3iT2D3wL+E7CytE27n0W770NK2c8B1wK7gN3A/wX+F/DKynavBL5AvNYeLbapvi4BXgR8DPh+8Xj3A9uY+9o6FvgU8CPiNX478G8qjzNKvObOJV6b3yme+/PACyvb7kd0477i8b4GrKP7CdZCXYTOE5zWGEdL6yaJCdYpwG3EIR3fBn4f2L+03Qjd967T828A/p7Z9n4SOKZ0+wTtO1Z9HClbzwM2Ei+My4iPBF9c3DZO+wnWd4BvAv+WePH/K2A18FMifuuAXyReuNuK+x3C7Av594vnOZH4GLKTa4CfABcVz3M6cCnw66VtJultgnU/cCsxQTwL+DtiErS6tO14se0U8EfAq4oxPELE9SkLPP8BRJQeAX4TOA34PeAJ4MbSdicSsb2R2Z/Fi5H2LZ8DHgTeQhx+8AbgPcQxny3nE+34JLAeeB3w18Be5k4GjgN+TLzheivwr4E3A58ADi62eSExUfoG8KvEMULXMzvZaBkt1t1LvHF6LXAOMYm6h7mTlfFi2z8HXlN8Lw8A32XxCdZiXYTeJ1j/j5hUvZ1o05XFdh8qbTdC971r9/yXFeuuJ342v0o0/yHg+cU2zwP+stjuxNJSnuxK2RslXiRnVdaP036CtRd4QWX9bxbb/swCz9PrR4T/QER3IZP0NsH6NjEJajkY+AHwN6V148W2H6g85nnF+jcv8PxvLbZ5U+W+lxTrTyut8yNC7et+DGxe4PYDidffpyvrn0TsedpeWvcFYq9UdS9y2ceIPS5HVtZ/lniz1urTKPF6vLGy3ZuYnTAAPJ3YS/RXle3W0N1e5266OEZvE6wZ4Jcr214L/BNwVPH1CN33rvr8T2f2zV/ZkcTP9qOldX5EKC1ilN4mWF9r8xhri21vJo7lWtVmm14nWH/B7EeQo7Q/1muS3iZYf9ph293MvmsdL7Z9eWW7JxN7ov58gef/BDFx2q9y32cVj/ne0jonWNrXtSZFv0VMWp5Suf2VxOviTOL1VV7eS+z9eRoxEdsL/Nkiz/d95k8MIJo0Q+yBgtnmvbWy3QuL9a09bOtK46uaYvEJVjddHKO3CdbDbR6jte35xdcjdN+76vO3vufqm0SIier3Sl87wZIWMUpvE6x2AYPY/f8FYlI0QxwrUD5eqtcJ1tOIjxPuKu73GHADs7uoofcJ1qY2276Xue8yx4uv28Xwe8zdq1Z9/s8TH0+08wRwXelrJ1ja1z0T2EK8FmeIPVrbgMOK299M++N4ysuRxGtxBvjtRZ5vL3PfALWczNy9z6O0b94Icxt1fvH1SW0e8za6OwZrsS6O0dsE6+ttnuNFxbbvKL4eofveVZ+/9T2f3Oa+f050rMUJlrSIUXqbYH1mkcdbSRxv8bni/q3P++ucRfgvivt9j5hwtXwO+HKb7T/D8PZg/ZjOe7CuKK1zgqWcHEUcP/kI8boFeDXxuvh1og/tlhXE3ut+7MF6dfH1KN1NsOruwSrr1MVziq+rB9efRTP3YH239LUTLGkRo/R3gtVyXHH/jcXXLy2+/vdLGGPL5uIxDiy+voY4pqB8YOWhxFkvU6V1Iyx8TMLnS+vGWfgYrPNL6yaZG9l/V2yzvnLfi4v15bOnfkBMyKScfJI48B3gIOIjxKu7uN8XiNf1MxfY5npiT/cRlfWfof0xWItNsH6WesdgtVPt4om0n9BsY3DHYJV7N0b7Y7A+VXmOZxN74T5SWvcnxX27vVSPlJ1R6k+wfo849fjNzJ4t9D+IM1ZeUmxzIPHC/dviOV/B/BCWbSc+EngDcSzDW4kzaL5U2qZ1Da+/JM6oOZe4fMQUC59FuJ54V/p3xF6p8kcAre97ijiL8DTgncSeqduJd9Qtk7Q/i/Bh4szDVxaPt4f576wniXfcryd+FtV3sFLKfoY4XvNi4szAU4s/P8bcA6XPJyYHHycatJZ4bf4esLW0Xesswm8SZ/L9IrH353rmn0V4N9GidcSEYAZ4V+mxRuluggVx1vMMsef61cCFdH8WYTdd3J/YK38f0a/XEHvqvsXCZxH+OtG8LcV25Ulq6/vopndjdD6LcBvxMzyf+GiyfBZh+b7jwC8wu8dRUmGU+hOs04ndxw8Qu59bu+qrn+OfA9xJBKb1wuzkCuArxLvWx4mwfoDYQ1V2AbCTCPc/Eh8HTND5Oli/w+x1eb5GRKpsvNj2XxJnN/2YiPb1xEd9ZZO0vw7WVuJyFk8U4/hD5p++fBwx2fwJS383LDXVSuJ18PfMXgPqLuL1dWBl27VEV35AtOGB4utqk44B/isxydhNTEr+M/Ovg/VpYjKwm3hTNFZ5nFG6n2DtB7ybmKzsLr6f19HddbC67eLziQPhp4m9ex8kLo/QboJ1BzFZ+wrRxe8Q1/J6cpvvo5vejdH+GLBfK77X3cTP8gbmX0pmBXFc6YPECQntHkeS/tk4EYqFPoqQpKYaIRrW799cIUm1jOMES1K6RnCCJamBxnGCJSldIzjBkiRJkrq3lvh9Ut8hZtJv7OI+pwI7iAP3vgW8rc02G5n95b87iF96KUkLsUeS9hnrgD8gfslkN0F7DnE21RbiTJELibNJyhd4O7tYd2GxzRbionVHIUmd2SNJ+6RugvY+4vT9smuYe5Xu7cy9LgrFfa5AkrpjjyTtM7oJ2heBKyvr1hPXEXoKcb2Nvcy/QvaVwC0LPO5K4JDKMtJmnYuLS/OWVcz/tUN12SMXF5elLIPoUW3dBO0e4PLKutavIzicuOL3TLGu7HLiqr2djLP4LxN1cXFp7tLul27XMYM9cnFxWdrS7x7VNkN3Qbussq71a1AOYzZoqyvbbGLuL/+tqr5jXAXM7Nq1a2Z6etrFxaWhy65du1pBO6SLxvTCHrm4uPS0DLBHtXUTtEHtkq86BJiZnp6ekdRc09PTw5xg2SNJ/2yAPaqtm6C9j/h9cmVbmX9QafW3ru+kt4NKDZqUgCFPsOyRpH/WtAnWQcDxxTIDXFT8uXUK8xXEb+puaZ0W/QHilOcNdD4tekOxzWbitOijexiXQZMS0Oeg2SNJS9a0CdYo7Q8Qmyhun2D+byI/lfht37uJi/d1urDfVLHNDuICgr0waFIC+hy0UeyRpCVq2gSrqQyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBDSxRxuBe4HHgR3AKQtsO0kMvrrcWNpmos3tt/U4JoMmJWBAQWtak+yRlICmTbDOBvYAFwLHAFuAR4CjOmz/DOCw0vISYC8wVtpmAripst0zehyXQZMSMICgNbFJ9khKQNMmWNuBrZV1dwJXdHn/dwIPA08rrZsAbqg5LoMmJWAAQWtik+yRlIAmTbBWEO/01lfWXwnc0uVj/ANwbWXdBPAQ8CBwD3Ad8Kwex2bQpAT0OWhNbZI9khLQpAnWEcVA1lTWXw7c3cX9Tyjuf0Jl/dnA6cCxwOuB24E7gJULPNZK4gfSWlZh0KTG63PQmtIkeyQlqIkTrNWV9ZuAu7q4/58R7xYXczhxTMUZC2wzTpsDVQ2a1GwDmmANu0nj2CMpOU2aYNXZHX8gMA28o8vn+jpw6QK3+45RSlCDPiLsZ5PskZSgJk2wIA4ovbqybieLH1A6RpxCfWgXz3Fose0FPYzLYx6kBAzoIPemNckeSQlo2gSrdUr0BuKU6M3EKdFHF7dvo33YbgU+3mb9QcD7iV38I8Ao8CXgAeDgHsZl0KQEDPAyDU1qkj2SEtC0CRbERf2mgN3ERf3Wlm6bJM7AKXsB8Q2c1uaxngrcTJytswe4r7j/kT2OyaBJCRjghUanaE6T7JGUgCZOsJrIoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkAmParNoEkJyCRo9khKQCY9qs2gSQnIJGj2SEpAJj2qzaBJCcgkaPZISkATe7QRuBd4HNgBnLLAtmPE4KvLATUesx2DJiVgQEFrWpPskZSApk2wzgb2ABcCxwBbgEeAozpsPwZMA4dVljqP2Y5BkxIwgKA1sUn2SEpA0yZY24GtlXV3Ald02H4MeKjPj9mOQZMSMICgNbFJ9khKQJMmWCuAvcD6yvorgVs63GesuM99wAPAZ4CX1XxMgJXED6S1rMKgSY3X56A1pUn2SEpQkyZYRxQDWVNZfzlwd4f7nAicDxxHHMPw34BHgefXeEyAcdocR2HQpGbrc9Ca0qRx7JGUnCZOsFZX1m8C7uryMZ4E3A58sOZj+o5RStCAJljDbpI9khLUpAnWUj/Oq7oOuKnPj+kxD1ICGvARYTv9bpI9khLQpAkWxMGfV1fW7aT7gz/3A74CfLiPjwkGTUrCgA5yb1qT7JGUgKZNsFqnL28gTl/eTJy+fHRx+zbmRuh3gVcDzwWOJyL2BHBCD4/ZDYMmJWCAl2loUpPskZSApk2wIC7ANwXsJi7At7Z02yQwUfp6M3G2zm7gQeBm5h/bsNhjdsOgSQkY4IVGO/VjkuVvkj2SEtDECVYTGTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJaGKPNgL3Ao8DO4BTFtj2LcCtwI+K5fPACZVtJohvsLzc1uOYDJqUgAEFrWlNskdSApo2wTob2ANcCBwDbAEeAY7qsP1HifgdD7wI+DDwELCqtM0EcBNwWGl5Ro/jMmhSAgYQtCY2yR5JCWjaBGs7sLWy7k7gii7vvz/wMHBBad0EcEPNcRk0KQEDCFoTm2SPpAQ0aYK1AtgLrK+svxK4pcvHOBh4DHhdad0E8Q7yQeAe4DrgWYs8zkriB9JaVmHQpMbrc9Ca0iR7JCWoSROsI4qBrKmsvxy4u8vHuAr4BnBAad3ZwOnAscDrgduBO4hodTLO/GMkDJrUcH0OWlOaNI49kpLTxAnW6sr6TcBdXdz/EuCHwM8vst3hxDEVZyywje8YpQQNaII17CbZIylBTZpg1dkdfzGxy/0VXT7X14FLexibxzxICWjQR4SDbJI9khLQpAkWxAGlV1fW7WThA0rfBUwDJ3b5HIcSp1tfsNiGJQZNSsCADnJvWpPskZSApk2wWqdEbyBOid5MnBJ9dHH7NuaG7RJgN3Amc095Pqi4/SDg/cQu/hFgFPgS8ABx8Gm3DJqUgAFepqFJTbJHUgKaNsGCuIbMFBGpHcDa0m2TxBk4LVO0OfiTOCgU4KnAzcTZOnuA+4r7H9njmAyalIABXmh0iuY0yR5JCWjiBKuJDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QENLFHG4F7gceBHcApi2x/JrAT2F38d33l9v2AceA7wGPAJPCSHsdk0KQEDChoTWuSPZIS0LQJ1tnAHuBC4BhgC/AIcFSH7VcDe4HLgBcV/30C+IXSNpcCDwNnAMcCHyfCdnAP4zJoUgIGELQmNskeSQlo2gRrO7C1su5O4IoO238CuKmy7nPAx4o/7wd8lwhay0rgIeCtPYzLoEkJGEDQmtgkeyQloEkTrBXEO7/q7vQrgVs63Od+4KLKuouA+4o/P5f45l5W2eZTwH/pYWwGTUpAn4PW1CbZIykBTZpgHVEMZE1l/eXA3R3uswc4r7LuPOLYB4rHmikeu+xa4OYFxrKS+IG0llXAzK5du2amp6ddXFwauuzataufQWtKk+yRi0uCS597VEsrZqsr6zcBd3W4zx7g3Mq6NxMHo8JszA6vbHMdsdu+k/Hifi4uLmkuI9TXlCaNM/yfp4uLy9KXEYasSbvj275jLP57SGKLY3fsOY79EOprSpPsUTMWx+7Ylzr2Q2iA7cDVlXU7WfiA0s9W1t3E/ANKLyndvoIlHuROQ35IPXLsw+HYh6PfY29ik/z7GQ7HPhyOvU9ap0RvIE6J3kycEn10cfs25oZtDfEO81LilOhLaX9K9EPEu9BjgetZ4mUaaMgPqUeOfTgc+3D0e+xNbJJ/P8Ph2IfDsffRRmCKOCh0B7C2dNskMFHZ/izieIg9xOnTZ1Rub13U77vEcRC3EFHrReN+SD1w7MPh2IdjEGNvWpP8+xkOxz4cjn0ft5II4sohj2MpHPtwOPbhSHns3Ur5e3Tsw+HYhyPlsUuSJEmSJEmSJEmSJEmSJEmStG/aCNxLnDa9Azhlke3PJC44uLv4b/Vqz8upl7G/BbgV+FGxfB44YdADXECvP/eWc4jTX28Y0LgW0+u4nw5cxeyp+XcCrx3kABfQ69jfSfzuvceAXcS1oA4Y5AA7WAv8NXHNqBngjV3c51Tie3wc+BbwtoGNrr/s0XCk2iOwSTapoVoXE7yQuJjgFuJigkd12H41cTHBy4iLCV7G/IsJLpdex/5R4h/z8cTYP0xc9HDVwEc6X69jbzkaeAD4IsMJWq/jXgF8BbgROIkY/8nAcQMf6Xy9jr31e/TOI36f1quImGwe9EDbWAf8AXFdqW5i9hzgJ8T3eAzxPe8hJiNNZo/sUa9skk1qrO3A1sq6O1n412HcVFn3OWZ/HcZy6nXsVfsDDwMX9HNQXVrK2PcH/hb4NeICj8MIWq/jfhvwTeApgxxUl3od+4eAL1TW/Qmx12GYuonZ+4jvrewa4MsDGVH/2CN71CubZJMaaRC/0HW5LGXsVQcTu1lf18dxdWOpY38P8MnizxMsf9CWMu7PAh8BrgW+D9wBXE7EeTktZeznEHsUWh/bPJcIxLsHMcAedBOzLxLfW9l6Yu9OE/7H0o49ske9skk2qbGOIH4wayrrLyc+421nD7F7suw84viH5bSUsVddBXyD5f/8eiljP4nYFf/M4usJlj9oSxn3XcQu7b8AXk4E4gfA7wxojJ0s9d/L24l/808U96/+8uNh6CZm9xDfW9ma4r6HD2JQfWCP7FGvbJJNaqzWX/DqyvpNxD/CdvYA51bWtT4XXk5LGXvZJcAPgZ/v87i60evYDyYOglxXWjfB8CZYvfzM7yH2MpTfHf4GcXDpclrK2EeB7xHHCryUeLd1P/Dbgxli17qN2WWVdScV9z1sEIPqA3tkj3plk2xSY+W6S/5iYjfrKwYwrm70OvbjiX+Ee0vLT4tlL/C8gY10rqX8zG8hzo4qW0d8Pyv6OrqFLWXstwJ/XFl3PvAo8KS+jq43++rueHs0HKn2CGwS2KRG2878XYw7Wfig0s9W1t3E8A4q7WXsAO8CpoETBzWoLvUy9gOAYyvLDcTBjseyvFHo9Wf+h8AUc1/87yDOfFluvY59B3FgZtm5xHEyy328Rlm3B5TurKzbSvMPKLVHw5Fqj8Am2aQGa50muoE4dXIzcZro0cXt25j7l72GmHVfSpxafCnDPy2627FfQhybcSaxS7K1HLRM4y3rdexVEwz3Mg3djvtI4MfAnwIvAE4nDizdtEzjLet17OPEWV3nEKcYn0YcI/OJ5RnuHAcRew5aew8uKv7cOp37CmL8La1Toj9AfK8bSOOUaHtkj3plk2xSo20kZvS7iRny2tJtk8SLp+ws4jPiPcQZDGcMeoAL6GXsU8Q/hOoyPuhBdtDrz71sguFeaHSK7se9GriNOC7mmwznjJ2WXsb+ZOB3iYA9RnwcdRVxkcLlNkr7f7sTxe0TxPjLTgW+Rnyv95LORf3s0XCk2iOwSTZJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiTlZw0wDjy9zW1TwGe6eIxRYKb4bx2TxbKcJoE7+vyYY8TPY2QJ930t8fch5eBs4B+Bx4jXzPHL/PwHEq+30Ta3jRNjeubyDaejcfo/lpHiMceWcN8XE2Ma6dtopH3QxXSeDEzR3QTrEODE4r91TOIE60PFfaV93c8Be4BPA6cSDTlwmcfwTOL1Nt7mtnGcYHVyFv15Uy3t0/oxwerWYvGcxAmWEyzl4iTi3/qvDOG59wOeihMsJ1jSgIwTL5LqMlrcPkVMsF4DfI3YjX8XsKHyOKPMf7FNAI8ALwX+O/Bj4MvFbfsBlwD3AY8Xj72O7idYbwK2A9PAo8C3gA+Xbh+j/QSn3TgniQnWKcBtxPf4beD3gf1L240U970E2ATcX4z9q8AvVZ6n0/NvAP6+uN8PgU8Cx5Run6D930f1caTUTTD/3/lk6fZfJnrxKNGOvwFWt3mMqTaPPc78NykzxJuXtwF3EnvO3tZmDDPF45Yf5yXAx4jefJ9ozc908T2+jOjng8Bu4DvAjcCzi9tH6DzBqU76WmN5GfBXwMPFeD5C7Aksmyqedz3wf4jefAv4j5XtOj3/ycAXiJ/7o8CXgNNLt4/R/ufW7vuQsvVs4IPEi2M9sYu+/FHfFLCLOEbiV4FXAf+12H5t6XFGaT/B2gPcC7wb+NfF/WE2Fn9OTN7eAjwAfJfFJ1irgZ8SwVsH/CLxwt5W2maM3iZY/4+YVL29GOOVzAa5ZaRYdz9wK3AG8S7u74rvsxz/ds9/WbHueuI4q18Fvgk8BDy/2OZ5wF8W251YWlbO/zFISXsesJH4t34Z8e/8xcVt5xXrbwbeQOzh+ioxSTm59BgT9DbBeoB4g3Mu0Y3jgFcz26LW6+15lce5C3gP8ErgImLCUn5D187TiK58hXhDuLb4PrYy+6ZqhN4nWFPAHxGduoh4E/s14CmlbaeK7/U+4N8SnfxIcf+LS9u1e/5TiZ59tRjvG4i/h58Sx8tBTOhaPdvI7M+tOtGTsrfYR4SPAUeV1h0A/AC4prRulPYTrBniBV729OIx/6qyfg3z38W285vFdgu9gxyjtwnWDPGOuexa4J+Y/d5Hiu2+TfwMWg4mfh5/s8DzP514J3hj5TmOJGL90dI6PyJULkaJf+tnldY9iXiN/Z/izy0HEXuP/ldp3QS9TbAeAn62sr6bjwjfVVl/FdGw/ZbmlgoAABhoSURBVNrcp+XlxX3fsMA2I/Q+wfpAZbvWZPTNpXVTxITouMq2/53Y69U6VKPd83+Z+DkfVFq3P/APxJvt1vfsR4RSFxabYH25zfovAzeVvh6l8wSreuD7umL9mR2eb3Lh4bKW2Xe3vwKsarPNGL1NsB5u8xitbc8vvh4pvv7TNttOEO+uWx8pVp+/9T2/qc19Pwt8r/S1EyzlYpT5E6xjaD+pAbiaeNPTmiBM0NsEq/qmDrqbYL2wsv6txfp/0eY+LT9DHAZwF/FR5IvbbDNC7xOsl1e2ezLwBLEHrmWKmBBVjRWP0doLWH3+pxETs6va3PeSYtsXFV87wZK6sJSD3CeZOxEapf0E6ydt7nt+se1JbW67je6OwXoDcYzA48Vj3UHs9m8Zo7cJ1tfbPMeLim3fUXw9Uny9qc2272XuXrXq87e+55OrdyTC+ETpaydYysUo8ydYJzP3jU3ZbxW3td5UTdDbBKvdxGEpB7mP0d2xkS8FPk5MtGaIY7Dew+zHeSP0PsFq94bye8TxnC1TzN2j3vIa5u5Vqz7/s4uvf6vNfavddoIldWGQE6xH2ty37h6sspXEMQOfKx6zdRzUObR/59kuCpMMfw/Wd0tfO8FSLkaptwfrGua+dlravYaqx1S2DHKC1bIf8XHd5uJ+7y7WH1Z8/dbK9oe2GVNrLIPeg/VPLLwHq9VUJ1hSF95OvFCOaXPbFP2fYP0s9Y7Bauc4Zg+4hDjgst2EZlubcU7Sn2OwPl9aN0b7Y7A+VXmOZxN74T5SWvcnxX2firRvG6X9MVgPAP+bucc4PY04NuhvS+veTbxGyx/VrSD2SHc7wTq4uO19bW4bpz8TrLIfEScKQXx/jzF/QrOB3o/BKu/xm6LzMVgPs/AxWF8iJq3l/jyJOCaufAzW64v7rkNSR6PEC+UaYg/QK4jowGAmWBCXQJgh3nW9GriQ7s8i/D3iDJ43E3uv3gD8D+LMl5cU2+xPHPtwH/HR4WuAPyNOVW43wWqdRfjrxNk5W4rtri5tN1Ksa51FuJ7YC/d3xDvI8keeY8wPcOusm21ElM4n/kdQPouwfN9x4BeIv48VC/5EpDSNMn+CBbOThhuJNz5vIl5n1bMIn0O87v8ncWbuGcTrufU6L+s0wYLo3F3Ea/8VzL5ux1n6BOt1xN7pf0ecfXgacQbhDHHWdMt1xCTrN4jLvVxG7H3qNMGaIs4iPA14J3EphduZ24gp5p5F+BpmzyK8pLTdCPMnWKcSP9PbiL+XXyY+ISifRQjxs58hPpo8mfi5HbrAz0PK1h8SE4x/Yu4EZIrBTLD2I9593k9E8++JIFUft53TiXA9UNz3+0SIq8c3PZ84EH6auA7NB4kIt5tg3UGE5SvEHqXvAP+J2P3eMsJsoH6HeDe3mzhF+lXMNUb7AP9a8b3uJiZWNzD/4NcVRHQfJKK21HfKUtON0n6CBfHGqXVdukeIPcRr2my3jtjb9Shx2ZP/wMLXwWrnl4jXceuYzolifetxljLBeiFxSZZvFGN7iLh237+pbHcI8Xr/HvF9fho4ms4TrH9ZbPNjYm/U9cCzKo85RXT7TKJtu4nL5VxU2W6E9seAta6D9Ugx9i8Tfa56BzGZ3dvhcSSpKyNERC5eZDtJGqYp+vsbOCRpoEZwgiWp+aZwgiUpISM4wZLUfFM4wZIkSZKWZi3w18SBwzPAG7u4z6nADmZ/SeXb2myzkThw7/Fi21P6MVhJ+zR7JGmfsQ74A+IU2m6C9hziCuBbiGszXUicNlq+MOXZxboLi222EGc8HIUkdWaPJO2Tugna+4A7K+uuYe7vxNtOXFOk7E7gilqjk5QTeyRpn9FN0L4IXFlZt564mONTiOsE7S3WlV0J3NKHMUrKgz2StM/oJmj3AJdX1rV+jcrhwBHFn6sXnbscuHuBx11JXNStvIy0Wefi4tK8ZRVzf3VKP9gjFxeXpSyD6FFt3Qbtssq6k4r7HsZs0FZXttlE/LqDTsaL+7m4uKS5rKK/ZrBHLi4uS1v63aPaZhjeLvnqO8ZVwMyuXbtmpqenXVxcGrrs2rWrFbRDumhML+yRi4tLT8sAe1RbN0F7H7Czsm4r8w8qvbqyzU56O6j0EGBmenp6RlJzTU9PD3OCZY8k/bMB9mhJDgKOL5YZ4hdOHs/sKcxXANtK27dOi/4AccrzBjqfFr2h2GYzcVr00T2My6BJCehz0OyRpCVr2gRrlPafX04Ut08Ak5X7nEr8dvPWbwHvdGG/qWKbHcQFBHth0KQE9Dloo9gjSUvUtAlWUxk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJyKRHtRk0KQGZBM0eSQnIpEe1GTQpAZkEzR5JCcikR7UZNCkBmQTNHkkJaGKPNgL3Ao8DO4BTFth2khh8dbmxtM1Em9tv63FMBk1KwICC1rQm2SMpAU2bYJ0N7AEuBI4BtgCPAEd12P4ZwGGl5SXAXmCstM0EcFNlu2f0OC6DJiVgAEFrYpPskZSApk2wtgNbK+vuBK7o8v7vBB4GnlZaNwHcUHNcBk1KwACC1sQm2SMpAU2aYK0g3umtr6y/Erily8f4B+DayroJ4CHgQeAe4DrgWYs8zkriB9JaVmHQpMbrc9Ca0iR7JCWoSROsI4qBrKmsvxy4u4v7n1Dc/4TK+rOB04FjgdcDtwN3ENHqZJw2x1EYNKnZ+hy0pjRpHHskJaeJE6zVlfWbgLu6uP+fEe8WF3M4cUzFGQts4ztGKUEDmmANu0n2SEpQkyZYdXbHHwhMA+/o8rm+Dlzaw9g85kFKQIM+Ihxkk+yRlIAmTbAgDii9urJuJ4sfUDpGnEJ9aBfPcWix7QU9jMugSQkY0EHuTWuSPZIS0LQJVuuU6A3EKdGbiVOijy5u30b7sN0KfLzN+oOA9xO7+EeAUeBLwAPAwT2My6BJCRjgZRqa1CR7JCWgaRMsiIv6TQG7iYv6rS3dNkmcgVP2AuIbOK3NYz0VuJk4W2cPcF9x/yN7HJNBkxIwwAuNTtGcJtkjKQFNnGA1kUGTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgEx6VJtBkxKQSdDskZSATHpUm0GTEpBJ0OyRlIBMelSbQZMSkEnQ7JGUgCb2aCNwL/A4sAM4ZYFtx4jBV5cDajxmOwZNSsCAgta0JtkjKQFNm2CdDewBLgSOAbYAjwBHddh+DJgGDqssdR6zHYMmJWAAQWtik+yRlICmTbC2A1sr6+4Eruiw/RjwUJ8fsx2DJiVgAEFrYpPskZSAJk2wVgB7gfWV9VcCt3S4z1hxn/uAB4DPAC+r+ZjtGDQpAX0OWlObZI+kBDRpgnVEMZA1lfWXA3d3uM+JwPnAccQxDP8NeBR4fo3HBFhJ/EBayyoMmtR4fQ5aU5pkj6QENXGCtbqyfhNwV5eP8STgduCDNR9znDYHqho0qdkGNMEadpPGsUdScpo0werXx3nXATfVfEzfMUoJasBHhO3UbZI9khLUpAkWxMGfV1fW7aT7gz/3A74CfLiPjwke8yAlYUAHuTetSfZISkDTJlit05c3EKcvbyZOXz66uH0bcyP0u8CrgecCxxMRewI4oYfH7IZBkxIwwMs0NKlJ9khKQNMmWBAX4JsCdhMX4Ftbum0SmCh9vZk4W2c38CBwM/OPbVjsMbth0KQEDPBCo536McnyN8keSQlo4gSriQyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBGTSo9oMmpSATIJmj6QEZNKj2gyalIBMgmaPpARk0qPaDJqUgEyCZo+kBDSxRxuBe4HHgR3AKQts+xbgVuBHxfJ54ITKNhPEN1hebutxTAZNSsCAgta0JtkjKQFNm2CdDewBLgSOAbYAjwBHddj+o0T8jgdeBHwYeAhYVdpmArgJOKy0PKPHcRk0KQEDCFoTm2SPpAQ0bYK1HdhaWXcncEWX998feBi4oLRuArih5rgMmpSAAQStiU2yR1ICmjTBWgHsBdZX1l8J3NLlYxwMPAa8rrRugngH+SBwD3Ad8Kwex2bQpAT0OWhNbZI9khLQpAnWEcVA1lTWXw7c3eVjXAV8AzigtO5s4HTgWOD1wO3AHcDKBR5nJfEDaS2rMGhS4/U5aE1pkj2SEtTECdbqyvpNwF1d3P8S4IfAzy+y3eHEMRVnLLDNOPMPQjVoUsMNaII17CaNY4+k5DRpglVnd/zFxC73V3T5XF8HLl3gdt8xSglq0EeE/WySPZIS1KQJFsQBpVdX1u1k4QNK3wVMAyd2+RyHEqdbX7DYhiUe8yAlYEAHuTetSfZISkDTJlitU6I3EKdEbyZOiT66uH0bc8N2CbAbOJO5pzwfVNx+EPB+Yhf/CDAKfAl4gDj4tFsGTUrAAC/T0KQm2SMpAU2bYEFcQ2aKiNQOYG3ptkniDJyWKdocm0AcswDwVOBm4mydPcB9xf2P7HFMBk1KwAAvNDpFc5pkj6QENHGC1UQGTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAjLpUW0GTUpAJkGzR1ICMulRbQZNSkAmQbNHUgIy6VFtBk1KQCZBs0dSAprYo43AvcDjwA7glEW2PxPYCewu/ru+cvt+wDjwHeAxYBJ4SY9jMmhSAgYUtKY1yR5JCWjaBOtsYA9wIXAMsAV4BDiqw/argb3AZcCLiv8+AfxCaZtLgYeBM4BjgY8TYTu4h3EZNCkBAwhaE5tkj6QENG2CtR3YWll3J3BFh+0/AdxUWfc54GPFn/cDvksErWUl8BDw1h7GZdCkBAwgaE1skj2SEtCkCdYK4p1fdXf6lcAtHe5zP3BRZd1FwH3Fn59LfHMvq2zzKeC/LDCWlcQPpLWsAmZ27do1Mz097eLi0tBl165d/QxaU5pkj1xcElz63KNajigGsqay/nLg7g732QOcV1l3HnHsA8VjzRSPXXYtcPMCYxkv7ufi4pLmMkJ9TWnSOMP/ebq4uCx9GWHIWjFbXVm/Cbirw332AOdW1r2ZOBgVZmN2eGWb64jd9p20fcdY/PeQxBbH7thzHPsh1NeUJtmjZiyO3bEvdeyHMGRN2R3fziE05Ie0BI59OBz7cPRz7E1tkn8/w+HYh8Ox98l24OrKup0sfEDpZyvrbmL+AaWXlG5fwRIPcqchP6QeOfbhcOzD0e+xN7FJ/v0Mh2MfDsfeJ61TojcQp0RvJk6JPrq4fRtzw7aGeId5KXFK9KW0PyX6IeJd6LHA9SzxMg005IfUI8c+HI59OPo99iY2yb+f4XDsw+HY+2gjMEUcFLoDWFu6bRKYqGx/FnE8xB7i9OkzKre3Lur3XeI4iFuIqPViZfEYK3u8XxM49uFw7MMxiLE3rUn+/QyHYx8Oxy5JkiRJkiRJkiRJkiRJkiRJkvpnI3AvcVbPDuCURbY/k7gezu7iv9WLES6nXsb+FuBW4EfF8nnghEEPcAG9/txbziFOf71hQONaTK/jfjpwFbNnjt0JvHaQA1xAr2N/J/GrYR4DdhGXKjhgkAPsYC3w18QlDWaAN3Zxn1OJ7/Fx4FvA2wY2uv6yR8ORao/AJtmkhmpd6+ZC4lo3W4hr3RzVYfvVxLVuLiOudXMZ8691s1x6HftHiX/MxxNj/zBxTZ5VAx/pfL2OveVo4AHgiwwnaL2OewXwFeBG4CRi/CcDxw18pPP1OvbWr3k5j/h9Wq8iYrJ50ANtYx3wB8RlD7qJ2XOAnxDf4zHE97yHmIw0mT2yR72ySTapsbYDWyvr7mThqzXfVFn3OWav1ryceh171f7Aw8AF/RxUl5Yy9v2BvwV+jbj+0DCC1uu43wZ8E3jKIAfVpV7H/iHgC5V1f0LsdRimbmL2PuJ7K7sG+PJARtQ/9sge9com2aRGGsTvG1suSxl71cHEbtbX9XFc3Vjq2N8DfLL48wTLH7SljPuzwEeAa4HvA3cAlxNxXk5LGfs5xB6F1sc2zyUC8e5BDLAH3cTsi8T3Vrae2LvThP+xtGOP7FGvbJJNaqwjiB/Mmsr6y4nPeNvZQ+yeLDuPOP5hOS1l7FVXAd9g+T+/XsrYTyJ2xT+z+HqC5Q/aUsZ9F7FL+y+AlxOB+AHwOwMaYydL/ffyduLf/BPF/au/m28YuonZPcT3VramuO/hgxhUH9gje9Qrm2STGqv1F7y6sn4T8Y+wnT3AuZV1rc+Fl9NSxl52CfBD4Of7PK5u9Dr2g4mDINeV1k0wvAlWLz/ze4i9DOV3h79BHFy6nJYy9lHge8SxAi8l3m3dD/z2YIbYtW5jdlll3UnFfQ8bxKD6wB7Zo17ZJJvUWLnukr+Y2M36igGMqxu9jv144h/h3tLy02LZCzxvYCOdayk/81uIs6PK1hHfz4q+jm5hSxn7rcAfV9adDzwKPKmvo+vNvro73h4NR6o9ApsENqnRtjN/F+NOFj6o9LOVdTcxvINKexk7wLuAaeDEQQ2qS72M/QDiF+KWlxuIgx2PZXmj0OvP/A+JXxZcfvG/gzjzZbn1OvYdxIGZZecSx8ks9/EaZd0eULqzsm4rzT+g1B4NR6o9AptkkxqsdZroBuLUyc3EaaJHF7dvY+5f9hpi1n0pcWrxpQz/tOhux34JcWzGmcQuydZy0DKNt6zXsVdNMNzLNHQ77iOBHwN/CrwAOJ04sHTTMo23rNexjxNndZ1DnGJ8GnGMzCeWZ7hzHETsOWjtPbio+HPrdO4riPG3tE6J/gDxvW4gjVOi7ZE96pVNskmNtpGY0e8mZshrS7dNEi+esrOIz4j3EGcwnDHoAS6gl7FPEf8Qqsv4oAfZQa8/97IJhnuh0Sm6H/dq4DbiuJhvMpwzdlp6GfuTgd8lAvYY8XHUVcRFCpfbKO3/7U4Ut08Q4y87Ffga8b3eSzoX9bNHw5Fqj8Am2SRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkjRk/x9a4PEvplfh5QAAAABJRU5ErkJggg==" width="600"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This method is not the most efficient, especially if we want to draw a lot of subplots.&lt;br&gt;
An alternative way is to use the &lt;code&gt;plt.subplots()&lt;/code&gt; function.&lt;br&gt;
The function returns a figure and an array of axes.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# We can now access any Axes the same way we would access&lt;/span&gt;
&lt;span class="c1"&gt;# an element of a 2D array.&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;first subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;second subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;third subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fourth subplot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="aaae9834-a769-4f62-bade-5b968158cb27"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#aaae9834-a769-4f62-bade-5b968158cb27');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Another way to create grid layouts is to use the &lt;code&gt;gridspec&lt;/code&gt; module.  It lets us specify the location of subplots in the figure. It also makes it easy to have plots that span over multiple columns&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.gridspec&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;gridspec&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# I use gridspec de set the grid.&lt;/span&gt;
&lt;span class="c1"&gt;# I need a 2x2 grid.&lt;/span&gt;
&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;gridspec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GridSpec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# The first subplots is on the first row and span over all columns.&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:])&lt;/span&gt;

&lt;span class="c1"&gt;# The second subplot is on the first column of the second row.&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="c1"&gt;# The third subplot is on the second column of the second row.&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="fe03ea17-dafe-4fae-b477-9c02b8c85e96"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#fe03ea17-dafe-4fae-b477-9c02b8c85e96');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Or we can have a subplot that spans over multiple rows&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# The first subplot is two rows high.&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="c1"&gt;# The second subplot is on the second column of the first row.&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="c1"&gt;# The third subplot is on the second column of the second row.&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="bc3cadb4-935e-47e3-9799-0c3606ed97b8"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#bc3cadb4-935e-47e3-9799-0c3606ed97b8');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Using &lt;code&gt;gridspec&lt;/code&gt;, we can also have different sizes for each subplot by specifying ratios for &lt;em&gt;width&lt;/em&gt; and &lt;em&gt;heights&lt;/em&gt;.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;gridspec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GridSpec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;width_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="c1"&gt;# The second column is two times larger than the first one.&lt;/span&gt;
                      &lt;span class="n"&gt;height_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# The first row is four times higher than the second one.&lt;/span&gt;
                     &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# In this example, I use a different way to refer to a grid element.&lt;/span&gt;
&lt;span class="c1"&gt;# Note that it is not clear in which part of the grid the subplot is.&lt;/span&gt;
&lt;span class="n"&gt;ax1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;# same as plt.subplot(G[0, 0])&lt;/span&gt;
&lt;span class="n"&gt;ax2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;# same as plt.subplot(G[0, 1])&lt;/span&gt;
&lt;span class="n"&gt;ax3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;# same as plt.subplot(G[1, 0])&lt;/span&gt;
&lt;span class="n"&gt;ax4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;# same as plt.subplot(G[1, 1])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="8123e25b-cb27-409b-a087-8a3955267b69"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#8123e25b-cb27-409b-a087-8a3955267b69');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Artists"&gt;Artists&lt;a class="anchor-link" href="#Artists"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Artists&lt;/code&gt; are everything we can see on a &lt;code&gt;Figure&lt;/code&gt;. Most of them are tied to an &lt;code&gt;Axes&lt;/code&gt;.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Plotting"&gt;Plotting&lt;a class="anchor-link" href="#Plotting"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I won't spend to much time on the ploting functions. Everybody has already used them extensively and there are a lot of tutorials out there.&lt;br&gt;
I'll just add that the plotting functions we usually call using pyplot (e.g. &lt;code&gt;plt.scatter()&lt;/code&gt;) can be called on Axes: &lt;code&gt;ax.scatter()&lt;/code&gt;. This make it easy to manage multiple subplots&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Plot different charts on each axes.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Embarked&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Pclass&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="c1"&gt;# Customize a bit.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Embarked&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Pclass&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="e36e0950-c366-4fbd-9400-d0dfed45873d"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#e36e0950-c366-4fbd-9400-d0dfed45873d');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="600"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Customization"&gt;Customization&lt;a class="anchor-link" href="#Customization"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now that we have set the layout and plot some data, we can have a look at how to customize the elements or &lt;code&gt;Artists&lt;/code&gt; of our plot.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Axis-and-Ticks"&gt;Axis and Ticks&lt;a class="anchor-link" href="#Axis-and-Ticks"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Axis&lt;/code&gt; are the X and Y axis of our plot, not to be confused with the &lt;code&gt;Axes&lt;/code&gt;.&lt;br&gt;
Each &lt;code&gt;Axis&lt;/code&gt; has &lt;code&gt;Ticks&lt;/code&gt; that can also be customized. Let's look at a sample plot.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="2f5d36ab-3b43-48a1-85a3-e4b1d9cd260e"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#2f5d36ab-3b43-48a1-85a3-e4b1d9cd260e');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The &lt;code&gt;Ticks&lt;/code&gt; on the X-axis are the marks with the numbers 0 to 10 and the ticks on the Y-axis are the marks with numbers 0 to 100.&lt;br&gt;
&lt;strong&gt;Customizing the axis&lt;/strong&gt;&lt;br&gt;
Some useful customizations on the axis are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ax.set_xlabel()&lt;/code&gt;, &lt;code&gt;ax.set_ylabel()&lt;/code&gt;: add a label to the axis&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ax.set_xlim()&lt;/code&gt;, &lt;code&gt;ax.set_ylim()&lt;/code&gt;: to set the data limits on the axis. We can use &lt;code&gt;get_xlim()&lt;/code&gt; or &lt;code&gt;get_ylim()&lt;/code&gt; to see what are those limits.  &lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;strong&gt;Customizing the ticks&lt;/strong&gt;
We can customize the &lt;code&gt;Ticks&lt;/code&gt; using the &lt;code&gt;tick_params()&lt;/code&gt; method.&lt;br&gt;
The most useful options are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;bottom, top, left, right&lt;/strong&gt;: set to True/False or 'on'/'off' to show or hide the ticks&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;labelbottom, labeltop, labelleft, labelright&lt;/strong&gt;: set to True/False or 'on'/'off' to show or hide the ticks labels&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;labelrotation&lt;/strong&gt;: rotate the tick labels&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;labelsize&lt;/strong&gt;: resize the ticks labels&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;labelolor&lt;/strong&gt;: change the color of ticks labels&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;color&lt;/strong&gt;: change the ticks colors&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Add labels.&lt;/span&gt;
&lt;span class="c1"&gt;# We can also use LaTex notations in titles and labels.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$x$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$y = x^2$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Reduce the axis limites to let the line touch the borders.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Customize the ticks.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;labelleft&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;labelcolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;labelsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
               &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
               &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;inout&amp;#39;&lt;/span&gt;
              &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="29b722f1-d997-4e9f-a721-a4e956a05c66"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#29b722f1-d997-4e9f-a721-a4e956a05c66');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Spines"&gt;Spines&lt;a class="anchor-link" href="#Spines"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The spines are the lines that surround your plot. Two of them define the X and Y axis. The two others close the frame.&lt;br&gt;
We can set bounds to limit the spine length and show or hide a spine.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shorten the spines used for the x and y axis.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_bounds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_bounds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Other customizations.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_linewidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Remove the two other spinces&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="d92659ee-74e8-4e36-b28d-2efe87743121"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#d92659ee-74e8-4e36-b28d-2efe87743121');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Bars,-lines,-markers,-..."&gt;Bars, lines, markers, ...&lt;a class="anchor-link" href="#Bars,-lines,-markers,-..."&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Plotting functions return objects. For example &lt;code&gt;ax.bar(x, y)&lt;/code&gt; returns a container with all the bars. We can catch the bars and call methods on them.&lt;br&gt;
We can find the methods in the matplotlib &lt;a href="https://matplotlib.org/api/_as_gen/matplotlib.patches.Rectangle.html#matplotlib.patches.Rectangle"&gt;documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We can get the bars attributes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get_height()&lt;/li&gt;
&lt;li&gt;get_width()&lt;/li&gt;
&lt;li&gt;get_x(), get_y(), get_xy()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;or set a new value for those attributes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;set_height()&lt;/li&gt;
&lt;li&gt;set_width()&lt;/li&gt;
&lt;li&gt;set_x(), set_y(), set_xy()&lt;/li&gt;
&lt;li&gt;set_color()&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Lets create some bars.&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# We can get the height of the bars.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bars[&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;]&lt;/span&gt;&lt;span class="se"&gt;\&amp;#39;&lt;/span&gt;&lt;span class="s1"&gt;s height = &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;

&lt;span class="c1"&gt;# Or we can set a different color for the third bar.&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Or set a different width for the first bar.&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_width&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;bars[0]&amp;#39;s height = 2
bars[1]&amp;#39;s height = 6
bars[2]&amp;#39;s height = 7
bars[3]&amp;#39;s height = 3
bars[4]&amp;#39;s height = 4
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="fd90940c-b534-439e-b48a-da61a108b5cf"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#fd90940c-b534-439e-b48a-da61a108b5cf');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The &lt;code&gt;hist()&lt;/code&gt; method returns an array of the bins values, an array of bins and the patches used to draw the histogram.
In the following example, I'll look at the age distribution of the Titanic's passengers. I'll set a different color to the highest bar to have it stand out.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;bins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;95&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Get the value of each bin.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;bin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bin &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;: &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt; passengers&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;bin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="c1"&gt;# Change the highest bin color.&lt;/span&gt;
&lt;span class="n"&gt;max_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;max_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;bin 0: 40 passengers
bin 5: 22 passengers
bin 10: 16 passengers
bin 15: 86 passengers
bin 20: 114 passengers
bin 25: 106 passengers
bin 30: 95 passengers
bin 35: 72 passengers
bin 40: 48 passengers
bin 45: 41 passengers
bin 50: 32 passengers
bin 55: 16 passengers
bin 60: 15 passengers
bin 65: 4 passengers
bin 70: 6 passengers
bin 75: 0 passengers
bin 80: 1 passengers
bin 85: 0 passengers
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="84671376-61e7-430d-966e-606789b34fc5"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#84671376-61e7-430d-966e-606789b34fc5');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Annotations"&gt;Annotations&lt;a class="anchor-link" href="#Annotations"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We can add text to our plot with &lt;code&gt;ax.annotation()&lt;/code&gt; and &lt;code&gt;ax.text()&lt;/code&gt;.&lt;br&gt;
&lt;code&gt;ax.annotation('text', (x, y)&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ax.text(x, y, 'text', **kwargs)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If needed, we can add arrows to point our annotation to a specific point. Just use &lt;code&gt;ax.arrow(x, y, dx, dy)&lt;/code&gt; where &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; are the coordinates of the origin of the arrow and &lt;code&gt;dx&lt;/code&gt;, &lt;code&gt;dy&lt;/code&gt; are the length of the arrow along the coordinates.&lt;br&gt;
We can also add more arguments to customize the arrow:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;width&lt;/strong&gt;: width of the arrow tail&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;head_width&lt;/strong&gt;: width of the arrow head&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;head_length&lt;/strong&gt;: length of the arrow head&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;shape&lt;/strong&gt;: shape of the arrow head ('full', 'left' or 'right')&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;edgecolor&lt;/strong&gt;, &lt;strong&gt;facecolor&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;color&lt;/strong&gt; (will override edgecolor and facecolor)&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's look at an example.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
        &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
        &lt;span class="s1"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Add an arrow that starts at &amp;#39;foo&amp;#39; and point at the line.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arrow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;48&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;44&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;length_includes_head&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;head_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# We can also set an arrow in the annotate method.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;quz&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
            &lt;span class="n"&gt;xytext&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="c1"&gt;# text coordinates &lt;/span&gt;
            &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;7.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;   &lt;span class="c1"&gt;# arrow head coordinates&lt;/span&gt;
            &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arrowstyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="a51289e7-a61a-4218-ab26-a2b83d37e381"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#a51289e7-a61a-4218-ab26-a2b83d37e381');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Practice"&gt;Practice&lt;a class="anchor-link" href="#Practice"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now, let's use everything we've learn to create some nice visualizations.&lt;/p&gt;
&lt;h3 id="Exercise-1"&gt;Exercise 1&lt;a class="anchor-link" href="#Exercise-1"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In this first exercise, I am going to improve a simple bar chart showing the number of passengers per port of embarkation.&lt;br&gt;
Here's the default chart rendered by pyplot.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Embarked&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="1d2a2270-a63a-4c3b-aa02-2cbd8ecb3270"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#1d2a2270-a63a-4c3b-aa02-2cbd8ecb3270');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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dQjAut6Q9gf3o4U9nuSvhpcvyzhfAvYvgCYAAYoTgHU9I8kFS/tKkpuHlzd+COTNCx9zVlb/EMhZC7e5In4IxLbJABiHAJyXQ3ny08AcTvvXwP1JPpfVTwPz2eH9lw239zQwti0GwDgE4LwcyvEBeEZazD2Y5NG0J3w+e+ljzkny6eH9Dw63373G7ykATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6SUATQACFCMA6/qNJF9N8vCwLyW5fOH9u5PckOSBJI8k+VSS5y39GuckuXV4/wNJPpDk9DU/DwFoAhCgGAFY199N8vokPzPsd5IcS3L+8P4bk3w3yWuT7E/y+SR3JTlteP9pSe4Z3r5/uN19adG4DgFoAhCgGAE4L3+e5B8meWZaDF6x8L69SX6c5HXD65cPr+9duM2VSR7LeheDADQBCFCMAJyH09Li7WiSn03ymrQ/1D1Lt7s7yXuGl987vL5oz/Bxrz7B77U77WLZ2L4IQBOAAKUIwNp+LslfJvlRkofSviScJFelxeCyzyT58PDyTcPry44mecsJfs+DaRfMcROAJgAB6hCAtZ2e5MVJfjHJ+5L8Wdq/AG4WgHcm+dDw8k1J7lhxm2Np/5q4Gf8CaAIQoDgBOC+fTfsXvjG/BLzM9wCaAAQoRgDOy+eSfDRP/BDImxfed1ZW/xDIWQu3uSJ+CMS2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" width="640"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I am going to remove unecessary elements and change the colors.&lt;br&gt;
I'll add some meaningful information like labels and values on bars and a title.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Embarked&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lightslategrey&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Remove the frame.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_frame_on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# We need only 3 ticks (one per bar).&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# We don&amp;#39;t want the ticks, only the labels.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Southampton&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cherbourg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Queenstown&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                   &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fontsize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="s1"&gt;&amp;#39;verticalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="s1"&gt;&amp;#39;horizontalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="p"&gt;})&lt;/span&gt;

&lt;span class="c1"&gt;# Remove ticks on the y axis and show values in the bars.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;labelleft&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Add the values on each bar.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# x coordinate&lt;/span&gt;
            &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;              &lt;span class="c1"&gt;# y coordinate&lt;/span&gt;
            &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;                             &lt;span class="c1"&gt;# text&lt;/span&gt;
            &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;                       &lt;span class="c1"&gt;# horizontal alignment&lt;/span&gt;
            &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;                          &lt;span class="c1"&gt;# vertical alignment&lt;/span&gt;
            &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;                         &lt;span class="c1"&gt;# text color&lt;/span&gt;
            &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 

&lt;span class="c1"&gt;# Use a different color for the first bar.&lt;/span&gt;
&lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;firebrick&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Add a title.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Most of passengers embarked at Southampton&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fontsize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;fontweight&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;verticalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;baseline&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;horizontalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="659701b7-c388-4bea-b764-b4c7b289d0fb"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#659701b7-c388-4bea-b764-b4c7b289d0fb');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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AGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGRvkQBAQAYAAVE+hIFBABgABQQ6UsUEACAAVBApC9RQAAABkABkb5EAQEAGAAFRPoSBQQAYAAUEOlLFBAAgAFQQKQvUUAAAAZAAZG+RAEBABgABUT6EgUEAGAAFBDpSxQQAIABUECkL1FAAAAGQAGR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6Xr97G854m0nlFJKOesz588d+4wXH1puuPGmsnPnrvLcfzq882Xva7reB4AFKSDSlyggIrPT9X4wT9frZ3/LZ86/uJRSymFHHzd37JFvP7GUUsoZn/5s58vd53S9DwALUkCkL1FARGan6/1gnq7Xz/6Uf3jVEWX37t3l6muvK0994avnjj/3gktKKaUc+oZ3dr7sfU7X+wCwIAVE+hIFRGR2ut4P5ul6/exPOeEDp5ZSSjnx5NPmjn3Bvx5Zdt92W7nq6mvLU3uw7H1O1/sAsCAFRPoSBURkdrreD+bpev3sL3nqCw4uV119bdl9223lBf965NzxJ558WimllBM+cGrny973dL0PAAtSQKQvUUBEZqfr/WCertfP/pJD3/DOUkop51xw8dyxT33BweVL11xXdu/e7W9/LJCu9wFgQQqI9CUKiMjsdL0fzNP1+tlfcsanzyullHLE20+cO/awo48rpZRy9mcv6ny594d0vQ8AC1JApC9RQERmp+v9YJ6u18/+kOe8fLXs3LmrXH/jTeXpLz5k7vgzzz6/lFLK6956fOfLvj+k630AWJACIn2JAiIyO13vB/N0vX72hxxz4smllFJO+ugn5o597j8dXnbu2lWuu+HG8vQXzS8r0v99BBhRQKQvUUBEZqfr/WCertfP/pDLvnBlKaWUlx569Nyxx777g6WUUt7/4TM6X+79JV3vA8CCFBDpSxQQkdnpej+Yp+v10/f88+FvKaWUcuHnLl9o/OevuKqUUspLDnlD58u+v6TrfQBYkAIifYkCIjI7Xe8H83S9fkS63geABSkg0pcoICKz0/V+ME/X60ek630AWJACIn2JAiIyO13vB/N0vX5Eut4HgAUpINKXKCAis9P1fjBP1+tHpOt9AFiQAiJ9iQIiMjtd7wfzdL1+RLreB4AFKSDSlyggIrPT9X4wT9frR6TrfQBYkAIifYkCIjI7Xe8H83S9fkS63geABSkg0pcoICKz0/V+ME/X60ek630AWJACIn2JAiIyO13vB/N0vX5Eut4HgAUpINKXKCAis9P1fjBP1+tHpOt9AFiQAiJ9iQIiMjtd7wfzdL1+RLreB4AFKSDSlyggIrPT9X4wT9frR6TrfQBYkAIifYkCIjI7Xe8H83S9fkS63geABSkg0pcoICKz0/V+ME/X60ek630AWJACIn2JAiIyO13vB/N0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" width="800"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Exercise-2"&gt;Exercise 2&lt;a class="anchor-link" href="#Exercise-2"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In this second exercise, I am going to plot the distribution of passengers per age and color the bars depending on survival rate.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;111&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;age_bins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;95&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;age_bins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_bounds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_bounds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_cmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;viridis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;survival&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Age&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Age&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Survived&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;survival&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Age&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Survived&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;bars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;survival&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;

&lt;span class="c1"&gt;# Add colorbar.&lt;/span&gt;
&lt;span class="c1"&gt;# The survival rate is already normalized so we don&amp;#39;t need norm=plt.Normalize(vmin=0, vmax=1).&lt;/span&gt;
&lt;span class="c1"&gt;# I left it as an example.&lt;/span&gt;
&lt;span class="n"&gt;sm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScalarMappable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Normalize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; 
&lt;span class="n"&gt;sm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_A&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
&lt;span class="c1"&gt;# Add a title.&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Survival rate per passenger age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fontsize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;fontweight&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;verticalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;baseline&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;&amp;#39;horizontalalignment&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;





&lt;div id="9fabf513-a099-4111-af0a-c9b022de81d4"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_javascript "&gt;
&lt;script type="text/javascript"&gt;
var element = $('#9fabf513-a099-4111-af0a-c9b022de81d4');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support.' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('&lt;div/&gt;');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '&lt;div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/&gt;');
    var titletext = $(
        '&lt;div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/&gt;');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('&lt;div/&gt;');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('&lt;canvas/&gt;');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('&lt;canvas/&gt;');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY &lt; 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('&lt;button/&gt;');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('&lt;span/&gt;');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('&lt;span/&gt;');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('&lt;span/&gt;');

    var fmt_picker = $('&lt;select/&gt;');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '&lt;option/&gt;', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option)
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('&lt;span class="mpl-message"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width, fig.canvas.height);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' &amp;&amp; evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey &amp;&amp; event.which != 17)
        value += "ctrl+";
    if (event.altKey &amp;&amp; event.which != 18)
        value += "alt+";
    if (event.shiftKey &amp;&amp; event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to  previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overriden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket-&gt;open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("&lt;div id='" + id + "'&gt;&lt;/div&gt;");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('&lt;img src="' + dataURL + '" width="' + width + '"&gt;');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '&lt;img src="' + dataURL + '" width="' + width + '"&gt;';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('&lt;div/&gt;')
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('&lt;button class="btn btn-default" href="#" title="' + name + '"&gt;&lt;i class="fa ' + image + ' fa-lg"&gt;&lt;/i&gt;&lt;/button&gt;');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('&lt;span class="mpl-message" style="text-align:right; float: right;"/&gt;');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('&lt;div class="btn-group inline pull-right"&gt;&lt;/div&gt;');
    var button = $('&lt;button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"&gt;&lt;i class="fa fa-power-off icon-remove icon-large"&gt;&lt;/i&gt;&lt;/button&gt;');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey &amp;&amp; event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i&lt;ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j&lt;cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython &gt;= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;img src="data:image/png;base64,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" width="1000"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
 

&lt;/p&gt;</content><category term="python"></category><category term="visualization"></category><category term="matplotlib"></category></entry></feed>